import{a as $e}from"./chunk-6Q74FYJP.js";import{a as _e}from"./chunk-WACOHYZX.js";import{a as qe,b as He}from"./chunk-STQ5DY3V.js";import{d as ct,f as pt,g as xt}from"./chunk-SGTNLNZW.js";import{w as ft,x as gt,y as ht}from"./chunk-OJYV446X.js";import{a as vt}from"./chunk-CHMQDSFV.js";import{a as Le}from"./chunk-26ZB6XY4.js";import{a as ut}from"./chunk-PXIFBYDN.js";import{a as he}from"./chunk-GW7PBGRF.js";import{Fa as o,Fb as it,Ga as a,Ha as F,I as st,Ia as ee,Ib as ze,J as Ve,Jb as xe,Ka as z,L as tt,La as p,Lb as Re,Mb as Pe,P as G,Pb as je,Q as U,Qa as ce,Qb as Ge,R as Ne,Ra as pe,Rb as Ue,S as Ae,Sa as ve,Sb as Be,Tb as Qe,Vb as dt,Wa as x,Xa as me,Ya as ae,c as fe,ia as Z,la as l,pa as Q,qb as De,rb as ge,sb as te,ta as W,ua as Oe,ub as mt,wa as D,za as m}from"./chunk-XSD7VU42.js";var re=class t{constructor(i,e){this.apiService=i;this.util=e}eventList=[];eventColorStyleList=[{borderGradientColor:"emerald-500",categoryTextColor:"emerald-700",categoryAnimationColor:"emerald-500",titleTextColor:"emerald-500",buttonColor:"emerald-500",titleTextColorModal:"emerald-700",categoryTextColorModal:"emerald-600",categoryAnimationColorModal:"emerald-500"},{borderGradientColor:"purple-500",categoryTextColor:"purple-600",categoryAnimationColor:"purple-600",titleTextColor:"purple-500",buttonColor:"purple-600",titleTextColorModal:"purple-600",categoryTextColorModal:"purple-600",categoryAnimationColorModal:"purple-600"},{borderGradientColor:"blue-500",categoryTextColor:"blue-700",categoryAnimationColor:"blue-600",titleTextColor:"blue-500",buttonColor:"blue-600",titleTextColorModal:"blue-700",categoryTextColorModal:"blue-600",categoryAnimationColorModal:"blue-600"}];getAllEvents(){return this.eventList=[],this.apiService.httpGet("/event/public/all")}parseFormDataToEventInterface(i,e){return fe(this,null,function*(){let n=i.value;return{id:n.id,title:n.title,date:n.date,content:n.content,images:n.images,files:e}})}createEvent(i){let e=new FormData,n={title:i.title,date:i.date,content:i.content,images:[]};e.append("event",new Blob([JSON.stringify(n)],{type:"application/json"})),console.log([JSON.stringify(n)]);for(let r=0;r<i.files.length;r++){let s=i.files[r];e.append("files",s)}this.apiService.httpPost("/event/marketing/event",e).subscribe(r=>{(r.status=200)&&window.location.reload()})}deleteEvent(i){this.apiService.httpDelete("/event/marketing/event/"+i).subscribe(e=>{(e.status=200)&&window.location.reload()})}editEvent(i){for(let r=0;r<i.files.length;r++){let s=i.files[r];if(i.images.includes(s.name)){let c=i.images.findIndex(I=>I===s.name);i.images.splice(c,1)}}let e=new FormData,n={title:i.title,date:i.date,content:i.content,images:i.images};if(e.append("event",new Blob([JSON.stringify(n)],{type:"application/json"})),console.log([JSON.stringify(n)]),i.files)for(let r=0;r<i.files.length;r++){let s=i.files[r];e.append("files",s)}this.apiService.httpPut("/event/marketing/event/"+i.id,e).subscribe(r=>{(r.status=200)&&window.location.reload()})}formValidation(i,e){if(i.invalid)return{isValid:!1,errorCode:"ERROR: No se pudo crear el evento. Falta un campo obligatorio."};let n=i.value;for(let[r,s]of Object.entries(n))if(r!="date"&&r!="images"&&r!="files"&&s!=null&&!this.util.textValidation(s))return{isValid:!1,errorCode:"ERROR: No se pudo crear el evento. Se ha introducido un car\xE1cter no admitido (<>&/)."};for(let r of e)if(!this.util.imageValidation(r))return{isValid:!1,errorCode:"ERROR: No se pudo crear el evento. Una de la im\xE1genes est\xE1 en un formato no admitido."};return{isValid:!0,errorCode:null}}static \u0275fac=function(e){return new(e||t)(tt(he),tt(_e))};static \u0275prov=st({token:t,factory:t.\u0275fac,providedIn:"root"})};function Nt(t,i){if(t&1&&(o(0,"p",18),x(1),a()),t&2){let e=p(2);l(),me(e.errorMessage)}}function At(t,i){if(t&1){let e=ee();o(0,"div",1),z("mousedown",function(){G(e);let r=p();return U(r.closeModal())}),o(1,"div",2),z("mousedown",function(r){return G(e),U(r.stopPropagation())}),o(2,"button",3),z("click",function(){G(e);let r=p();return U(r.closeModal())}),x(3,"\xD7"),a(),o(4,"form",4),z("ngSubmit",function(){G(e);let r=p();return U(r.onSubmit())}),o(5,"h2",5),x(6,"Crear Nuevo Evento"),a(),o(7,"p"),x(8,"*T\xEDtulo: "),a(),F(9,"input",6),o(10,"p"),x(11,"*Fecha: "),a(),F(12,"input",7),o(13,"p"),x(14,"Contenido: "),a(),F(15,"input",8),o(16,"p"),x(17,"*Im\xE1genes: "),a(),o(18,"p",9),x(19,'Para subir varias im\xE1genes, seleccionarlas desde el explorador y pulsar en "Subir".'),a(),F(20,"img",10),o(21,"span",11),x(22,"Formatos admitidos: .png, .jpg, .jpeg"),a(),o(23,"input",12),z("change",function(r){G(e);let s=p();return U(s.onFileSelected(r))}),a(),o(24,"label",13),Ne(),o(25,"svg",14),F(26,"path",15),a(),x(27),a(),D(28,Nt,2,1,"p",16),Ae(),o(29,"button",17),z("click",function(){G(e);let r=p();return U(r.onSubmit())}),x(30," Crear Evento "),a()()()()}if(t&2){let e=p();l(4),m("formGroup",e.eventForm),l(16),m("src","assets/tutorial/tutorial_event.png",Z),l(7),ae(" ",e.fileNames||"Elegir archivos"," "),l(),m("ngIf",e.errorActive)}}var Ce=class t{constructor(i,e){this.fb=i;this.eventService=e}isVisible;eventForm;errorMessage;errorActive;selectedFiles;fileNames;fileTypes;newEvent;ngOnInit(){this.isVisible=!1,this.errorActive=!1,this.eventForm=this.fb.group({id:[""],title:["",xe.required],date:["",xe.required],content:[""],images:[[]],files:[[]]})}showModal(){this.isVisible=!0,document.body.style.overflow="hidden"}showError(i){this.errorMessage=i,this.errorActive=!0}hideError(){this.errorActive=!1}closeModal(){this.isVisible=!1,this.hideError(),document.body.style.overflow="",this.eventForm.reset()}onFileSelected(i){this.selectedFiles=i.target.files,this.fileNames=[],this.fileTypes=[];for(let e=0;e<this.selectedFiles.length;e++){let n=this.selectedFiles[e];this.fileNames.push(n?.name),this.fileTypes.push(n?.type)}}onSubmit(){return fe(this,null,function*(){let i=this.eventService.formValidation(this.eventForm,this.fileTypes);i.isValid&&this.selectedFiles&&this.selectedFiles.length>0?(this.eventService.createEvent(yield this.eventService.parseFormDataToEventInterface(this.eventForm,this.selectedFiles)),this.closeModal()):this.showError(i.errorCode)})}static \u0275fac=function(e){return new(e||t)(Q(Qe),Q(re))};static \u0275cmp=W({type:t,selectors:[["app-event-form"]],standalone:!1,decls:1,vars:1,consts:[["class","modal-backdrop",3,"mousedown",4,"ngIf"],[1,"modal-backdrop",3,"mousedown"],[1,"relative","bg-white","rounded-2xl","shadow-2xl","w-full","max-w-3xl","sm:max-w-4xl","md:max-w-5xl","overflow-hidden","animate-fadeIn","flex","flex-col","h-auto","max-h-[90vh]","sm:h-[85vh]","overflow-y-auto","mt-4","mb-4",3,"mousedown"],[1,"absolute","top-3","right-3","text-gray-500","hover:text-gray-800","text-3xl","font-bold","leading-none","z-10",3,"click"],["id","news_form",1,"flex","flex-col","gap-4","p-6",3,"ngSubmit","formGroup"],[1,"text-2xl","sm:text-3xl","font-extrabold","text-emerald-700","mb-8"],["type","text","formControlName","title","placeholder","T\xEDtulo de la noticia.","required","",1,"input-news"],["type","date","formControlName","date","placeholder","dd/mm/yyyy","required","",1,"input-news"],["type","text","formControlName","content","placeholder","Autor de la noticia.",1,"input-news"],[1,"text-sm","text-red-600"],[3,"src"],[1,"text-sm","text-gray-600"],["id","file-upload","type","file","multiple","","accept","image/png, image/jpeg, .png, .jpg",1,"hidden",3,"change"],["for","file-upload",1,"cursor-pointer","inline-flex","items-center","px-4","py-2","bg-gray-200","text-gray-700","rounded-md","border","border-gray-300","hover:bg-gray-300"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-5","w-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","d","M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"],["id","errorMessage","class","text-sm text-red-600 mt-2",4,"ngIf"],["type","submit",1,"w-full","inline-flex","items-center","justify-center","px-4","py-2","sm:px-5","sm:py-10","text-xl","font-semibold","text-white","bg-gradient-to-r","from-emerald-600","to-cyan-600","hover:from-emerald-700","hover:to-cyan-700","rounded-lg","transition-all","duration-300","transform","hover:scale-102","hover:shadow-lg",3,"click"],["id","errorMessage",1,"text-sm","text-red-600","mt-2"]],template:function(e,n){e&1&&D(0,At,31,4,"div",0),e&2&&m("ngIf",n.isVisible)},dependencies:[te,je,ze,Re,Pe,Be,Ge,Ue],styles:[".modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000b3;z-index:999;display:flex;justify-content:center;align-items:center;overflow:hidden}.input-news[_ngcontent-%COMP%], .input-news-high[_ngcontent-%COMP%]{border:1px solid #d1d5db;border-radius:.25rem;padding:.5rem .75rem;width:100%;box-sizing:border-box;transition:box-shadow .2s,border-color .2s}  mat-form-field.mat-form-field{color:#059669!important}"]})};var Ke=class t{constructor(i){this.util=i}deletedImageName;eventItem;selectedFiles;fileNames;fileTypes;getFileName(){return this.util.extractBaseFileName(this.deletedImageName)}onDelete(){let i=this.eventItem.images.findIndex(e=>e===this.deletedImageName);if(i!==-1){this.eventItem.images.splice(i,1);let e=this.fileNames.findIndex(n=>n===this.deletedImageName);e!==-1&&this.fileNames.splice(e,1)}else{let e=this.eventItem.images.length,n=this.fileNames.findIndex((r,s)=>s>=e&&r===this.deletedImageName);if(n!==-1){this.fileNames.splice(n,1);let r=n-e;r>=0&&r<this.selectedFiles.length&&(this.selectedFiles.splice(r,1),this.fileTypes.splice(r,1))}else console.warn(`[Borrado] Archivo nuevo no encontrado: ${this.deletedImageName}`)}}static \u0275fac=function(e){return new(e||t)(Q(_e))};static \u0275cmp=W({type:t,selectors:[["app-event-edit-image-item"]],inputs:{deletedImageName:"deletedImageName",eventItem:"eventItem",selectedFiles:"selectedFiles",fileNames:"fileNames",fileTypes:"fileTypes"},standalone:!1,decls:5,vars:1,consts:[[1,"flex","items-center"],[1,"flex-grow","text-gray-700","m-0","mr-4"],["type","button",1,"text-gray-500","hover:text-gray-800","text-3xl","font-bold","leading-none","z-10",3,"click"]],template:function(e,n){e&1&&(o(0,"div",0)(1,"p",1),x(2),a(),o(3,"button",2),z("click",function(){return n.onDelete()}),x(4," \xD7 "),a()()),e&2&&(l(2),me(n.getFileName()))},encapsulation:2})};function Lt(t,i){if(t&1&&F(0,"app-event-edit-image-item",19),t&2){let e=i.$implicit,n=p(2);m("eventItem",n.eventItem)("deletedImageName",e)("selectedFiles",n.selectedFiles)("fileNames",n.fileNames)("fileTypes",n.fileTypes)}}function zt(t,i){if(t&1&&(o(0,"p",20),x(1),a()),t&2){let e=p(2);l(),me(e.errorMessage)}}function Rt(t,i){if(t&1){let e=ee();o(0,"div",1),z("mousedown",function(){G(e);let r=p();return U(r.closeModal())}),o(1,"div",2),z("mousedown",function(r){return G(e),U(r.stopPropagation())}),o(2,"button",3),z("click",function(){G(e);let r=p();return U(r.closeModal())}),x(3,"\xD7"),a(),o(4,"form",4),z("ngSubmit",function(){G(e);let r=p();return U(r.onSubmit())}),o(5,"h2",5),x(6,"Editar Evento"),a(),o(7,"p"),x(8,"*T\xEDtulo: "),a(),F(9,"input",6),o(10,"p"),x(11,"*Fecha: "),a(),F(12,"input",7),o(13,"p"),x(14,"Contenido: "),a(),F(15,"input",8),o(16,"p"),x(17,"*Im\xE1genes: "),a(),o(18,"p",9),x(19,'Para subir varias im\xE1genes, seleccionarlas desde el explorador y pulsar en "Subir".'),a(),F(20,"img",10),o(21,"p"),x(22,"Subir nueva imagen: "),a(),o(23,"span",11),x(24,"Formatos admitidos: .png, .jpg, .jpeg"),a(),o(25,"input",12),z("change",function(r){G(e);let s=p();return U(s.onFileSelected(r))}),a(),o(26,"label",13),Ne(),o(27,"svg",14),F(28,"path",15),a(),x(29," A\xF1adir archivo "),a(),Ae(),o(30,"p"),x(31,"Borrar una imagen: "),a(),D(32,Lt,1,5,"app-event-edit-image-item",16)(33,zt,2,1,"p",17),o(34,"button",18),z("mousedown",function(){G(e);let r=p();return U(r.onSubmit())}),x(35," Editar Evento "),a()()()()}if(t&2){let e=p();l(4),m("formGroup",e.eventForm),l(16),m("src","assets/tutorial/tutorial_event.png",Z),l(12),m("ngForOf",e.fileNames),l(),m("ngIf",e.errorActive)}}var Ee=class t{constructor(i,e,n){this.fb=i;this.eventService=e;this.util=n}isVisible;eventForm;errorMessage;errorActive;selectedFiles;fileNames;fileTypes;eventItem;editEvent;ngOnInit(){this.isVisible=!1,this.errorActive=!1,console.log(this.eventItem)}resetForm(){this.selectedFiles=[],this.fileTypes=[],this.fileNames=[...this.eventItem.images],this.eventForm=this.fb.group({id:[this.eventItem.id],title:[this.eventItem.title,xe.required],date:[this.eventItem.date,xe.required],content:[this.eventItem.content],images:[this.eventItem.images],files:[[]]})}showModal(){this.isVisible=!0,document.body.style.overflow="hidden",this.resetForm(),console.log(this.fileNames),console.log(this.selectedFiles),console.log(this.fileTypes)}showError(i){this.errorMessage=i,this.errorActive=!0}hideError(){this.errorActive=!1}closeModal(){this.isVisible=!1,this.hideError(),document.body.style.overflow="",this.resetForm(),window.location.reload()}onFileSelected(i){let e=Array.from(i.target.files);for(let n of e)this.selectedFiles.push(n),this.fileNames.push(n.name),this.fileTypes.push(n.type);i.target.value=null}onSubmit(){return fe(this,null,function*(){let i=this.eventService.formValidation(this.eventForm,this.fileTypes);i.isValid&&(this.selectedFiles||this.fileNames)&&this.fileNames.length>0?(this.eventService.editEvent(yield this.eventService.parseFormDataToEventInterface(this.eventForm,this.selectedFiles)),this.closeModal()):(i.isValid||this.showError(i.errorCode),this.showError("ERROR: No se pudo crear el evento. Falta un campo obligatorio."))})}static \u0275fac=function(e){return new(e||t)(Q(Qe),Q(re),Q(_e))};static \u0275cmp=W({type:t,selectors:[["app-event-edit-form"]],inputs:{eventItem:"eventItem"},standalone:!1,decls:1,vars:1,consts:[["class","modal-backdrop",3,"mousedown",4,"ngIf"],[1,"modal-backdrop",3,"mousedown"],[1,"relative","bg-white","rounded-2xl","shadow-2xl","w-full","max-w-3xl","sm:max-w-4xl","md:max-w-5xl","overflow-hidden","animate-fadeIn","flex","flex-col","h-auto","max-h-[90vh]","sm:h-[85vh]","overflow-y-auto","mt-4","mb-4",3,"mousedown"],[1,"absolute","top-3","right-3","text-gray-500","hover:text-gray-800","text-3xl","font-bold","leading-none","z-10",3,"click"],["id","news_form",1,"flex","flex-col","gap-4","p-6",3,"ngSubmit","formGroup"],[1,"text-2xl","sm:text-3xl","font-extrabold","text-emerald-700","mb-8"],["type","text","formControlName","title","placeholder","T\xEDtulo de la noticia.","required","",1,"input-news"],["type","date","formControlName","date","placeholder","dd/mm/yyyy","required","",1,"input-news"],["type","text","formControlName","content","placeholder","Autor de la noticia.",1,"input-news"],[1,"text-sm","text-red-600"],[3,"src"],[1,"text-sm","text-gray-600"],["id","file-upload","type","file","multiple","","accept","image/png, image/jpeg, .png, .jpg",1,"hidden",3,"change"],["for","file-upload",1,"cursor-pointer","inline-flex","items-center","px-4","py-2","bg-gray-200","text-gray-700","rounded-md","border","border-gray-300","hover:bg-gray-300"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-5","w-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","d","M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"],[3,"eventItem","deletedImageName","selectedFiles","fileNames","fileTypes",4,"ngFor","ngForOf"],["id","errorMessage","class","text-sm text-red-600 mt-2",4,"ngIf"],["type","submit",1,"w-full","inline-flex","items-center","justify-center","px-4","py-2","sm:px-5","sm:py-10","text-xl","font-semibold","text-white","bg-gradient-to-r","from-emerald-600","to-cyan-600","hover:from-emerald-700","hover:to-cyan-700","rounded-lg","transition-all","duration-300","transform","hover:scale-102","hover:shadow-lg",3,"mousedown"],[3,"eventItem","deletedImageName","selectedFiles","fileNames","fileTypes"],["id","errorMessage",1,"text-sm","text-red-600","mt-2"]],template:function(e,n){e&1&&D(0,Rt,36,4,"div",0),e&2&&m("ngIf",n.isVisible)},dependencies:[ge,te,je,ze,Re,Pe,Be,Ge,Ue,Ke],styles:[".modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000b3;z-index:999;display:flex;justify-content:center;align-items:center;overflow:hidden}.input-news[_ngcontent-%COMP%], .input-news-high[_ngcontent-%COMP%]{border:1px solid #d1d5db;border-radius:.25rem;padding:.5rem .75rem;width:100%;box-sizing:border-box;transition:box-shadow .2s,border-color .2s}  mat-form-field.mat-form-field{color:#059669!important}"]})};var Se=function(){return Se=Object.assign||function(t){for(var i,e=1,n=arguments.length;e<n;e++)for(var r in i=arguments[e])Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r]);return t},Se.apply(this,arguments)};function wt(t,i,e){if(e||arguments.length===2)for(var n,r=0,s=i.length;r<s;r++)!n&&r in i||(n||(n=Array.prototype.slice.call(i,0,r)),n[r]=i[r]);return t.concat(n||Array.prototype.slice.call(i))}function yt(t){return Array.prototype.slice.call(t)}function Et(t,i){var e=Math.floor(t);return e===i||e+1===i?t:i}function St(){return Date.now()}function nt(t,i,e){if(i="data-keen-slider-"+i,e===null)return t.removeAttribute(i);t.setAttribute(i,e||"")}function Je(t,i){return i=i||document,typeof t=="function"&&(t=t(i)),Array.isArray(t)?t:typeof t=="string"?yt(i.querySelectorAll(t)):t instanceof HTMLElement?[t]:t instanceof NodeList?yt(t):[]}function Te(t){t.raw&&(t=t.raw),t.cancelable&&!t.defaultPrevented&&t.preventDefault()}function Me(t){t.raw&&(t=t.raw),t.stopPropagation&&t.stopPropagation()}function It(){var t=[];return{add:function(i,e,n,r){i.addListener?i.addListener(n):i.addEventListener(e,n,r),t.push([i,e,n,r])},input:function(i,e,n,r){this.add(i,e,function(s){return function(c){c.nativeEvent&&(c=c.nativeEvent);var I=c.changedTouches||[],M=c.targetTouches||[],f=c.detail&&c.detail.x?c.detail:null;return s({id:f?f.identifier?f.identifier:"i":M[0]?M[0]?M[0].identifier:"e":"d",idChanged:f?f.identifier?f.identifier:"i":I[0]?I[0]?I[0].identifier:"e":"d",raw:c,x:f&&f.x?f.x:M[0]?M[0].screenX:f?f.x:c.pageX,y:f&&f.y?f.y:M[0]?M[0].screenY:f?f.y:c.pageY})}}(n),r)},purge:function(){t.forEach(function(i){i[0].removeListener?i[0].removeListener(i[2]):i[0].removeEventListener(i[1],i[2],i[3])}),t=[]}}}function rt(t,i,e){return Math.min(Math.max(t,i),e)}function le(t){return(t>0?1:0)-(t<0?1:0)||+t}function bt(t){var i=t.getBoundingClientRect();return{height:Et(i.height,t.offsetHeight),width:Et(i.width,t.offsetWidth)}}function X(t,i,e,n){var r=t&&t[i];return r==null?e:n&&typeof r=="function"?r():r}function oe(t){return Math.round(1e6*t)/1e6}function jt(t){var i,e,n,r,s,c;function I(T){c||(c=T),M(!0);var N=T-c;N>n&&(N=n);var y=r[e];if(y[3]<N)return e++,I(T);var V=y[2],O=y[4],_=y[0],S=y[1]*(0,y[5])(O===0?1:(N-V)/O);if(S&&t.track.to(_+S),N<n)return k();c=null,M(!1),f(null),t.emit("animationEnded")}function M(T){i.active=T}function f(T){i.targetIdx=T}function k(){var T;T=I,s=window.requestAnimationFrame(T)}function q(){var T;T=s,window.cancelAnimationFrame(T),M(!1),f(null),c&&t.emit("animationStopped"),c=null}return i={active:!1,start:function(T){if(q(),t.track.details){var N=0,y=t.track.details.position;e=0,n=0,r=T.map(function(V){var O,_=Number(y),S=(O=V.earlyExit)!==null&&O!==void 0?O:V.duration,E=V.easing,B=V.distance*E(S/V.duration)||0;y+=B;var L=n;return n+=S,N+=B,[_,V.distance,L,n,V.duration,E]}),f(t.track.distToIdx(N)),k(),t.emit("animationStarted")}},stop:q,targetIdx:null}}function Gt(t){var i,e,n,r,s,c,I,M,f,k,q,T,N,y,V=1/0,O=[],_=null,S=0;function E(u){ie(S+u)}function B(u){var h=L(S+u).abs;return v(h)?h:null}function L(u){var h=Math.floor(Math.abs(oe(u/e))),d=oe((u%e+e)%e);d===e&&(d=0);var C=le(u),g=I.indexOf(wt([],I,!0).reduce(function(P,j){return Math.abs(j-d)<Math.abs(P-d)?j:P})),w=g;return C<0&&h++,g===c&&(w=0,h+=C>0?1:-1),{abs:w+h*c*C,origin:g,rel:w}}function R(u,h,d){var C;if(h||!$())return K(u,d);if(!v(u))return null;var g=L(d??S),w=g.abs,P=u-g.rel,j=w+P;C=K(j);var H=K(j-c*le(P));return(H!==null&&Math.abs(H)<Math.abs(C)||C===null)&&(C=H),oe(C)}function K(u,h){if(h==null&&(h=oe(S)),!v(u)||u===null)return null;u=Math.round(u);var d=L(h),C=d.abs,g=d.rel,w=d.origin,P=Y(u),j=(h%e+e)%e,H=I[w],ne=Math.floor((u-(C-g))/c)*e;return oe(H-j-H+I[P]+ne+(w===c?e:0))}function v(u){return A(u)===u}function A(u){return rt(u,f,k)}function $(){return r.loop}function Y(u){return(u%c+c)%c}function ie(u){var h;h=u-S,O.push({distance:h,timestamp:St()}),O.length>6&&(O=O.slice(-6)),S=oe(u);var d=b().abs;if(d!==_){var C=_!==null;_=d,C&&t.emit("slideChanged")}}function b(u){var h=u?null:function(){if(c){var d=$(),C=d?(S%e+e)%e:S,g=(d?S%e:S)-s[0][2],w=0-(g<0&&d?e-Math.abs(g):g),P=0,j=L(S),H=j.abs,ne=j.rel,Fe=s[ne][2],ke=s.map(function(se,Ft){var J=w+P;(J<0-se[0]||J>1)&&(J+=(Math.abs(J)>e-1&&d?e:0)*le(-J));var ot=Ft-ne,at=le(ot),we=ot+H;d&&(at===-1&&J>Fe&&(we+=c),at===1&&J<Fe&&(we-=c),q!==null&&we<q&&(J+=e),T!==null&&we>T&&(J-=e));var lt=J+se[0]+se[1],kt=Math.max(J>=0&&lt<=1?1:lt<0||J>1?0:J<0?Math.min(1,(se[0]+J)/se[0]):(1-J)/se[0],0);return P+=se[0]+se[1],{abs:we,distance:r.rtl?-1*J+1-se[0]:J,portion:kt,size:se[0]}});return H=A(H),ne=Y(H),{abs:A(H),length:n,max:y,maxIdx:k,min:N,minIdx:f,position:S,progress:d?C/e:S/n,rel:ne,slides:ke,slidesLength:e}}}();return i.details=h,t.emit("detailsChanged"),h}return i={absToRel:Y,add:E,details:null,distToIdx:B,idxToDist:R,init:function(u){if(function(){if(r=t.options,s=(r.trackConfig||[]).map(function(g){return[X(g,"size",1),X(g,"spacing",0),X(g,"origin",0)]}),c=s.length){e=oe(s.reduce(function(g,w){return g+w[0]+w[1]},0));var d,C=c-1;n=oe(e+s[0][2]-s[C][0]-s[C][2]-s[C][1]),I=s.reduce(function(g,w){if(!g)return[0];var P=s[g.length-1],j=g[g.length-1]+(P[0]+P[2])+P[1];return j-=w[2],g[g.length-1]>j&&(j=g[g.length-1]),j=oe(j),g.push(j),(!d||d<j)&&(M=g.length-1),d=j,g},null),n===0&&(M=0),I.push(oe(e))}}(),!c)return b(!0);var h;(function(){var d=t.options.range,C=t.options.loop;q=f=C?X(C,"min",-1/0):0,T=k=C?X(C,"max",V):M;var g=X(d,"min",null),w=X(d,"max",null);g!==null&&(f=g),w!==null&&(k=w),N=f===-1/0?f:t.track.idxToDist(f||0,!0,0),y=k===V?k:R(k,!0,0),w===null&&(T=k),X(d,"align",!1)&&k!==V&&s[Y(k)][2]===0&&(y-=1-s[Y(k)][0],k=B(y-S)),N=oe(N),y=oe(y)})(),h=u,Number(h)===h?E(K(A(u))):b()},to:ie,velocity:function(){var u=St(),h=O.reduce(function(d,C){var g=C.distance,w=C.timestamp;return u-w>200||(le(g)!==le(d.distance)&&d.distance&&(d={distance:0,lastTimestamp:0,time:0}),d.time&&(d.distance+=g),d.lastTimestamp&&(d.time+=w-d.lastTimestamp),d.lastTimestamp=w),d},{distance:0,lastTimestamp:0,time:0});return h.distance/h.time||0}}}function Ut(t){var i,e,n,r,s,c,I,M;function f(_){return 2*_}function k(_){return rt(_,I,M)}function q(_){return 1-Math.pow(1-_,3)}function T(){return n?t.track.velocity():0}function N(){O();var _=t.options.mode==="free-snap",S=t.track,E=T();r=le(E);var B=t.track.details,L=[];if(E||!_){var R=y(E),K=R.dist,v=R.dur;if(v=f(v),K*=r,_){var A=S.idxToDist(S.distToIdx(K),!0);A&&(K=A)}L.push({distance:K,duration:v,easing:q});var $=B.position,Y=$+K;if(Y<s||Y>c){var ie=Y<s?s-$:c-$,b=0,u=E;if(le(ie)===r){var h=Math.min(Math.abs(ie)/Math.abs(K),1),d=function(w){return 1-Math.pow(1-w,1/3)}(h)*v;L[0].earlyExit=d,u=E*(1-h)}else L[0].earlyExit=0,b+=ie;var C=y(u,100),g=C.dist*r;t.options.rubberband&&(L.push({distance:g,duration:f(C.dur),easing:q}),L.push({distance:-g+b,duration:500,easing:q}))}t.animator.start(L)}else t.moveToIdx(k(B.abs),!0,{duration:500,easing:function(w){return 1+--w*w*w*w*w}})}function y(_,S){S===void 0&&(S=1e3);var E=147e-9+(_=Math.abs(_))/S;return{dist:Math.pow(_,2)/E,dur:_/E}}function V(){var _=t.track.details;_&&(s=_.min,c=_.max,I=_.minIdx,M=_.maxIdx)}function O(){t.animator.stop()}t.on("updated",V),t.on("optionsChanged",V),t.on("created",V),t.on("dragStarted",function(){n=!1,O(),i=e=t.track.details.abs}),t.on("dragChecked",function(){n=!0}),t.on("dragEnded",function(){var _=t.options.mode;_==="snap"&&function(){var S=t.track,E=t.track.details,B=E.position,L=le(T());(B>c||B<s)&&(L=0);var R=i+L;E.slides[S.absToRel(R)].portion===0&&(R-=L),i!==e&&(R=e),le(S.idxToDist(R,!0))!==L&&(R+=L),R=k(R);var K=S.idxToDist(R,!0);t.animator.start([{distance:K,duration:500,easing:function(v){return 1+--v*v*v*v*v}}])}(),_!=="free"&&_!=="free-snap"||N()}),t.on("dragged",function(){e=t.track.details.abs})}function Bt(t){var i,e,n,r,s,c,I,M,f,k,q,T,N,y,V,O,_,S,E=It();function B(b){if(c&&M===b.id){var u=v(b);if(f){if(!K(b))return R(b);k=u,f=!1,t.emit("dragChecked")}if(O)return k=u;Te(b);var h=function(C){if(_===-1/0&&S===1/0)return C;var g=t.track.details,w=g.length,P=g.position,j=rt(C,_-P,S-P);if(w===0)return 0;if(!t.options.rubberband)return j;if(P<=S&&P>=_||P<_&&e>0||P>S&&e<0)return C;var H=(P<_?P-_:P-S)/w,ne=r*w,Fe=Math.abs(H*ne),ke=Math.max(0,1-Fe/s*2);return ke*ke*C}(I(k-u)/r*n);e=le(h);var d=t.track.details.position;(d>_&&d<S||d===_&&e>0||d===S&&e<0)&&Me(b),q+=h,!T&&Math.abs(q*r)>5&&(T=!0),t.track.add(h),k=u,t.emit("dragged")}}function L(b){!c&&t.track.details&&t.track.details.length&&(q=0,c=!0,T=!1,f=!0,M=b.id,K(b),k=v(b),t.emit("dragStarted"))}function R(b){c&&M===b.idChanged&&(c=!1,t.emit("dragEnded"))}function K(b){var u=A(),h=u?b.y:b.x,d=u?b.x:b.y,C=N!==void 0&&y!==void 0&&Math.abs(y-d)<=Math.abs(N-h);return N=h,y=d,C}function v(b){return A()?b.y:b.x}function A(){return t.options.vertical}function $(){r=t.size,s=A()?window.innerHeight:window.innerWidth;var b=t.track.details;b&&(_=b.min,S=b.max)}function Y(b){T&&(Me(b),Te(b))}function ie(){if(E.purge(),t.options.drag&&!t.options.disabled){var b;b=t.options.dragSpeed||1,I=typeof b=="function"?b:function(h){return h*b},n=t.options.rtl?-1:1,$(),i=t.container,function(){var h="data-keen-slider-clickable";Je("[".concat(h,"]:not([").concat(h,"=false])"),i).map(function(d){E.add(d,"dragstart",Me),E.add(d,"mousedown",Me),E.add(d,"touchstart",Me)})}(),E.add(i,"dragstart",function(h){Te(h)}),E.add(i,"click",Y,{capture:!0}),E.input(i,"ksDragStart",L),E.input(i,"ksDrag",B),E.input(i,"ksDragEnd",R),E.input(i,"mousedown",L),E.input(i,"mousemove",B),E.input(i,"mouseleave",R),E.input(i,"mouseup",R),E.input(i,"touchstart",L,{passive:!0}),E.input(i,"touchmove",B,{passive:!1}),E.input(i,"touchend",R),E.input(i,"touchcancel",R),E.add(window,"wheel",function(h){c&&Te(h)});var u="data-keen-slider-scrollable";Je("[".concat(u,"]:not([").concat(u,"=false])"),t.container).map(function(h){return function(d){var C;E.input(d,"touchstart",function(g){C=v(g),O=!0,V=!0},{passive:!0}),E.input(d,"touchmove",function(g){var w=A(),P=w?d.scrollHeight-d.clientHeight:d.scrollWidth-d.clientWidth,j=C-v(g),H=w?d.scrollTop:d.scrollLeft,ne=w&&d.style.overflowY==="scroll"||!w&&d.style.overflowX==="scroll";if(C=v(g),(j<0&&H>0||j>0&&H<P)&&V&&ne)return O=!0;V=!1,Te(g),O=!1}),E.input(d,"touchend",function(){O=!1})}(h)})}}t.on("updated",$),t.on("optionsChanged",ie),t.on("created",ie),t.on("destroyed",E.purge)}function Qt(t){var i,e,n=null;function r(N,y,V){t.animator.active?c(N,y,V):requestAnimationFrame(function(){return c(N,y,V)})}function s(){r(!1,!1,e)}function c(N,y,V){var O=0,_=t.size,S=t.track.details;if(S&&i){var E=S.slides;i.forEach(function(B,L){if(N)!n&&y&&M(B,null,V),f(B,null,V);else{if(!E[L])return;var R=E[L].size*_;!n&&y&&M(B,R,V),f(B,E[L].distance*_-O,V),O+=R}})}}function I(N){return t.options.renderMode==="performance"?Math.round(N):N}function M(N,y,V){var O=V?"height":"width";y!==null&&(y=I(y)+"px"),N.style["min-"+O]=y,N.style["max-"+O]=y}function f(N,y,V){if(y!==null){y=I(y);var O=V?y:0;y="translate3d(".concat(V?0:y,"px, ").concat(O,"px, 0)")}N.style.transform=y,N.style["-webkit-transform"]=y}function k(){i&&(c(!0,!0,e),i=null),t.on("detailsChanged",s,!0)}function q(){r(!1,!0,e)}function T(){k(),e=t.options.vertical,t.options.disabled||t.options.renderMode==="custom"||(n=X(t.options.slides,"perView",null)==="auto",t.on("detailsChanged",s),(i=t.slides).length&&q())}t.on("created",T),t.on("optionsChanged",T),t.on("beforeOptionsChanged",function(){k()}),t.on("updated",q),t.on("destroyed",k)}function qt(t,i){return function(e){var n,r,s,c,I,M,f=It();function k(v){var A;nt(e.container,"reverse",(A=e.container,window.getComputedStyle(A,null).getPropertyValue("direction")!=="rtl"||v?null:"")),nt(e.container,"v",e.options.vertical&&!v?"":null),nt(e.container,"disabled",e.options.disabled&&!v?"":null)}function q(){T()&&_()}function T(){var v=null;if(c.forEach(function($){$.matches&&(v=$.__media)}),v===n)return!1;n||e.emit("beforeOptionsChanged"),n=v;var A=v?s.breakpoints[v]:s;return e.options=Se(Se({},s),A),k(),R(),K(),E(),!0}function N(v){var A=bt(v);return(e.options.vertical?A.height:A.width)/e.size||1}function y(){return e.options.trackConfig.length}function V(v){for(var A in n=!1,s=Se(Se({},i),v),f.purge(),r=e.size,c=[],s.breakpoints||[]){var $=window.matchMedia(A);$.__media=A,c.push($),f.add($,"change",q)}f.add(window,"orientationchange",L),f.add(window,"resize",B),T()}function O(v){e.animator.stop();var A=e.track.details;e.track.init(v??(A?A.abs:0))}function _(v){O(v),e.emit("optionsChanged")}function S(v,A){if(v)return V(v),void _(A);R(),K();var $=y();E(),y()!==$?_(A):O(A),e.emit("updated")}function E(){var v=e.options.slides;if(typeof v=="function")return e.options.trackConfig=v(e.size,e.slides);for(var A=e.slides,$=A.length,Y=typeof v=="number"?v:X(v,"number",$,!0),ie=[],b=X(v,"perView",1,!0),u=X(v,"spacing",0,!0)/e.size||0,h=b==="auto"?u:u/b,d=X(v,"origin","auto"),C=0,g=0;g<Y;g++){var w=b==="auto"?N(A[g]):1/b-u+h,P=d==="center"?.5-w/2:d==="auto"?0:d;ie.push({origin:P,size:w,spacing:u}),C+=w}if(C+=u*(Y-1),d==="auto"&&!e.options.loop&&b!==1){var j=0;ie.map(function(H){var ne=C-j;return j+=H.size+u,ne>=1||(H.origin=1-ne-(C>1?0:1-C)),H})}e.options.trackConfig=ie}function B(){R();var v=e.size;e.options.disabled||v===r||(r=v,S())}function L(){B(),setTimeout(B,500),setTimeout(B,2e3)}function R(){var v=bt(e.container);e.size=(e.options.vertical?v.height:v.width)||1}function K(){e.slides=Je(e.options.selector,e.container)}e.container=(M=Je(t,I||document)).length?M[0]:null,e.destroy=function(){f.purge(),e.emit("destroyed"),k(!0)},e.prev=function(){e.moveToIdx(e.track.details.abs-1,!0)},e.next=function(){e.moveToIdx(e.track.details.abs+1,!0)},e.update=S,V(e.options)}}var Tt=function(t,i,e){try{return function(n,r){var s,c={};return s={emit:function(I){c[I]&&c[I].forEach(function(f){f(s)});var M=s.options&&s.options[I];M&&M(s)},moveToIdx:function(I,M,f){var k=s.track.idxToDist(I,M);if(k){var q=s.options.defaultAnimation;s.animator.start([{distance:k,duration:X(f||q,"duration",500),easing:X(f||q,"easing",function(T){return 1+--T*T*T*T*T})}])}},on:function(I,M,f){f===void 0&&(f=!1),c[I]||(c[I]=[]);var k=c[I].indexOf(M);k>-1?f&&delete c[I][k]:f||c[I].push(M)},options:n},function(){if(s.track=Gt(s),s.animator=jt(s),r)for(var I=0,M=r;I<M.length;I++)(0,M[I])(s);s.track.init(s.options.initial||0),s.emit("created")}(),s}(i,wt([qt(t,{drag:!0,mode:"snap",renderMode:"precision",rubberband:!0,selector:".keen-slider__slide"}),Qt,Bt,Ut],e||[],!0))}catch(n){console.error(n)}};var $t=["sliderRef"];function Kt(t,i){if(t&1&&(o(0,"div",5),F(1,"img",6),a()),t&2){let e=i.$implicit,n=p(3);l(),m("src",n.getImage(e),Z)}}function Jt(t,i){if(t&1&&(o(0,"div",3,0),D(2,Kt,2,1,"div",4),a()),t&2){let e=p(2);l(2),m("ngForOf",e.imageList)}}function Wt(t,i){if(t&1&&(o(0,"div",5),F(1,"img",6),a()),t&2){let e=i.$implicit,n=p(3);l(),m("src",n.getImage(e),Z)}}function Xt(t,i){if(t&1&&(o(0,"div",3),D(1,Wt,2,1,"div",4),a()),t&2){let e=p(2);l(),m("ngForOf",e.imageList)}}function Yt(t,i){if(t&1&&(o(0,"div"),D(1,Jt,3,1,"div",2)(2,Xt,2,1,"div",2),a()),t&2){let e=p();l(),m("ngIf",e.imageList.length>1),l(),m("ngIf",e.imageList.length==1)}}function Zt(t,i){if(t&1&&(o(0,"div",8),F(1,"img",6),a()),t&2){let e=i.$implicit,n=p(3);l(),m("src",n.getImage(e),Z)}}function ei(t,i){if(t&1&&(o(0,"div",3,0),D(2,Zt,2,1,"div",7),a()),t&2){let e=p(2);l(2),m("ngForOf",e.imageList)}}function ti(t,i){if(t&1&&(o(0,"div",8),F(1,"img",6),a()),t&2){let e=i.$implicit,n=p(3);l(),m("src",n.getImage(e),Z)}}function ii(t,i){if(t&1&&(o(0,"div",3),D(1,ti,2,1,"div",7),a()),t&2){let e=p(2);l(),m("ngForOf",e.imageList)}}function ni(t,i){if(t&1&&(o(0,"div"),D(1,ei,3,1,"div",2)(2,ii,2,1,"div",2),a()),t&2){let e=p();l(),m("ngIf",e.imageList.length>1),l(),m("ngIf",e.imageList.length==1)}}var We=class t{constructor(i,e){this.apiService=i;this.screenSizeService=e}imageList;sliderRef;slider;screenSize;ScreenSizes=qe;ngOnInit(){this.screenSizeService.currentScreenSize$.subscribe(i=>{this.screenSize=i})}ngAfterViewInit(){this.slider=new Tt(this.sliderRef.nativeElement,{loop:!0},[i=>{let e,n=!1;function r(){clearTimeout(e)}function s(){clearTimeout(e),!n&&(e=setTimeout(()=>{i.next()},2e3))}i.on("created",()=>{i.container.addEventListener("mouseover",()=>{n=!0,r()}),i.container.addEventListener("mouseout",()=>{n=!1,s()}),s()}),i.on("dragStarted",r),i.on("animationEnded",s),i.on("updated",s)}])}ngOnDestroy(){this.slider&&this.slider.destroy()}getImage(i){return this.apiService.getFullUrl(i)}static \u0275fac=function(e){return new(e||t)(Q(he),Q(He))};static \u0275cmp=W({type:t,selectors:[["app-image-carrousel"]],viewQuery:function(e,n){if(e&1&&ce($t,5),e&2){let r;pe(r=ve())&&(n.sliderRef=r.first)}},inputs:{imageList:"imageList"},standalone:!1,decls:2,vars:2,consts:[["sliderRef",""],[4,"ngIf"],["class","keen-slider",4,"ngIf"],[1,"keen-slider"],["class","keen-slider__slide number-slide1",4,"ngFor","ngForOf"],[1,"keen-slider__slide","number-slide1"],[1,"w-full","h-full","object-cover","object-center","transition-transform","duration-300",3,"src"],["class","keen-slider__slide number-slide2",4,"ngFor","ngForOf"],[1,"keen-slider__slide","number-slide2"]],template:function(e,n){e&1&&D(0,Yt,3,2,"div",1)(1,ni,3,2,"div",1),e&2&&(m("ngIf",n.screenSize!=n.ScreenSizes.PORTRAIT),l(),m("ngIf",n.screenSize==n.ScreenSizes.PORTRAIT))},dependencies:[ge,te],styles:[".keen-slider[_ngcontent-%COMP%]:not([data-keen-slider-disabled]){-webkit-touch-callout:none;-webkit-tap-highlight-color:transparent;align-content:flex-start;display:flex;overflow:hidden;position:relative;touch-action:pan-y;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-khtml-user-select:none;width:100%}.keen-slider[_ngcontent-%COMP%]:not([data-keen-slider-disabled])   .keen-slider__slide[_ngcontent-%COMP%]{min-height:100%;overflow:hidden;position:relative;width:100%}.keen-slider[_ngcontent-%COMP%]:not([data-keen-slider-disabled])[data-keen-slider-reverse]{flex-direction:row-reverse}.keen-slider[_ngcontent-%COMP%]:not([data-keen-slider-disabled])[data-keen-slider-v]{flex-wrap:wrap}",".number-slide1[_ngcontent-%COMP%]{background:gray;display:flex;align-items:center;justify-content:center;font-size:50px;color:#fff;font-weight:500;height:600px}.number-slide2[_ngcontent-%COMP%]{background:gray;display:flex;align-items:center;justify-content:center;font-size:50px;color:#fff;font-weight:500;height:400px}"]})};function ai(t,i){if(t&1){let e=ee();o(0,"div")(1,"button",12),z("click",function(){G(e);let r=p(2);return U(r.onEdit())}),x(2," Editar "),a(),o(3,"button",13),z("click",function(){G(e);let r=p(2);return U(r.onDelete())}),x(4," Borrar "),a()()}}function li(t,i){if(t&1){let e=ee();o(0,"div",2),z("mousedown",function(){G(e);let r=p();return U(r.closeModal())}),o(1,"div",3),z("mousedown",function(r){return G(e),U(r.stopPropagation())}),o(2,"button",4),z("click",function(){G(e);let r=p();return U(r.closeModal())}),o(3,"span",5),x(4," \xD7 "),a()(),F(5,"app-image-carrousel",6),o(6,"div",7)(7,"h2",8),x(8),a(),o(9,"p",9),x(10),a(),o(11,"p",10),x(12),a()(),D(13,ai,5,0,"div",11),a()()}if(t&2){let e=p();l(5),m("imageList",e.eventItem.images),l(2),m("ngClass","text-"+e.eventColorStyle.titleTextColorModal),l(),me(e.eventItem.title),l(2),me(e.eventItem.date),l(2),me(e.eventItem.content),l(),m("ngIf",e.isEditEventVisible)}}var be=class t{constructor(i,e){this.loginService=i;this.eventService=e}eventItem;eventColorStyle;eventEditref;isVisible;isEditEventVisible;ngOnInit(){this.isEditEventVisible=this.loginService.checkPermissions("ROLE_MARKETING"),this.loginService.evento$.subscribe(i=>{this.isEditEventVisible=this.loginService.checkPermissions("ROLE_MARKETING")}),this.isVisible=!1}showModal(){this.isVisible=!0,document.body.style.overflow="hidden"}closeModal(){this.isVisible=!1,document.body.style.overflow=""}onDelete(){this.eventService.deleteEvent(this.eventItem.id),this.closeModal()}onEdit(){this.closeModal(),this.eventEditref.showModal()}static \u0275fac=function(e){return new(e||t)(Q(Le),Q(re))};static \u0275cmp=W({type:t,selectors:[["app-event-modal"]],viewQuery:function(e,n){if(e&1&&ce(Ee,5),e&2){let r;pe(r=ve())&&(n.eventEditref=r.first)}},inputs:{eventItem:"eventItem",eventColorStyle:"eventColorStyle"},standalone:!1,decls:2,vars:2,consts:[["class","modal-backdrop",3,"mousedown",4,"ngIf"],[3,"eventItem"],[1,"modal-backdrop",3,"mousedown"],[1,"relative","bg-white","rounded-2xl","shadow-2xl","w-full","max-w-3xl","sm:max-w-4xl","md:max-w-5xl","overflow-hidden","animate-fadeIn","flex","flex-col","h-auto","max-h-[90vh]","sm:h-[85vh]","overflow-y-auto","mt-4","mb-4",3,"mousedown"],["id","close-modal",1,"absolute","top-3","right-3","text-gray-500","hover:text-gray-800","text-3xl","font-bold","leading-none","z-10",3,"click"],[1,"relative","flex","items-center","justify-center","w-8","h-8","rounded-full","bg-white","shadow-md"],[3,"imageList"],[1,"p-6","sm:p-8","space-y-4"],[1,"text-2xl","sm:text-3xl","font-extrabold","truncate","max-w-4xl",3,"ngClass"],[1,"text-sm","text-gray-500"],[1,"text-base","sm:text-lg",2,"white-space","pre-line"],[4,"ngIf"],["id","edit-news",1,"absolute","bottom-4","right-28","px-5","py-2","rounded-lg","text-white","font-semibold","shadow-md","bg-gradient-to-r","from-emerald-600","to-cyan-600","hover:from-emerald-700","hover:to-cyan-700","transition",3,"click"],["id","delete-news",1,"absolute","bottom-4","right-4","px-5","py-2","rounded-lg","text-white","font-semibold","shadow-md","bg-gradient-to-r","from-red-600","to-red-800","hover:from-red-700","hover:to-red-900","transition",3,"click"]],template:function(e,n){e&1&&(D(0,li,14,6,"div",0),F(1,"app-event-edit-form",1)),e&2&&(m("ngIf",n.isVisible),l(),m("eventItem",n.eventItem))},dependencies:[De,te,We,Ee],styles:[".modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000b3;z-index:999;display:flex;justify-content:center;align-items:center;overflow:hidden}"]})};function mi(t,i){if(t&1){let e=ee();o(0,"article",6),z("click",function(){G(e);let r=p(2);return U(r.showModal())}),o(1,"div",7)(2,"div",8),F(3,"img",9),a(),o(4,"div",10)(5,"div")(6,"h3",11),x(7),a(),o(8,"p",12),x(9),a()()()()()}if(t&2){let e=p(2);m("ngClass","bg-gradient-to-r from-"+e.eventColorStyle.borderGradientColor+" to-cyan-500"),l(3),m("src",e.getThumbnailImage(),Z)("alt",e.eventItem.title),l(3),m("ngClass","bg-gradient-to-r from-"+e.eventColorStyle.titleTextColor+" to-cyan-700"),l(),ae(" ",e.eventItem.title," "),l(2),ae(" ",e.eventItem.content," ")}}function di(t,i){if(t&1){let e=ee();o(0,"article",13),z("click",function(){G(e);let r=p(2);return U(r.showModal())}),o(1,"div",7)(2,"div",14),F(3,"img",9),a(),o(4,"div",10)(5,"div")(6,"h3",11),x(7),a(),o(8,"p",12),x(9),a()()()()()}if(t&2){let e=p(2);m("ngClass","bg-gradient-to-r from-"+e.eventColorStyle.borderGradientColor+" to-cyan-500"),l(3),m("src",e.getThumbnailImage(),Z)("alt",e.eventItem.title),l(3),m("ngClass","bg-gradient-to-r from-"+e.eventColorStyle.titleTextColor+" to-cyan-700"),l(),ae(" ",e.eventItem.title," "),l(2),ae(" ",e.eventItem.content," ")}}function ci(t,i){if(t&1){let e=ee();o(0,"article",15),z("click",function(){G(e);let r=p(2);return U(r.showModal())}),o(1,"div",7)(2,"div",16),F(3,"img",9),a(),o(4,"div",10)(5,"div")(6,"h3",11),x(7),a(),o(8,"p",12),x(9),a()()()()()}if(t&2){let e=p(2);m("ngClass","bg-gradient-to-r from-"+e.eventColorStyle.borderGradientColor+" to-cyan-500"),l(3),m("src",e.getThumbnailImage(),Z)("alt",e.eventItem.title),l(3),m("ngClass","bg-gradient-to-r from-"+e.eventColorStyle.titleTextColor+" to-cyan-700"),l(),ae(" ",e.eventItem.title," "),l(2),ae(" ",e.eventItem.content," ")}}function pi(t,i){if(t&1&&(o(0,"div"),D(1,mi,10,6,"article",3)(2,di,10,6,"article",4)(3,ci,10,6,"article",5),a()),t&2){let e=p();l(),m("ngIf",e.cardType===e.cardTypes.SMALL),l(),m("ngIf",e.cardType===e.cardTypes.MEDIUM),l(),m("ngIf",e.cardType===e.cardTypes.BIG)}}function vi(t,i){if(t&1){let e=ee();o(0,"article",17),z("click",function(){G(e);let r=p();return U(r.showModal())}),o(1,"div",7)(2,"div",8),F(3,"img",9),a(),o(4,"div",10)(5,"div")(6,"h3",11),x(7),a(),o(8,"p",12),x(9),a()()()()()}if(t&2){let e=p();m("ngClass","bg-gradient-to-r from-"+e.eventColorStyle.borderGradientColor+" to-cyan-500"),l(3),m("src",e.getThumbnailImage(),Z)("alt",e.eventItem.title),l(3),m("ngClass","bg-gradient-to-r from-"+e.eventColorStyle.titleTextColor+" to-cyan-700"),l(),ae(" ",e.eventItem.title," "),l(2),ae(" ",e.eventItem.content," ")}}var Xe=class t{constructor(i,e){this.eventService=i;this.apiService=e}eventItem;eventColorStyle;eventModalRef;cardType;cardTypes=$e;imageList=[];thumbnailImage;showModal(){this.eventModalRef.showModal()}getThumbnailImage(){return this.apiService.getFullUrl(this.thumbnailImage)}static \u0275fac=function(e){return new(e||t)(Q(re),Q(he))};static \u0275cmp=W({type:t,selectors:[["app-event-card"]],viewQuery:function(e,n){if(e&1&&ce(be,5),e&2){let r;pe(r=ve())&&(n.eventModalRef=r.first)}},inputs:{eventItem:"eventItem",eventColorStyle:"eventColorStyle",cardType:"cardType",thumbnailImage:"thumbnailImage"},standalone:!1,decls:3,vars:4,consts:[[4,"ngIf"],["class","group shrink-0 snap-start w-[300px] sm:w-[300px] md:w-[300px] relative rounded-3xl p-1 transition-transform duration-300 hover:scale-[1.04] shadow-lg",3,"ngClass","click",4,"ngIf"],[3,"eventItem","eventColorStyle"],["class","group shrink-0 snap-start w-[380px] relative rounded-3xl p-1 transition-transform duration-300 hover:scale-[1.04] shadow-lg",3,"ngClass","click",4,"ngIf"],["class","group shrink-0 snap-start w-[580px] h-[275px]  relative rounded-3xl p-1 transition-transform duration-300 hover:scale-[1.04] shadow-lg",3,"ngClass","click",4,"ngIf"],["class","group shrink-0 snap-start w-[580px] h-[580px]  relative rounded-3xl p-1 transition-transform duration-300 hover:scale-[1.04] shadow-lg",3,"ngClass","click",4,"ngIf"],[1,"group","shrink-0","snap-start","w-[380px]","relative","rounded-3xl","p-1","transition-transform","duration-300","hover:scale-[1.04]","shadow-lg",3,"click","ngClass"],[1,"flex","flex-col","h-full","rounded-[calc(1.5rem-4px)]","bg-white/90","backdrop-blur-md","overflow-hidden"],[1,"relative","h-56","overflow-hidden","flex-shrink-0"],[1,"w-full","h-full","object-cover","object-center","transition-transform","duration-300","group-hover:scale-110",3,"src","alt"],[1,"flex","flex-col","justify-between","p-4","flex-grow"],[1,"text-xl","sm:text-2xl","font-extrabold","leading-snug","bg-clip-text","text-transparent","truncate","max-w-lg",3,"ngClass"],[1,"text-gray-700","text-lg","sm:text-lg","leading-relaxed","whitespace-pre-line","truncate","max-w-lg"],[1,"group","shrink-0","snap-start","w-[580px]","h-[275px]","relative","rounded-3xl","p-1","transition-transform","duration-300","hover:scale-[1.04]","shadow-lg",3,"click","ngClass"],[1,"relative","h-36","overflow-hidden","flex-shrink-0"],[1,"group","shrink-0","snap-start","w-[580px]","h-[580px]","relative","rounded-3xl","p-1","transition-transform","duration-300","hover:scale-[1.04]","shadow-lg",3,"click","ngClass"],[1,"relative","h-105","overflow-hidden","flex-shrink-0"],[1,"group","shrink-0","snap-start","w-[300px]","sm:w-[300px]","md:w-[300px]","relative","rounded-3xl","p-1","transition-transform","duration-300","hover:scale-[1.04]","shadow-lg",3,"click","ngClass"]],template:function(e,n){e&1&&(D(0,pi,4,3,"div",0)(1,vi,10,6,"article",1),F(2,"app-event-modal",2)),e&2&&(m("ngIf",n.eventItem),l(),m("ngIf",n.cardType===n.cardTypes.SUPER_SMALL),l(),m("eventItem",n.eventItem)("eventColorStyle",n.eventColorStyle))},dependencies:[De,te,be],encapsulation:2})};function fi(t,i){if(t&1&&(o(0,"mat-grid-tile",3),F(1,"app-event-card",4),a()),t&2){let e=p(3);m("colspan",2)("rowspan",2),l(),m("eventItem",e.latestEvents[0])("thumbnailImage",e.latestEvents[0].images[0])("eventColorStyle",e.getCardColor(0))("cardType",e.cardTypes.BIG)}}function gi(t,i){if(t&1&&(o(0,"mat-grid-tile",3),F(1,"app-event-card",4),a()),t&2){let e=p(3);m("colspan",2)("rowspan",1),l(),m("eventItem",e.latestEvents[1])("thumbnailImage",e.latestEvents[1].images[0])("eventColorStyle",e.getCardColor(1))("cardType",e.cardTypes.MEDIUM)}}function hi(t,i){if(t&1&&(o(0,"mat-grid-tile",3),F(1,"app-event-card",4),a()),t&2){let e=p(3);m("colspan",2)("rowspan",1),l(),m("eventItem",e.latestEvents[2])("thumbnailImage",e.latestEvents[2].images[0])("eventColorStyle",e.getCardColor(2))("cardType",e.cardTypes.MEDIUM)}}function xi(t,i){if(t&1&&(o(0,"mat-grid-tile",3),F(1,"app-event-card",4),a()),t&2){let e=i.$implicit,n=i.index,r=p(4);m("colspan",1)("rowspan",1),l(),m("eventItem",e)("thumbnailImage",e.images[0])("eventColorStyle",r.getCardColor(n))("cardType",r.cardTypes.SMALL)}}function _i(t,i){if(t&1&&(o(0,"div")(1,"mat-grid-list",5),D(2,xi,2,6,"mat-grid-tile",6),a()()),t&2){let e=p(3);l(2),m("ngForOf",e.moreEvents)}}function Ci(t,i){if(t&1&&(o(0,"div")(1,"mat-grid-list",1),D(2,fi,2,6,"mat-grid-tile",2)(3,gi,2,6,"mat-grid-tile",2)(4,hi,2,6,"mat-grid-tile",2),a(),D(5,_i,3,1,"div",0),a()),t&2){let e=p(2);l(2),m("ngIf",e.latestEvents[0]),l(),m("ngIf",e.latestEvents[1]),l(),m("ngIf",e.latestEvents[2]),l(),m("ngIf",e.moreEvents&&e.moreEvents.length>0)}}function yi(t,i){if(t&1&&(o(0,"div"),D(1,Ci,6,4,"div",0),a()),t&2){let e=p();l(),m("ngIf",e.latestEvents&&e.latestEvents.length>0)}}function Ei(t,i){if(t&1&&(o(0,"div")(1,"mat-grid-tile",3),F(2,"app-event-card",4),a()()),t&2){let e=i.$implicit,n=i.index,r=p(2);l(),m("colspan",1)("rowspan",1),l(),m("eventItem",e)("thumbnailImage",e.images[0])("eventColorStyle",r.getCardColor(n))("cardType",r.cardTypes.SUPER_SMALL)}}function Si(t,i){if(t&1&&(o(0,"div")(1,"mat-grid-list",7),D(2,Ei,3,6,"div",8),a()()),t&2){let e=p();l(2),m("ngForOf",e.eventList)}}function bi(t,i){if(t&1&&(o(0,"div")(1,"mat-grid-tile",3),F(2,"app-event-card",4),a()()),t&2){let e=i.$implicit,n=i.index,r=p(2);l(),m("colspan",1)("rowspan",1),l(),m("eventItem",e)("thumbnailImage",e.images[0])("eventColorStyle",r.getCardColor(n))("cardType",r.cardTypes.SUPER_SMALL)}}function wi(t,i){if(t&1&&(o(0,"div")(1,"mat-grid-list",9),D(2,bi,3,6,"div",8),a()()),t&2){let e=p();l(2),m("ngForOf",e.eventList)}}var Ye=class t{constructor(i,e){this.eventService=i;this.screenSizeService=e}eventList;latestEvents;moreEvents;cardTypes=$e;screenSize;ScreenSizes=qe;ngOnInit(){this.eventList=[],this.latestEvents=[],this.moreEvents=[],this.eventService.getAllEvents().subscribe(i=>{for(let e of i.event){let n=e;this.eventService.eventList.unshift(n)}this.eventList=this.eventService.eventList;for(let[e,n]of this.eventService.eventList.entries())e<3?this.latestEvents.push(n):this.moreEvents.push(n)}),this.screenSizeService.currentScreenSize$.subscribe(i=>{this.screenSize=i})}getCardColor(i){return this.eventService.eventColorStyleList[i%this.eventService.eventColorStyleList.length]}static \u0275fac=function(e){return new(e||t)(Q(re),Q(He))};static \u0275cmp=W({type:t,selectors:[["app-event-grid"]],standalone:!1,decls:3,vars:3,consts:[[4,"ngIf"],["cols","4","rowHeight","1:1"],[3,"colspan","rowspan",4,"ngIf"],[3,"colspan","rowspan"],[3,"eventItem","thumbnailImage","eventColorStyle","cardType"],["cols","3","rowHeight","1:1"],[3,"colspan","rowspan",4,"ngFor","ngForOf"],["cols","2","rowHeight","1:1.1"],[4,"ngFor","ngForOf"],["cols","1","rowHeight","1:1.05"]],template:function(e,n){e&1&&D(0,yi,2,1,"div",0)(1,Si,3,1,"div",0)(2,wi,3,1,"div",0),e&2&&(m("ngIf",n.screenSize==n.ScreenSizes.LAPTOP),l(),m("ngIf",(n.screenSize==n.ScreenSizes.TABLET||n.screenSize==n.ScreenSizes.LANDSCAPE)&&n.eventList&&n.eventList.length>0),l(),m("ngIf",n.screenSize==n.ScreenSizes.PORTRAIT&&n.eventList&&n.eventList.length>0))},dependencies:[ge,te,gt,ft,Xe],encapsulation:2})};function Ti(t,i){if(t&1){let e=ee();o(0,"button",10),z("click",function(){G(e);let r=p();return U(r.openEventForm())}),x(1,"Crear Evento"),a()}}var Ze=class t{constructor(i){this.loginService=i}isCreateEventVisible;eventFormRef;ngOnInit(){this.isCreateEventVisible=this.loginService.checkPermissions("ROLE_MARKETING"),this.loginService.evento$.subscribe(i=>{this.isCreateEventVisible=this.loginService.checkPermissions("ROLE_MARKETING")})}openEventForm(){this.eventFormRef.showModal()}static \u0275fac=function(e){return new(e||t)(Q(Le))};static \u0275cmp=W({type:t,selectors:[["app-events-page"]],viewQuery:function(e,n){if(e&1&&ce(Ce,5),e&2){let r;pe(r=ve())&&(n.eventFormRef=r.first)}},standalone:!1,decls:15,vars:1,consts:[[1,"relative","flex","flex-col","overflow-hidden","pb-15"],[1,"sm:px-6","lg:px-8","relative","text-center","z-10","max-w-5xl","mx-auto","mt-10"],[1,"space-y-6","sm:space-y-8"],[1,"space-y-3","sm:space-y-4","stagger-appear"],[1,"text-3xl","sm:text-5xl","lg:text-6xl","font-bold","text-gray-900","leading-tight"],[1,"bg-gradient-to-r","from-emerald-600","to-cyan-600","bg-clip-text","text-transparent"],["id","open-create-news-modal","class","ml-4 inline-flex items-center justify-center px-4 py-2 sm:px-5 sm:py-1 text-sm font-semibold text-white bg-gradient-to-r from-emerald-600 to-cyan-600 hover:from-emerald-700 hover:to-cyan-700 rounded-lg transition-all duration-300 transform hover:scale-105 hover:shadow-lg",3,"click",4,"ngIf"],[1,"relative","w-full","max-w-7xl","mx-auto","px-4","py-5"],[1,"relative","mt-5","mb-5"],[1,"relative","mb-10"],["id","open-create-news-modal",1,"ml-4","inline-flex","items-center","justify-center","px-4","py-2","sm:px-5","sm:py-1","text-sm","font-semibold","text-white","bg-gradient-to-r","from-emerald-600","to-cyan-600","hover:from-emerald-700","hover:to-cyan-700","rounded-lg","transition-all","duration-300","transform","hover:scale-105","hover:shadow-lg",3,"click"]],template:function(e,n){e&1&&(o(0,"section",0),F(1,"app-background-pattern"),o(2,"div",1)(3,"div",2)(4,"div",3)(5,"h2",4),x(6," Eventos y "),o(7,"span",5),x(8," Conferencias"),a()(),D(9,Ti,2,0,"button",6),a()()()(),o(10,"section",7),F(11,"div",8),o(12,"div",9),F(13,"app-event-grid"),a()(),F(14,"app-event-form")),e&2&&(l(9),m("ngIf",n.isCreateEventVisible))},dependencies:[te,vt,Ye,Ce],encapsulation:2})};var Mi=[{path:"",component:Ze}],et=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=Oe({type:t});static \u0275inj=Ve({imports:[it.forChild(Mi),it]})};var Mt=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=Oe({type:t});static \u0275inj=Ve({imports:[mt,et,ut,dt,pt,ct,ht,xt]})};export{Mt as a};

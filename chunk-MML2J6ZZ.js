import{a as fe}from"./chunk-6Q74FYJP.js";import{a as le}from"./chunk-WACOHYZX.js";import{a as A,b as L}from"./chunk-STQ5DY3V.js";import{a as me,b as de,c as ce,d as Re,e as pe,f as Ge,g as Qe}from"./chunk-SGTNLNZW.js";import{w as Be,x as Ue,y as qe}from"./chunk-OJYV446X.js";import{a as Pe}from"./chunk-CHMQDSFV.js";import{a as O}from"./chunk-26ZB6XY4.js";import{a as je}from"./chunk-PXIFBYDN.js";import{a as z}from"./chunk-GW7PBGRF.js";import{$a as Y,D as Ne,F as Ee,Fa as i,Fb as Ce,Ga as a,Ha as d,I as Te,Ia as C,Ib as ee,J as Q,Jb as y,Ka as g,L as U,La as c,Lb as te,M as $,Mb as ie,Oa as J,P as f,Pb as ne,Q as w,Qa as T,Qb as re,R as H,Ra as M,Rb as oe,S as W,Sa as F,Sb as ae,Tb as se,Vb as Le,Wa as m,Xa as I,Ya as u,Za as ke,_a as X,ab as Z,c as V,db as De,f as ye,hb as ze,ia as h,j as Se,la as o,ma as Me,o as _e,pa as v,qa as Fe,qb as k,rb as D,sb as _,ta as S,ua as K,ub as Oe,v as be,va as Ve,wa as p,x as Ie,za as s,zb as Ae}from"./chunk-XSD7VU42.js";var b=class n{constructor(t,e,r,l){this.apiService=t;this.loginService=e;this.httpClient=r;this.util=l}defaultNewsImage="assets/hero.png";defaultButtonText="Visitar";newsColorStyleList=[{borderGradientColor:"emerald-500",categoryTextColor:"emerald-700",categoryAnimationColor:"emerald-500",titleTextColor:"emerald-500",buttonColor:"emerald-500",titleTextColorModal:"emerald-700",categoryTextColorModal:"emerald-600",categoryAnimationColorModal:"emerald-500"},{borderGradientColor:"purple-500",categoryTextColor:"purple-600",categoryAnimationColor:"purple-600",titleTextColor:"purple-500",buttonColor:"purple-600",titleTextColorModal:"purple-600",categoryTextColorModal:"purple-600",categoryAnimationColorModal:"purple-600"},{borderGradientColor:"blue-500",categoryTextColor:"blue-700",categoryAnimationColor:"blue-600",titleTextColor:"blue-500",buttonColor:"blue-600",titleTextColorModal:"blue-700",categoryTextColorModal:"blue-600",categoryAnimationColorModal:"blue-600"}];defaultNewsCategories=["Eventos","Jornadas","Novedades"];newsCategoriesList;newsList=[];base64Convert(t){return V(this,null,function*(){return new Promise((e,r)=>{let l=new FileReader;l.onload=()=>e(l.result),l.onerror=r,l.readAsDataURL(t)})})}parseFormDataToNewsInterface(t,e){return V(this,null,function*(){let r=t.value;return{id:r.id,title:r.title,date:r.date,author:r.author,category:r.category,image:r.image,description:r.description,content:r.content,link:r.link,buttonText:r.buttonText,file:e}})}getNewsCategories(){this.newsCategoriesList=[];let t=[],e=[];for(let x of this.newsList)e.unshift(x.category);let r=new Set(e);for(let x of r.values())t.unshift(x);for(let x of this.defaultNewsCategories)t.unshift(x);let l=new Set(t);return this.newsCategoriesList=Array.from(l.values()),this.newsCategoriesList}getAllNews(){return this.newsList=[],this.apiService.httpGet("/news/public/all").subscribe(t=>{console.log(t);for(let e of t.news){let r=e;this.newsList.unshift(r)}}),this.newsList}getAllNewsForNewsPage(){return this.newsList=[],this.apiService.httpGet("/news/public/all")}createNews(t){let e=new FormData,r={title:t.title,date:t.date,author:t.author,category:t.category,description:t.description,content:t.content,link:t.link,buttonText:t.buttonText};e.append("news",new Blob([JSON.stringify(r)],{type:"application/json"})),e.append("file",t.file||""),this.apiService.httpPost("/news/marketing/news",e).subscribe(l=>{(l.status=200)&&window.location.reload()})}deleteNews(t){let e=this.newsList.at(t)?.id;this.apiService.httpDelete("/news/marketing/news/"+e).subscribe(r=>{(r.status=200)&&window.location.reload()})}editNews(t,e){let r=this.newsList.at(e)?.id,l=new FormData,x={title:t.title,date:t.date,author:t.author,category:t.category,description:t.description,content:t.content,link:t.link,buttonText:t.buttonText,image:t.image||""};console.log(x),l.append("news",new Blob([JSON.stringify(x)],{type:"application/json"})),l.append("file",t.file||""),console.log(x),this.apiService.httpPut("/news/marketing/news/"+r,l).subscribe(q=>{(q.status=200)&&window.location.reload()})}formValidation(t,e,r){if(t.invalid)return{isValid:!1,errorCode:"ERROR: No se pudo crear la noticia. Falta un campo obligatorio."};let l=t.value;for(let[x,q]of Object.entries(l))if(x!="date"&&x!="image"&&x!="file"&&q!=null&&!this.util.textValidation(q))return{isValid:!1,errorCode:"ERROR: No se pudo crear la noticia. Se ha introducido un car\xE1cter no admitido (<>&/)."};return e!=null&&e!=""&&r!=""&&!this.util.imageValidation(r)?{isValid:!1,errorCode:"ERROR: No se pudo crear la noticia. La imagen est\xE1 en un formato no admitido."}:{isValid:!0,errorCode:null}}static \u0275fac=function(e){return new(e||n)(U(z),U(O),U(Ae),U(le))};static \u0275prov=Te({token:n,factory:n.\u0275fac,providedIn:"root"})};function et(n,t){if(n&1&&(i(0,"mat-option",24),m(1),a()),n&2){let e=t.$implicit;J("value",e),o(),I(e)}}function tt(n,t){n&1&&(i(0,"div")(1,"span",25),m(2,"Escribe la categor\xEDa."),a(),d(3,"input",26),a())}function it(n,t){if(n&1&&(i(0,"p",27),m(1),a()),n&2){let e=c(2);o(),I(e.errorMessage)}}function nt(n,t){if(n&1){let e=C();i(0,"div",1),g("mousedown",function(){f(e);let l=c();return w(l.closeModal())}),i(1,"div",2),g("mousedown",function(l){return f(e),w(l.stopPropagation())}),i(2,"button",3),g("click",function(){f(e);let l=c();return w(l.closeModal())}),m(3,"\xD7"),a(),i(4,"form",4),g("ngSubmit",function(){f(e);let l=c();return w(l.onSubmit())}),i(5,"h2",5),m(6,"Crear Nueva Noticia"),a(),i(7,"p"),m(8,"*T\xEDtulo: "),a(),d(9,"input",6),i(10,"p"),m(11,"*Fecha: "),a(),d(12,"input",7),i(13,"p"),m(14,"*Autor: "),a(),d(15,"input",8),i(16,"p"),m(17,"*Categor\xEDa:"),a(),i(18,"mat-form-field")(19,"mat-label"),m(20,"Elige una categor\xEDa"),a(),i(21,"mat-select",9),Z("valueChange",function(l){f(e);let x=c();return Y(x.selectedCategory,l)||(x.selectedCategory=l),w(l)}),p(22,et,2,2,"mat-option",10),i(23,"mat-option",11),m(24,"Otro"),a()()(),p(25,tt,4,0,"div",12),i(26,"p"),m(27,"*Descripci\xF3n: "),a(),d(28,"input",13),i(29,"p"),m(30,"*Contenido: "),a(),d(31,"textarea",14),i(32,"p"),m(33,"Enlace: "),a(),d(34,"input",15),i(35,"p"),m(36,"Texto del bot\xF3n: "),a(),d(37,"input",16),i(38,"p"),m(39,"Imagen: "),a(),i(40,"span",17),m(41,"Formatos admitidos: .png, .jpg, .jpeg"),a(),i(42,"input",18),g("change",function(l){f(e);let x=c();return w(x.onFileSelected(l))}),a(),i(43,"label",19),H(),i(44,"svg",20),d(45,"path",21),a(),m(46),a(),p(47,it,2,1,"p",22),W(),i(48,"button",23),m(49," Crear noticia "),a()()()()}if(n&2){let e=c();o(4),s("formGroup",e.newsForm),o(17),X("value",e.selectedCategory),o(),s("ngForOf",e.categoryList),o(3),s("ngIf",e.selectedCategory=="Otro"),o(21),u(" ",e.fileName||"Elegir archivo"," "),o(),s("ngIf",e.errorActive)}}var G=class n{constructor(t,e){this.fb=t;this.newsService=e}isVisible;newsForm;errorMessage;file;fileName=null;fileType;selectedCategory;categoryList;newNews;errorActive;ngOnInit(){this.isVisible=!1,this.errorActive=!1,this.newsForm=this.fb.group({id:[""],title:["",y.required],date:["",y.required],author:["",y.required],category:["",y.required],description:["",y.required],content:["",y.required],link:[""],buttonText:[""],file:[null]})}showModal(){this.isVisible=!0,document.body.style.overflow="hidden",this.categoryList=this.newsService.getNewsCategories()}showError(t){this.errorMessage=t,this.errorActive=!0}hideError(){this.errorActive=!1}closeModal(){this.isVisible=!1,this.hideError(),document.body.style.overflow="",this.fileName=null,this.newsForm.reset()}onFileSelected(t){let e=t.target.files[0];e?(this.file=e,this.fileName=e.name,this.fileType=e.type):(this.fileName=null,this.fileType="")}onSubmit(){return V(this,null,function*(){this.selectedCategory!="Otro"&&this.newsForm.patchValue({category:this.selectedCategory});let t=this.newsService.formValidation(this.newsForm,this.fileName,this.fileType);t.isValid?(this.newsService.createNews(yield this.newsService.parseFormDataToNewsInterface(this.newsForm,this.file)),this.closeModal()):this.showError(t.errorCode)})}static \u0275fac=function(e){return new(e||n)(v(se),v(b))};static \u0275cmp=S({type:n,selectors:[["app-news-form"]],standalone:!1,decls:1,vars:1,consts:[["class","modal-backdrop",3,"mousedown",4,"ngIf"],[1,"modal-backdrop",3,"mousedown"],[1,"relative","bg-white","rounded-2xl","shadow-2xl","w-full","max-w-3xl","sm:max-w-4xl","md:max-w-5xl","overflow-hidden","animate-fadeIn","flex","flex-col","h-auto","max-h-[90vh]","sm:h-[85vh]","overflow-y-auto","mt-4","mb-4",3,"mousedown"],[1,"absolute","top-3","right-3","text-gray-500","hover:text-gray-800","text-3xl","font-bold","leading-none","z-10",3,"click"],["id","news_form",1,"flex","flex-col","gap-4","p-6",3,"ngSubmit","formGroup"],[1,"text-2xl","sm:text-3xl","font-extrabold","text-emerald-700","mb-8"],["type","text","formControlName","title","placeholder","T\xEDtulo de la noticia.","required","",1,"input-news"],["type","date","formControlName","date","placeholder","dd/mm/yyyy",1,"input-news"],["type","text","formControlName","author","placeholder","Autor de la noticia.","required","",1,"input-news"],["panelClass","custom-panel","disableRipple","",3,"valueChange","value"],[3,"value",4,"ngFor","ngForOf"],["value","Otro"],[4,"ngIf"],["type","text","formControlName","description","placeholder","Descripci\xF3n corta.","required","",1,"input-news"],["formControlName","content","placeholder","Contenido de la noticia.","required","","rows","5",1,"input-news-high"],["type","text","formControlName","link","placeholder","Enlace a la noticia",1,"input-news"],["type","text","formControlName","buttonText","placeholder","Texto del bot\xF3n en la interfaz.",1,"input-news"],[1,"text-sm","text-gray-600"],["id","file-upload","type","file","formControlName","file","accept","image/png, image/jpeg, .png, .jpg",1,"hidden",3,"change"],["for","file-upload",1,"cursor-pointer","inline-flex","items-center","px-4","py-2","bg-gray-200","text-gray-700","rounded-md","border","border-gray-300","hover:bg-gray-300"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-5","w-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","d","M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"],["id","errorMessage","class","text-sm text-red-600 mt-2",4,"ngIf"],["type","submit",1,"w-full","inline-flex","items-center","justify-center","px-4","py-2","sm:px-5","sm:py-10","text-xl","font-semibold","text-white","bg-gradient-to-r","from-emerald-600","to-cyan-600","hover:from-emerald-700","hover:to-cyan-700","rounded-lg","transition-all","duration-300","transform","hover:scale-102","hover:shadow-lg"],[3,"value"],[1,"text-sm","mb-10","text-gray-600"],["type","text","formControlName","category","placeholder","Categor\xEDa de la noticia.","required","",1,"input-news"],["id","errorMessage",1,"text-sm","text-red-600","mt-2"]],template:function(e,r){e&1&&p(0,nt,50,6,"div",0),e&2&&s("ngIf",r.isVisible)},dependencies:[D,_,ne,ee,te,ie,ae,re,oe,ce,de,pe,me],styles:[".modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000b3;z-index:999;display:flex;justify-content:center;align-items:center;overflow:hidden}.input-news[_ngcontent-%COMP%], .input-news-high[_ngcontent-%COMP%]{border:1px solid #d1d5db;border-radius:.25rem;padding:.5rem .75rem;width:100%;box-sizing:border-box;transition:box-shadow .2s,border-color .2s}  mat-form-field.mat-form-field{color:#059669!important}"]})};function ot(n,t){if(n&1&&(i(0,"mat-option",26),m(1),a()),n&2){let e=t.$implicit;J("value",e),o(),I(e)}}function at(n,t){n&1&&(i(0,"div")(1,"span",27),m(2,"Escribe la categor\xEDa."),a(),d(3,"input",28),a())}function st(n,t){if(n&1&&(i(0,"p",29),m(1),a()),n&2){let e=c(2);o(),I(e.errorMessage)}}function lt(n,t){if(n&1){let e=C();i(0,"div",1),g("mousedown",function(){f(e);let l=c();return w(l.closeModal())}),i(1,"div",2),g("mousedown",function(l){return f(e),w(l.stopPropagation())}),i(2,"button",3),g("click",function(){f(e);let l=c();return w(l.closeModal())}),m(3,"\xD7"),a(),i(4,"form",4),g("ngSubmit",function(){f(e);let l=c();return w(l.onSubmit())}),i(5,"h2",5),m(6,"Editar Noticia"),a(),i(7,"p"),m(8,"*T\xEDtulo: "),a(),d(9,"input",6),i(10,"p"),m(11,"*Fecha: "),a(),d(12,"input",7),i(13,"p"),m(14,"*Autor: "),a(),d(15,"input",8),i(16,"p"),m(17,"*Categor\xEDa:"),a(),i(18,"mat-form-field")(19,"mat-label"),m(20,"Elige una categor\xEDa"),a(),i(21,"mat-select",9),Z("valueChange",function(l){f(e);let x=c();return Y(x.selectedCategory,l)||(x.selectedCategory=l),w(l)}),p(22,ot,2,2,"mat-option",10),i(23,"mat-option",11),m(24,"Otro"),a()()(),p(25,at,4,0,"div",12),i(26,"p"),m(27,"*Descripci\xF3n: "),a(),d(28,"input",13),i(29,"p"),m(30,"*Contenido: "),a(),d(31,"textarea",14),i(32,"p"),m(33,"Enlace: "),a(),d(34,"input",15),i(35,"p"),m(36,"Texto del bot\xF3n: "),a(),d(37,"input",16),i(38,"p"),m(39,"Imagen: "),a(),i(40,"span",17),m(41,"Formatos admitidos: .png, .jpg, .jpeg"),a(),i(42,"input",18),g("change",function(l){f(e);let x=c();return w(x.onFileSelected(l))}),a(),i(43,"div",19)(44,"label",20),H(),i(45,"svg",21),d(46,"path",22),a(),m(47),a(),W(),i(48,"button",23),g("click",function(){f(e);let l=c();return w(l.onDeleteImage())}),m(49," \xD7 "),a()(),p(50,st,2,1,"p",24),i(51,"button",25),m(52," Editar noticia "),a()()()()}if(n&2){let e=c();o(4),s("formGroup",e.newsForm),o(17),X("value",e.selectedCategory),o(),s("ngForOf",e.categoryList),o(3),s("ngIf",e.selectedCategory=="Otro"),o(22),u(" ",e.fileName||"Elegir archivo"," "),o(3),s("ngIf",e.errorActive)}}var B=class n{constructor(t,e,r){this.fb=t;this.newsService=e;this.util=r}newsItem;newsIndex;isVisible;newsForm;editedNews;errorMessage;errorActive;selectedCategory;categoryList;file;fileName=null;fileType;ngOnInit(){this.isVisible=!1,this.errorActive=!1,this.fileName="",this.fileType="",this.resetForm()}resetForm(){this.newsForm=this.fb.group({id:[this.newsItem.id,y.required],title:[this.newsItem.title,y.required],date:[this.newsItem.date,y.required],author:[this.newsItem.author,y.required],category:[this.newsItem.category,y.required],description:[this.newsItem.description,y.required],content:[this.newsItem.content,y.required],link:[this.newsItem.link],buttonText:[this.newsItem.buttonText],image:[this.newsItem.image],file:null}),this.fileName=this.util.extractBaseFileName(this.newsItem.image)}showModal(){this.isVisible=!0,document.body.style.overflow="hidden",this.selectedCategory=this.newsItem.category,this.categoryList=this.newsService.getNewsCategories()}showError(t){this.errorMessage=t,this.errorActive=!0}hideError(){this.errorActive=!1}closeModal(){this.isVisible=!1,this.hideError(),document.body.style.overflow="",this.fileName=null,this.resetForm(),window.location.reload()}onDeleteImage(){this.file=null,this.fileName=null,this.fileType="",this.newsForm.patchValue({image:null,file:null})}onFileSelected(t){let e=t.target.files[0];e?(this.file=e,this.fileName=e.name,this.fileType=e.type):(this.fileName=null,this.fileType="")}onSubmit(){return V(this,null,function*(){console.log(this.newsForm),this.selectedCategory!="Otro"&&this.newsForm.patchValue({category:this.selectedCategory}),console.log(this.newsForm);let t=this.newsService.formValidation(this.newsForm,this.fileName,this.fileType);t.isValid?this.newsService.editNews(yield this.newsService.parseFormDataToNewsInterface(this.newsForm,this.file),this.newsIndex):this.showError(t.errorCode)})}static \u0275fac=function(e){return new(e||n)(v(se),v(b),v(le))};static \u0275cmp=S({type:n,selectors:[["app-news-edit-form"]],inputs:{newsItem:"newsItem",newsIndex:"newsIndex"},standalone:!1,decls:1,vars:1,consts:[["class","modal-backdrop",3,"mousedown",4,"ngIf"],[1,"modal-backdrop",3,"mousedown"],[1,"relative","bg-white","rounded-2xl","shadow-2xl","w-full","max-w-3xl","sm:max-w-4xl","md:max-w-5xl","overflow-hidden","animate-fadeIn","flex","flex-col","h-auto","max-h-[90vh]","sm:h-[85vh]","overflow-y-auto","mt-4","mb-4",3,"mousedown"],[1,"absolute","top-3","right-3","text-gray-500","hover:text-gray-800","text-3xl","font-bold","leading-none","z-10",3,"click"],["id","news_form",1,"flex","flex-col","gap-4","p-6",3,"ngSubmit","formGroup"],[1,"text-2xl","sm:text-3xl","font-extrabold","text-emerald-700","mb-8"],["type","text","formControlName","title","placeholder","T\xEDtulo de la noticia.","required","","value","newsForm.value.title",1,"input-news"],["type","date","formControlName","date","placeholder","dd/mm/yyyy",1,"input-news"],["type","text","formControlName","author","placeholder","Autor de la noticia.","required","",1,"input-news"],["panelClass","custom-panel","disableRipple","",3,"valueChange","value"],[3,"value",4,"ngFor","ngForOf"],["value","Otro"],[4,"ngIf"],["type","text","formControlName","description","placeholder","Descripci\xF3n corta.","required","",1,"input-news"],["formControlName","content","placeholder","Contenido de la noticia.","required","","rows","5",1,"input-news-high"],["type","text","formControlName","link","placeholder","Enlace a la noticia",1,"input-news"],["type","text","formControlName","buttonText","placeholder","Texto del bot\xF3n en la interfaz.",1,"input-news"],[1,"text-sm","text-gray-600"],["id","file-upload","type","file","formControlName","file","accept","image/png, image/jpeg, .png, .jpg",1,"hidden",3,"change"],[1,"flex","items-center"],["for","file-upload",1,"cursor-pointer","inline-flex","grow","items-center","px-4","py-2","bg-gray-200","text-gray-700","rounded-md","border","border-gray-300","hover:bg-gray-300"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-5","w-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","d","M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"],["type","button",1,"text-gray-500","hover:text-gray-800","text-3xl","font-bold","leading-none","z-10",3,"click"],["id","errorMessage","class","text-sm text-red-600 mt-2",4,"ngIf"],["type","submit",1,"w-full","inline-flex","items-center","justify-center","px-4","py-2","sm:px-5","sm:py-10","text-xl","font-semibold","text-white","bg-gradient-to-r","from-emerald-600","to-cyan-600","hover:from-emerald-700","hover:to-cyan-700","rounded-lg","transition-all","duration-300","transform","hover:scale-102","hover:shadow-lg"],[3,"value"],[1,"text-sm","mb-10","text-gray-600"],["type","text","formControlName","category","placeholder","Categor\xEDa de la noticia.","required","",1,"input-news"],["id","errorMessage",1,"text-sm","text-red-600","mt-2"]],template:function(e,r){e&1&&p(0,lt,53,6,"div",0),e&2&&s("ngIf",r.isVisible)},dependencies:[D,_,ne,ee,te,ie,ae,re,oe,ce,de,pe,me],styles:[".modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000b3;z-index:999;display:flex;justify-content:center;align-items:center;overflow:hidden}.input-news[_ngcontent-%COMP%], .input-news-high[_ngcontent-%COMP%]{border:1px solid #d1d5db;border-radius:.25rem;padding:.5rem .75rem;width:100%;box-sizing:border-box;transition:box-shadow .2s,border-color .2s}"]})};var dt=150,we=class n{condition;_templateRef=$(Me);_viewContainer=$(Fe);_changeDetectorRef=$(ze);_destroy$=new ye;mediaQuery;ngOnInit(){this.mediaQuery=this.createMathMedia(),this.createMediaQueryListener()}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}createMathMedia(){let t=`(min-width: ${this.condition.min}px)`;return this.condition.max&&(t+=` and (max-width: ${this.condition.max}px)`),window.matchMedia(t)}createMediaQueryListener(){_e(this.mediaQuery,"change").pipe(be(dt),Se(()=>this.mediaQuery.matches),Ne(this.mediaQuery.matches),Ie()).pipe(Ee(this._destroy$)).subscribe(t=>{this.updateElementVisibility(t)})}updateElementVisibility(t){t?this._viewContainer.createEmbeddedView(this._templateRef):this._viewContainer.clear(),this._changeDetectorRef.detectChanges()}static \u0275fac=function(e){return new(e||n)};static \u0275dir=Ve({type:n,selectors:[["","appMatchMedia",""]],inputs:{condition:[0,"appMatchMedia","condition"]}})};var pt=()=>({min:1e3});function ft(n,t){if(n&1&&(i(0,"div",15),d(1,"img",16),i(2,"span",17),d(3,"span",18),m(4),a()()),n&2){let e=c(2);o(),s("src",e.finalImage,h)("alt",e.newsItem.title),o(),s("ngClass","text-"+e.newsColorStyle.categoryTextColorModal),o(),s("ngClass","bg-"+e.newsColorStyle.categoryAnimationColorModal),o(),u(" ",e.newsItem.category," ")}}function wt(n,t){if(n&1&&(i(0,"div",15),d(1,"img",16),i(2,"span",17),d(3,"span",18),m(4),a()()),n&2){let e=c(3);o(),s("src",e.finalImage,h)("alt",e.newsItem.title),o(),s("ngClass","text-"+e.newsColorStyle.categoryTextColorModal),o(),s("ngClass","bg-"+e.newsColorStyle.categoryAnimationColorModal),o(),u(" ",e.newsItem.category," ")}}function ut(n,t){n&1&&(i(0,"div"),p(1,wt,5,5,"div",19),a()),n&2&&(o(),s("appMatchMedia",De(1,pt)))}function gt(n,t){if(n&1&&(i(0,"a",20),m(1),d(2,"i",21),a()),n&2){let e=c(2);s("href",e.newsItem.link,h)("ngClass","bg-"+e.newsColorStyle.buttonColor),o(),u(" ",e.finalButtonText," ")}}function xt(n,t){if(n&1){let e=C();i(0,"div")(1,"button",22),g("click",function(){f(e);let l=c(2);return w(l.onEdit())}),m(2," Editar "),a(),i(3,"button",23),g("click",function(){f(e);let l=c(2);return w(l.onDelete())}),m(4," Borrar "),a()()}}function vt(n,t){if(n&1){let e=C();i(0,"div",2),g("mousedown",function(){f(e);let l=c();return w(l.closeModal())}),i(1,"div",3),g("mousedown",function(l){return f(e),w(l.stopPropagation())}),i(2,"button",4),g("click",function(){f(e);let l=c();return w(l.closeModal())}),i(3,"span",5),m(4," \xD7 "),a()(),i(5,"div",6),p(6,ft,5,5,"div",7)(7,ut,2,2,"div",8),i(8,"div",9)(9,"h2",10),m(10),a(),i(11,"p",11),m(12),a(),i(13,"p",12),m(14),a(),i(15,"p",13),m(16),a(),p(17,gt,3,3,"a",14),a()(),p(18,xt,5,0,"div",8),a()()}if(n&2){let e=c();o(6),s("ngIf",e.screenSize!=e.ScreenSizes.LANDSCAPE),o(),s("ngIf",e.screenSize==e.ScreenSizes.LANDSCAPE),o(2),s("ngClass","text-"+e.newsColorStyle.titleTextColorModal),o(),I(e.newsItem.title),o(2),ke("",e.newsItem.date," | ",e.newsItem.author,""),o(2),I(e.newsItem.description),o(2),I(e.newsItem.content),o(),s("ngIf",e.newsItem.link),o(),s("ngIf",e.isDeleteNewsVisible)}}var E=class n{constructor(t,e,r){this.newsService=t;this.loginService=e;this.screenSizeService=r}newsItem;newsIndex;newsColorStyle;finalImage;finalButtonText;isVisible;isDeleteNewsVisible;screenSize;ScreenSizes=A;newsEditForm;ngOnInit(){this.isDeleteNewsVisible=this.loginService.checkPermissions("ROLE_MARKETING"),this.loginService.evento$.subscribe(t=>{this.isDeleteNewsVisible=this.loginService.checkPermissions("ROLE_MARKETING")}),this.screenSizeService.currentScreenSize$.subscribe(t=>{this.screenSize=t}),this.isVisible=!1}showModal(){this.isVisible=!0,document.body.style.overflow="hidden"}closeModal(){this.isVisible=!1,document.body.style.overflow=""}onDelete(){this.isVisible=!1,this.newsService.deleteNews(this.newsIndex)}onEdit(){this.closeModal(),this.newsEditForm.showModal()}static \u0275fac=function(e){return new(e||n)(v(b),v(O),v(L))};static \u0275cmp=S({type:n,selectors:[["app-news-modal"]],viewQuery:function(e,r){if(e&1&&T(B,5),e&2){let l;M(l=F())&&(r.newsEditForm=l.first)}},inputs:{newsItem:"newsItem",newsIndex:"newsIndex",newsColorStyle:"newsColorStyle",finalImage:"finalImage",finalButtonText:"finalButtonText",isVisible:"isVisible"},standalone:!1,decls:2,vars:3,consts:[["class","modal-backdrop",3,"mousedown",4,"ngIf"],[3,"newsItem","newsIndex"],[1,"modal-backdrop",3,"mousedown"],[1,"relative","bg-white","rounded-2xl","shadow-2xl","w-full","max-w-3xl","sm:max-w-4xl","md:max-w-5xl","overflow-hidden","animate-fadeIn","flex","flex-col","h-auto","max-h-[90vh]","sm:h-[85vh]","overflow-y-auto","mt-4","mb-4",3,"mousedown"],["id","close-modal",1,"absolute","top-3","right-3","text-gray-500","hover:text-gray-800","text-3xl","font-bold","leading-none","z-10",3,"click"],[1,"relative","flex","items-center","justify-center","w-8","h-8","rounded-full","bg-white","shadow-md"],[1,"flex-grow","overflow-y-auto","text-gray-700","leading-relaxed"],["class","flex-shrink-0 h-80 sm:h-96 md:h-[400px] overflow-hidden relative -mt-0",4,"ngIf"],[4,"ngIf"],[1,"p-6","sm:p-8","space-y-4"],[1,"text-2xl","sm:text-3xl","font-extrabold","truncate","max-w-4xl",3,"ngClass"],[1,"text-sm","text-gray-500"],[1,"text-base","sm:text-lg"],[1,"text-base","sm:text-lg",2,"white-space","pre-line"],["target","_blank","rel","noopener noreferrer","id","news-link-modal","class","inline-flex items-center gap-2 mt-4 px-4 py-2 rounded-lg text-white font-semibold transition",3,"href","ngClass",4,"ngIf"],[1,"flex-shrink-0","h-80","sm:h-96","md:h-[400px]","overflow-hidden","relative","-mt-0"],[1,"w-full","h-full","object-cover","object-center","transition-transform","duration-300",3,"src","alt"],[1,"absolute","top-3","left-3","inline-flex","items-center","gap-1","px-3","py-1","rounded-full","text-[12px]","font-semibold","bg-white/90","shadow-sm",3,"ngClass"],[1,"w-2","h-2","rounded-full","animate-ping",3,"ngClass"],["class","flex-shrink-0 h-80 sm:h-96 md:h-[400px] overflow-hidden relative -mt-0",4,"appMatchMedia"],["target","_blank","rel","noopener noreferrer","id","news-link-modal",1,"inline-flex","items-center","gap-2","mt-4","px-4","py-2","rounded-lg","text-white","font-semibold","transition",3,"href","ngClass"],[1,"fa-solid","fa-arrow-up-right-from-square","text-xs"],["id","edit-news",1,"absolute","bottom-4","right-28","px-5","py-2","rounded-lg","text-white","font-semibold","shadow-md","bg-gradient-to-r","from-emerald-600","to-cyan-600","hover:from-emerald-700","hover:to-cyan-700","transition",3,"click"],["id","delete-news",1,"absolute","bottom-4","right-4","px-5","py-2","rounded-lg","text-white","font-semibold","shadow-md","bg-gradient-to-r","from-red-600","to-red-800","hover:from-red-700","hover:to-red-900","transition",3,"click"]],template:function(e,r){e&1&&(p(0,vt,19,10,"div",0),d(1,"app-news-edit-form",1)),e&2&&(s("ngIf",r.isVisible),o(),s("newsItem",r.newsItem)("newsIndex",r.newsIndex))},dependencies:[k,_,we,B],styles:[".modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000b3;z-index:999;display:flex;justify-content:center;align-items:center;overflow:hidden}"]})};function ht(n,t){if(n&1&&(i(0,"a",14),m(1),d(2,"i",15),a()),n&2){let e=c(2);s("href",e.newsItem.link,h)("ngClass","bg-"+e.newsColorStyle.buttonColor),o(),u(" ",e.finalButtonText," ")}}function Ct(n,t){if(n&1){let e=C();i(0,"article",3),g("click",function(){f(e);let l=c();return w(l.showModal())}),i(1,"div",4)(2,"div",5),d(3,"img",6),i(4,"span",7),d(5,"span",8),m(6),a()(),i(7,"div",9)(8,"div")(9,"h3",10),m(10),a(),i(11,"p",11),m(12),a()(),i(13,"div",12),p(14,ht,3,3,"a",13),a()()()()}if(n&2){let e=c();s("ngClass","bg-gradient-to-r from-"+e.newsColorStyle.borderGradientColor+" to-cyan-500"),o(3),s("src",e.finalImage,h)("alt",e.newsItem.title),o(),s("ngClass","text-"+e.newsColorStyle.categoryTextColor),o(),s("ngClass","bg-"+e.newsColorStyle.categoryAnimationColor),o(),u(" ",e.newsItem.category," "),o(3),s("ngClass","bg-gradient-to-r from-"+e.newsColorStyle.titleTextColor+" to-cyan-700"),o(),u(" ",e.newsItem.title," "),o(2),u(" ",e.newsItem.description," "),o(2),s("ngIf",e.showButton)}}function yt(n,t){if(n&1&&(i(0,"a",14),m(1),d(2,"i",15),a()),n&2){let e=c(2);s("href",e.newsItem.link,h)("ngClass","bg-"+e.newsColorStyle.buttonColor),o(),u(" ",e.finalButtonText," ")}}function St(n,t){if(n&1){let e=C();i(0,"article",16),g("click",function(){f(e);let l=c();return w(l.showModal())}),i(1,"div",4)(2,"div",5),d(3,"img",6),i(4,"span",7),d(5,"span",8),m(6),a()(),i(7,"div",9)(8,"div")(9,"h3",10),m(10),a(),i(11,"p",17),m(12),a()(),i(13,"div",12),p(14,yt,3,3,"a",13),a()()()()}if(n&2){let e=c();s("ngClass","bg-gradient-to-r from-"+e.newsColorStyle.borderGradientColor+" to-cyan-500"),o(3),s("src",e.finalImage,h)("alt",e.newsItem.title),o(),s("ngClass","text-"+e.newsColorStyle.categoryTextColor),o(),s("ngClass","bg-"+e.newsColorStyle.categoryAnimationColor),o(),u(" ",e.newsItem.category," "),o(3),s("ngClass","bg-gradient-to-r from-"+e.newsColorStyle.titleTextColor+" to-cyan-700"),o(),u(" ",e.newsItem.title," "),o(2),u(" ",e.newsItem.description," "),o(2),s("ngIf",e.showButton)}}var ue=class n{constructor(t,e,r){this.newsService=t;this.apiService=e;this.screenSizeService=r}newsItem;newsIndex;newsColorStyle;newsModalRef;finalImage="";finalButtonText="";showButton=!1;isDeleteNewsVisible;safeImage;screenSize;ScreenSizes=A;ngOnInit(){this.newsItem.image?this.finalImage=this.apiService.getFullUrl(this.newsItem.image.toString()):this.finalImage=this.newsService.defaultNewsImage,this.newsItem.buttonText&&this.newsItem.buttonText!==""?this.finalButtonText=this.newsItem.buttonText:this.finalButtonText="Visitar",this.showButton=!!this.newsItem.link,this.screenSizeService.currentScreenSize$.subscribe(t=>{this.screenSize=t})}showModal(){this.newsModalRef.showModal()}static \u0275fac=function(e){return new(e||n)(v(b),v(z),v(L))};static \u0275cmp=S({type:n,selectors:[["app-news-card"]],viewQuery:function(e,r){if(e&1&&T(E,5),e&2){let l;M(l=F())&&(r.newsModalRef=l.first)}},inputs:{newsItem:"newsItem",newsIndex:"newsIndex",newsColorStyle:"newsColorStyle"},standalone:!1,decls:3,vars:7,consts:[["class","group shrink-0 snap-start w-[420px] sm:w-[460px] md:w-[500px] relative rounded-3xl p-1 transition-transform duration-300 hover:scale-[1.04] shadow-lg",3,"ngClass","click",4,"ngIf"],["class","group shrink-0 snap-start w-[300px] sm:w-[300px] md:w-[300px] relative rounded-3xl p-1 transition-transform duration-300 hover:scale-[1.04] shadow-lg",3,"ngClass","click",4,"ngIf"],["id","news_modal",3,"newsIndex","newsItem","newsColorStyle","finalImage","finalButtonText"],[1,"group","shrink-0","snap-start","w-[420px]","sm:w-[460px]","md:w-[500px]","relative","rounded-3xl","p-1","transition-transform","duration-300","hover:scale-[1.04]","shadow-lg",3,"click","ngClass"],[1,"flex","flex-col","h-full","rounded-[calc(1.5rem-4px)]","bg-white/90","backdrop-blur-md","overflow-hidden"],[1,"relative","h-56","overflow-hidden","flex-shrink-0"],[1,"w-full","h-full","object-cover","object-center","transition-transform","duration-300","group-hover:scale-110",3,"src","alt"],[1,"absolute","top-3","left-3","inline-flex","items-center","gap-1","px-2","py-1","rounded-full","text-[11px]","font-semibold","bg-white/90","shadow-sm",3,"ngClass"],[1,"w-2","h-2","rounded-full","animate-ping",3,"ngClass"],[1,"flex","flex-col","justify-between","p-4","flex-grow"],[1,"text-xl","sm:text-2xl","font-extrabold","leading-snug","bg-clip-text","text-transparent",3,"ngClass"],[1,"text-gray-700","text-lg","sm:text-lg","leading-relaxed","whitespace-pre-line"],[1,"mt-3"],["target","_blank","rel","noopener noreferrer","onclick","event.stopPropagation()","class","inline-flex items-center gap-2 px-3 py-2 rounded-lg text-white text-sm font-semibold transition",3,"href","ngClass",4,"ngIf"],["target","_blank","rel","noopener noreferrer","onclick","event.stopPropagation()",1,"inline-flex","items-center","gap-2","px-3","py-2","rounded-lg","text-white","text-sm","font-semibold","transition",3,"href","ngClass"],[1,"fa-solid","fa-arrow-up-right-from-square","text-xs"],[1,"group","shrink-0","snap-start","w-[300px]","sm:w-[300px]","md:w-[300px]","relative","rounded-3xl","p-1","transition-transform","duration-300","hover:scale-[1.04]","shadow-lg",3,"click","ngClass"],[1,"text-gray-700","text-lg","sm:text-lg","leading-relaxed","whitespace-pre-line","truncate","max-w-lg"]],template:function(e,r){e&1&&(p(0,Ct,15,10,"article",0)(1,St,15,10,"article",1),d(2,"app-news-modal",2)),e&2&&(s("ngIf",r.screenSize!=r.ScreenSizes.PORTRAIT),o(),s("ngIf",r.screenSize==r.ScreenSizes.PORTRAIT),o(),s("newsIndex",r.newsIndex)("newsItem",r.newsItem)("newsColorStyle",r.newsColorStyle)("finalImage",r.finalImage)("finalButtonText",r.finalButtonText))},dependencies:[k,_,E],encapsulation:2})};function bt(n,t){if(n&1&&(i(0,"a",15),m(1),d(2,"i",16),a()),n&2){let e=c(2);s("href",e.newsItem.link,h)("ngClass","bg-"+e.newsColorStyle.buttonColor),o(),u(" ",e.finalButtonText," ")}}function It(n,t){if(n&1){let e=C();i(0,"article",4),g("click",function(){f(e);let l=c();return w(l.showModal())}),i(1,"div",5)(2,"div",6),d(3,"img",7),i(4,"span",8),d(5,"span",9),m(6),a()(),i(7,"div",10)(8,"div")(9,"h3",11),m(10),a(),i(11,"p",12),m(12),a()(),i(13,"div",13),p(14,bt,3,3,"a",14),a()()()()}if(n&2){let e=c();s("ngClass","bg-gradient-to-r from-"+e.newsColorStyle.borderGradientColor+" to-cyan-500"),o(3),s("src",e.finalImage,h)("alt",e.newsItem.title),o(),s("ngClass","text-"+e.newsColorStyle.categoryTextColor),o(),s("ngClass","bg-"+e.newsColorStyle.categoryAnimationColor),o(),u(" ",e.newsItem.category," "),o(3),s("ngClass","bg-gradient-to-r from-"+e.newsColorStyle.titleTextColor+" to-cyan-700"),o(),u(" ",e.newsItem.title," "),o(2),u(" ",e.newsItem.description," "),o(2),s("ngIf",e.showButton)}}function Nt(n,t){if(n&1&&(i(0,"a",21),m(1),d(2,"i",16),a()),n&2){let e=c(2);s("href",e.newsItem.link,h)("ngClass","bg-"+e.newsColorStyle.buttonColor),o(),u(" ",e.finalButtonText," ")}}function Et(n,t){if(n&1){let e=C();i(0,"article",17),g("click",function(){f(e);let l=c();return w(l.showModal())}),i(1,"div",5)(2,"div",18),d(3,"img",7),i(4,"span",8),d(5,"span",9),m(6),a()(),i(7,"div",10)(8,"div")(9,"h3",11),m(10),a(),i(11,"p",12),m(12),a()(),i(13,"div",19),p(14,Nt,3,3,"a",20),a()()()()}if(n&2){let e=c();s("ngClass","bg-gradient-to-r from-"+e.newsColorStyle.borderGradientColor+" to-cyan-500"),o(3),s("src",e.finalImage,h)("alt",e.newsItem.title),o(),s("ngClass","text-"+e.newsColorStyle.categoryTextColor),o(),s("ngClass","bg-"+e.newsColorStyle.categoryAnimationColor),o(),u(" ",e.newsItem.category," "),o(3),s("ngClass","bg-gradient-to-r from-"+e.newsColorStyle.titleTextColor+" to-cyan-700"),o(),u(" ",e.newsItem.title," "),o(2),u(" ",e.newsItem.description," "),o(2),s("ngIf",e.showButton)}}function Tt(n,t){if(n&1&&(i(0,"a",15),m(1),d(2,"i",16),a()),n&2){let e=c(2);s("href",e.newsItem.link,h)("ngClass","bg-"+e.newsColorStyle.buttonColor),o(),u(" ",e.finalButtonText," ")}}function Mt(n,t){if(n&1){let e=C();i(0,"article",22),g("click",function(){f(e);let l=c();return w(l.showModal())}),i(1,"div",5)(2,"div",23),d(3,"img",7),i(4,"span",8),d(5,"span",9),m(6),a()(),i(7,"div",10)(8,"div")(9,"h3",11),m(10),a(),i(11,"p",12),m(12),a()(),i(13,"div",13),p(14,Tt,3,3,"a",14),a()()()()}if(n&2){let e=c();s("ngClass","bg-gradient-to-r from-"+e.newsColorStyle.borderGradientColor+" to-cyan-500"),o(3),s("src",e.finalImage,h)("alt",e.newsItem.title),o(),s("ngClass","text-"+e.newsColorStyle.categoryTextColor),o(),s("ngClass","bg-"+e.newsColorStyle.categoryAnimationColor),o(),u(" ",e.newsItem.category," "),o(3),s("ngClass","bg-gradient-to-r from-"+e.newsColorStyle.titleTextColor+" to-cyan-700"),o(),u(" ",e.newsItem.title," "),o(2),u(" ",e.newsItem.description," "),o(2),s("ngIf",e.showButton)}}var ge=class n{constructor(t,e){this.newsService=t;this.apiService=e}newsItem;newsIndex;newsColorStyle;newsModalRef;cardType;cardTypes=fe;finalImage="";finalButtonText="";showButton=!1;isDeleteNewsVisible;safeImage;ngOnInit(){this.newsItem.image?this.finalImage=this.apiService.getFullUrl(this.newsItem.image.toString()):this.finalImage=this.newsService.defaultNewsImage,this.newsItem.buttonText&&this.newsItem.buttonText!==""?this.finalButtonText=this.newsItem.buttonText:this.finalButtonText="Visitar",this.showButton=!!this.newsItem.link}showModal(){this.newsModalRef.showModal()}static \u0275fac=function(e){return new(e||n)(v(b),v(z))};static \u0275cmp=S({type:n,selectors:[["app-news-grid-card"]],viewQuery:function(e,r){if(e&1&&T(E,5),e&2){let l;M(l=F())&&(r.newsModalRef=l.first)}},inputs:{newsItem:"newsItem",newsIndex:"newsIndex",newsColorStyle:"newsColorStyle",cardType:"cardType"},standalone:!1,decls:4,vars:8,consts:[["class","group shrink-0 snap-start w-[380px] relative rounded-3xl p-1 transition-transform duration-300 hover:scale-[1.04] shadow-lg",3,"ngClass","click",4,"ngIf"],["class","group shrink-0 snap-start w-[580px] h-[275px]  relative rounded-3xl p-1 transition-transform duration-300 hover:scale-[1.04] shadow-lg",3,"ngClass","click",4,"ngIf"],["class","group shrink-0 snap-start w-[580px] h-[580px]  relative rounded-3xl p-1 transition-transform duration-300 hover:scale-[1.04] shadow-lg",3,"ngClass","click",4,"ngIf"],["id","news_modal",3,"newsIndex","newsItem","newsColorStyle","finalImage","finalButtonText"],[1,"group","shrink-0","snap-start","w-[380px]","relative","rounded-3xl","p-1","transition-transform","duration-300","hover:scale-[1.04]","shadow-lg",3,"click","ngClass"],[1,"flex","flex-col","h-full","rounded-[calc(1.5rem-4px)]","bg-white/90","backdrop-blur-md","overflow-hidden"],[1,"relative","h-56","overflow-hidden","flex-shrink-0"],[1,"w-full","h-full","object-cover","object-center","transition-transform","duration-300","group-hover:scale-110",3,"src","alt"],[1,"absolute","top-3","left-3","inline-flex","items-center","gap-1","px-2","py-1","rounded-full","text-[11px]","font-semibold","bg-white/90","shadow-sm",3,"ngClass"],[1,"w-2","h-2","rounded-full","animate-ping",3,"ngClass"],[1,"flex","flex-col","justify-between","p-4","flex-grow"],[1,"text-xl","sm:text-2xl","font-extrabold","leading-snug","bg-clip-text","text-transparent","truncate","max-w-lg",3,"ngClass"],[1,"text-gray-700","text-lg","sm:text-lg","leading-relaxed","whitespace-pre-line","truncate","max-w-lg"],[1,"mt-3"],["target","_blank","rel","noopener noreferrer","onclick","event.stopPropagation()","class","inline-flex items-center gap-2 px-3 py-2 rounded-lg text-white text-sm font-semibold transition",3,"href","ngClass",4,"ngIf"],["target","_blank","rel","noopener noreferrer","onclick","event.stopPropagation()",1,"inline-flex","items-center","gap-2","px-3","py-2","rounded-lg","text-white","text-sm","font-semibold","transition",3,"href","ngClass"],[1,"fa-solid","fa-arrow-up-right-from-square","text-xs"],[1,"group","shrink-0","snap-start","w-[580px]","h-[275px]","relative","rounded-3xl","p-1","transition-transform","duration-300","hover:scale-[1.04]","shadow-lg",3,"click","ngClass"],[1,"relative","h-36","overflow-hidden","flex-shrink-0"],[1,"mt-1"],["target","_blank","rel","noopener noreferrer","onclick","event.stopPropagation()","class","inline-flex items-center gap-2 px-3 py-1.5 rounded-lg text-white text-sm font-semibold transition",3,"href","ngClass",4,"ngIf"],["target","_blank","rel","noopener noreferrer","onclick","event.stopPropagation()",1,"inline-flex","items-center","gap-2","px-3","py-1.5","rounded-lg","text-white","text-sm","font-semibold","transition",3,"href","ngClass"],[1,"group","shrink-0","snap-start","w-[580px]","h-[580px]","relative","rounded-3xl","p-1","transition-transform","duration-300","hover:scale-[1.04]","shadow-lg",3,"click","ngClass"],[1,"relative","h-105","overflow-hidden","flex-shrink-0"]],template:function(e,r){e&1&&(p(0,It,15,10,"article",0)(1,Et,15,10,"article",1)(2,Mt,15,10,"article",2),d(3,"app-news-modal",3)),e&2&&(s("ngIf",r.cardType===r.cardTypes.SMALL),o(),s("ngIf",r.cardType===r.cardTypes.MEDIUM),o(),s("ngIf",r.cardType===r.cardTypes.BIG),o(),s("newsIndex",r.newsIndex)("newsItem",r.newsItem)("newsColorStyle",r.newsColorStyle)("finalImage",r.finalImage)("finalButtonText",r.finalButtonText))},dependencies:[k,_,E],encapsulation:2})};function Vt(n,t){if(n&1&&(i(0,"mat-grid-tile",2),d(1,"app-news-grid-card",3),a()),n&2){let e=t.$implicit,r=t.index,l=c(3);s("colspan",1)("rowspan",1),o(),s("newsItem",e)("newsIndex",l.getIndex(e))("newsColorStyle",l.getCardColor(r))("cardType",l.cardTypes.SMALL)}}function kt(n,t){if(n&1&&(i(0,"div")(1,"mat-grid-list",1)(2,"mat-grid-tile",2),d(3,"app-news-grid-card",3),a(),i(4,"mat-grid-tile",2),d(5,"app-news-grid-card",3),a(),i(6,"mat-grid-tile",2),d(7,"app-news-grid-card",3),a()(),i(8,"mat-grid-list",4),p(9,Vt,2,6,"mat-grid-tile",5),a()()),n&2){let e=c(2);o(2),s("colspan",2)("rowspan",2),o(),s("newsItem",e.latestNews[0])("newsIndex",e.getIndex(e.latestNews[0]))("newsColorStyle",e.getCardColor(0))("cardType",e.cardTypes.BIG),o(),s("colspan",2)("rowspan",1),o(),s("newsItem",e.latestNews[1])("newsIndex",e.getIndex(e.latestNews[1]))("newsColorStyle",e.getCardColor(1))("cardType",e.cardTypes.MEDIUM),o(),s("colspan",2)("rowspan",1),o(),s("newsItem",e.latestNews[2])("newsIndex",e.getIndex(e.latestNews[2]))("newsColorStyle",e.getCardColor(2))("cardType",e.cardTypes.MEDIUM),o(2),s("ngForOf",e.moreNews)}}function Dt(n,t){if(n&1&&(i(0,"div"),p(1,kt,10,19,"div",0),a()),n&2){let e=c();o(),s("ngIf",e.latestNews&&e.latestNews.length>0)}}function zt(n,t){if(n&1&&(i(0,"div")(1,"mat-grid-tile",2),d(2,"app-news-card",8),a()()),n&2){let e=t.$implicit,r=t.index,l=c(2);o(),s("colspan",1)("rowspan",1),o(),s("newsItem",e)("newsIndex",r)("newsColorStyle",l.getCardColor(r))}}function Ot(n,t){if(n&1&&(i(0,"div")(1,"mat-grid-list",6),p(2,zt,3,5,"div",7),a()()),n&2){let e=c();o(2),s("ngForOf",e.newsList)}}function At(n,t){if(n&1&&(i(0,"div")(1,"mat-grid-tile",2),d(2,"app-news-card",8),a()()),n&2){let e=t.$implicit,r=t.index,l=c(2);o(),s("colspan",1)("rowspan",1),o(),s("newsItem",e)("newsIndex",r)("newsColorStyle",l.getCardColor(r))}}function Lt(n,t){if(n&1&&(i(0,"div")(1,"mat-grid-list",9),p(2,At,3,5,"div",7),a()()),n&2){let e=c();o(2),s("ngForOf",e.newsList)}}var xe=class n{constructor(t,e){this.newsService=t;this.screenSizeService=e}newsList;latestNews;moreNews;cardTypes=fe;screenSize;ScreenSizes=A;ngOnInit(){this.newsList=[],this.latestNews=[],this.moreNews=[],this.newsService.getAllNewsForNewsPage().subscribe(t=>{console.log(t);for(let e of t.news){let r=e;this.newsService.newsList.unshift(r)}this.newsList=this.newsService.newsList;for(let[e,r]of this.newsService.newsList.entries())e<3?this.latestNews.push(r):this.moreNews.push(r);console.log(this.latestNews)}),this.screenSizeService.currentScreenSize$.subscribe(t=>{this.screenSize=t})}getCardColor(t){return this.newsService.newsColorStyleList[t%this.newsService.newsColorStyleList.length]}getIndex(t){return this.newsService.newsList.findIndex(e=>t.id===e.id)}static \u0275fac=function(e){return new(e||n)(v(b),v(L))};static \u0275cmp=S({type:n,selectors:[["app-news-grid"]],standalone:!1,decls:3,vars:3,consts:[[4,"ngIf"],["cols","4","rowHeight","1:1"],[3,"colspan","rowspan"],[3,"newsItem","newsIndex","newsColorStyle","cardType"],["cols","3","rowHeight","1:1"],[3,"colspan","rowspan",4,"ngFor","ngForOf"],["cols","1","rowHeight","1:0.6"],[4,"ngFor","ngForOf"],[3,"newsItem","newsIndex","newsColorStyle"],["cols","1","rowHeight","1:1.05"]],template:function(e,r){e&1&&p(0,Dt,2,1,"div",0)(1,Ot,3,1,"div",0)(2,Lt,3,1,"div",0),e&2&&(s("ngIf",r.screenSize==r.ScreenSizes.LAPTOP),o(),s("ngIf",r.screenSize==r.ScreenSizes.LANDSCAPE||r.screenSize==r.ScreenSizes.TABLET),o(),s("ngIf",r.screenSize==r.ScreenSizes.PORTRAIT))},dependencies:[D,_,Ue,Be,ue,ge],encapsulation:2})};function Gt(n,t){if(n&1){let e=C();i(0,"button",10),g("click",function(){f(e);let l=c();return w(l.openNewsForm())}),m(1,"Crear Noticia"),a()}}var ve=class n{constructor(t){this.loginService=t}newsFormRef;isCreateNewsVisible;ngOnInit(){this.isCreateNewsVisible=this.loginService.checkPermissions("ROLE_MARKETING"),this.loginService.evento$.subscribe(t=>{this.isCreateNewsVisible=this.loginService.checkPermissions("ROLE_MARKETING")})}openNewsForm(){this.newsFormRef.showModal()}static \u0275fac=function(e){return new(e||n)(v(O))};static \u0275cmp=S({type:n,selectors:[["app-news-page"]],viewQuery:function(e,r){if(e&1&&T(G,5),e&2){let l;M(l=F())&&(r.newsFormRef=l.first)}},standalone:!1,decls:15,vars:1,consts:[[1,"relative","flex","flex-col","overflow-hidden","pb-15"],[1,"sm:px-6","lg:px-8","relative","text-center","z-10","max-w-5xl","mx-auto","mt-10"],[1,"space-y-6","sm:space-y-8"],[1,"space-y-3","sm:space-y-4","stagger-appear"],[1,"text-3xl","sm:text-5xl","lg:text-6xl","font-bold","text-gray-900","leading-tight"],[1,"bg-gradient-to-r","from-emerald-600","to-cyan-600","bg-clip-text","text-transparent"],["id","open-create-news-modal","class","ml-4 inline-flex items-center justify-center px-4 py-2 sm:px-5 sm:py-1 text-sm font-semibold text-white bg-gradient-to-r from-emerald-600 to-cyan-600 hover:from-emerald-700 hover:to-cyan-700 rounded-lg transition-all duration-300 transform hover:scale-105 hover:shadow-lg",3,"click",4,"ngIf"],[1,"relative","w-full","max-w-7xl","mx-auto","px-4","py-5"],[1,"relative","mt-5","mb-5"],[1,"relative","mb-10"],["id","open-create-news-modal",1,"ml-4","inline-flex","items-center","justify-center","px-4","py-2","sm:px-5","sm:py-1","text-sm","font-semibold","text-white","bg-gradient-to-r","from-emerald-600","to-cyan-600","hover:from-emerald-700","hover:to-cyan-700","rounded-lg","transition-all","duration-300","transform","hover:scale-105","hover:shadow-lg",3,"click"]],template:function(e,r){e&1&&(i(0,"section",0),d(1,"app-background-pattern"),i(2,"div",1)(3,"div",2)(4,"div",3)(5,"h2",4),m(6," \xDAltimas "),i(7,"span",5),m(8," Noticias "),a()(),p(9,Gt,2,0,"button",6),a()()()(),i(10,"section",7),d(11,"div",8),i(12,"div",9),d(13,"app-news-grid"),a()(),d(14,"app-news-form")),e&2&&(o(9),s("ngIf",r.isCreateNewsVisible))},dependencies:[_,Pe,G,xe],encapsulation:2})};var Pt=[{path:"",component:ve}],he=class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=K({type:n});static \u0275inj=Q({imports:[Ce.forChild(Pt),Ce]})};var Je=class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=K({type:n});static \u0275inj=Q({imports:[Oe,je,he,Le,Ge,Re,qe,Qe]})};export{b as a,G as b,ue as c,Je as d};

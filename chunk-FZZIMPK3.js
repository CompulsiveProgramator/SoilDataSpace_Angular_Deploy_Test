import{a as K}from"./chunk-CHMQDSFV.js";import{a as X}from"./chunk-PXIFBYDN.js";import{Fa as s,Fb as M,Ga as a,Gb as O,Ha as c,I as R,Ia as q,Ib as H,J as f,Ka as P,Lb as Q,Mb as J,Nb as k,Ob as z,P as I,Pb as A,Q as j,Qa as b,Ra as S,Sa as w,Sb as B,Ub as G,Va as L,Wa as l,a as _,b as N,oa as F,pa as h,ta as D,ua as v,ub as V}from"./chunk-XSD7VU42.js";var d={_origin:"https://api.emailjs.com"};var U=(t,e="https://api.emailjs.com")=>{d._userID=t,d._origin=e};var g=(t,e,o)=>{if(!t)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!o)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};var p=class{constructor(e){this.status=e.status,this.text=e.responseText}};var x=(t,e,o={})=>new Promise((n,r)=>{let m=new XMLHttpRequest;m.addEventListener("load",({target:i})=>{let u=new p(i);u.status===200||u.text==="OK"?n(u):r(u)}),m.addEventListener("error",({target:i})=>{r(new p(i))}),m.open("POST",d._origin+t,!0),Object.keys(o).forEach(i=>{m.setRequestHeader(i,o[i])}),m.send(e)});var W=(t,e,o,n)=>{let r=n||d._userID;return g(r,t,e),x("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:r,service_id:t,template_id:e,template_params:o}),{"Content-type":"application/json"})};var ee=t=>{let e;if(typeof t=="string"?e=document.querySelector(t):e=t,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},Y=(t,e,o,n)=>{let r=n||d._userID,m=ee(o);g(r,t,e);let i=new FormData(m);return i.append("lib_version","3.2.0"),i.append("service_id",t),i.append("template_id",e),i.append("user_id",r),x("/api/v1.0/email/send-form",i)};var Z={init:U,send:W,sendForm:Y};var y=class t{serviceID="service_p4mxosb";templateID="template_1on1m8g";publicKey="QqA-yXOtxRNRrDxOD";constructor(){}sendEmail(e){return Z.send(this.serviceID,this.templateID,e,this.publicKey)}static \u0275fac=function(o){return new(o||t)};static \u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"})};var re=["toast"],oe=["toastMessage"],C=class t{constructor(e,o,n){this.renderer=e;this.emailService=o;this.notificationService=n}toast;toastMessage;sendEmail(e){let n=new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),r=N(_({},e.value),{time:n});r!=null&&r.name!=""&&r.email!=""&&r.message!=null&&r.name!=null&&r.email!=null&&r.message!=null?this.emailService.sendEmail(r).then(m=>{m.status===200?this.showToastGood():this.showToastBad()}):this.showToastIncomplete()}showToastGood(){this.renderer.addClass(this.toast.nativeElement,"opacity-100"),this.renderer.removeClass(this.toast.nativeElement,"opacity-0"),this.renderer.addClass(this.toast.nativeElement,"bg-gradient-to-r"),this.renderer.addClass(this.toast.nativeElement,"from-emerald-600"),this.renderer.addClass(this.toast.nativeElement,"to-cyan-600"),this.renderer.setProperty(this.toastMessage.nativeElement,"textContent","Correo enviado correctamente."),setTimeout(()=>{this.renderer.addClass(this.toast.nativeElement,"opacity-0"),this.renderer.removeClass(this.toast.nativeElement,"opacity-100"),setTimeout(()=>{this.renderer.removeClass(this.toast.nativeElement,"bg-gradient-to-r"),this.renderer.removeClass(this.toast.nativeElement,"from-emerald-600"),this.renderer.removeClass(this.toast.nativeElement,"to-cyan-600")},1500)},2500)}showToastBad(){this.renderer.addClass(this.toast.nativeElement,"opacity-100"),this.renderer.removeClass(this.toast.nativeElement,"opacity-0"),this.renderer.addClass(this.toast.nativeElement,"bg-gradient-to-r"),this.renderer.addClass(this.toast.nativeElement,"from-red-600"),this.renderer.addClass(this.toast.nativeElement,"to-red-800"),this.renderer.setProperty(this.toastMessage.nativeElement,"textContent","Ha habido un error en el env\xEDo del correo."),setTimeout(()=>{this.renderer.addClass(this.toast.nativeElement,"opacity-0"),this.renderer.removeClass(this.toast.nativeElement,"opacity-100"),setTimeout(()=>{this.renderer.removeClass(this.toast.nativeElement,"bg-gradient-to-r"),this.renderer.removeClass(this.toast.nativeElement,"from-red-600"),this.renderer.removeClass(this.toast.nativeElement,"to-red-800")},1500)},2500)}showToastIncomplete(){this.renderer.addClass(this.toast.nativeElement,"opacity-100"),this.renderer.removeClass(this.toast.nativeElement,"opacity-0"),this.renderer.addClass(this.toast.nativeElement,"bg-gradient-to-r"),this.renderer.addClass(this.toast.nativeElement,"from-red-600"),this.renderer.addClass(this.toast.nativeElement,"to-red-800"),this.renderer.setProperty(this.toastMessage.nativeElement,"textContent","No se puede enviar un correo vac\xEDo."),setTimeout(()=>{this.renderer.addClass(this.toast.nativeElement,"opacity-0"),this.renderer.removeClass(this.toast.nativeElement,"opacity-100"),setTimeout(()=>{this.renderer.removeClass(this.toast.nativeElement,"bg-gradient-to-r"),this.renderer.removeClass(this.toast.nativeElement,"from-red-600"),this.renderer.removeClass(this.toast.nativeElement,"to-red-800")},1500)},2500)}static \u0275fac=function(o){return new(o||t)(h(F),h(y),h(O))};static \u0275cmp=D({type:t,selectors:[["app-contact-layout"]],viewQuery:function(o,n){if(o&1&&(b(re,5),b(oe,5)),o&2){let r;S(r=w())&&(n.toast=r.first),S(r=w())&&(n.toastMessage=r.first)}},standalone:!1,decls:35,vars:0,consts:[["contactForm","ngForm"],["toast",""],["toastMessage",""],[1,"relative","flex","flex-col","overflow-hidden"],[1,"sm:px-6","lg:px-8","relative","text-center","z-10","max-w-5xl","mx-auto","mt-10"],[1,"space-y-3","sm:space-y-4","stagger-appear","pb-10","px-8"],[1,"text-3xl","sm:text-5xl","lg:text-6xl","font-bold","text-gray-900","leading-tight"],[1,"text-lg","text-gray-700","text-center"],[1,"max-w-md","mx-auto","bg-white","shadow-xl","rounded-2xl","p-6","flex","flex-col","gap-4",3,"ngSubmit"],[1,"flex","flex-col"],[1,"text-sm","font-medium","text-gray-600","mb-1"],["type","text","name","name","ngModel","","required","","placeholder","Tu nombre",1,"p-3","rounded-xl","border","border-gray-300","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition"],["type","email","name","email","ngModel","","required","","placeholder","tu@email.com",1,"p-3","rounded-xl","border","border-gray-300","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition"],["name","message","ngModel","","required","","placeholder","Cu\xE9ntanos en qu\xE9 podemos ayudarte","rows","4",1,"p-3","rounded-xl","border","border-gray-300","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition","resize-none"],["type","submit",1,"mt-2","bg-gradient-to-r","from-emerald-600","to-cyan-600","text-white","font-semibold","py-3","rounded-xl","hover:bg-blue-700","transition","transform","hover:-translate-y-0.5"],[1,"text-lg","text-gray-700"],[1,"cursor-pointer","underline","hover:text-blue-600"],["id","toast",1,"fixed","top-[69px]","left-1/2","transform","-translate-x-1/2","px-6","py-3","rounded-lg","shadow-lg","opacity-0","transition-all","duration-500","ease-in-out","w-80","text-center","z-50","pointer-events-none","text-white"],["id","toastMessage"]],template:function(o,n){if(o&1){let r=q();s(0,"section",3),c(1,"app-background-pattern"),s(2,"div",4)(3,"div",5)(4,"h2",6),l(5," Contacto "),a(),s(6,"p",7),l(7," Rellene el siguiente formulario si tiene alguna consulta,"),c(8,"br"),l(9," y le responderemos lo antes posible: "),a(),s(10,"form",8,0),P("ngSubmit",function(){I(r);let i=L(11);return j(n.sendEmail(i))}),s(12,"div",9)(13,"label",10),l(14,"Nombre"),a(),c(15,"input",11),a(),s(16,"div",9)(17,"label",10),l(18,"Email"),a(),c(19,"input",12),a(),s(20,"div",9)(21,"label",10),l(22,"Consulta"),a(),c(23,"textarea",13),a(),s(24,"button",14),l(25," Enviar "),a()(),s(26,"p",15),l(27," O si lo deseas, puedes escribirnos directamente al correo "),s(28,"span",16),l(29,"soildataspace@ujaen.es"),a()()()()(),s(30,"div",17,1)(32,"span",18,2),l(34,"Correo enviado correctamente."),a()()}},dependencies:[K,A,H,Q,J,B,z,k],encapsulation:2})};var ie=[{path:"",component:C}],E=class t{static \u0275fac=function(o){return new(o||t)};static \u0275mod=v({type:t});static \u0275inj=f({imports:[M.forChild(ie),M]})};var $=class t{static \u0275fac=function(o){return new(o||t)};static \u0275mod=v({type:t});static \u0275inj=f({imports:[V,X,E,G]})};export{$ as ContactModule};

import{a as ae}from"./chunk-F34LDUYR.js";import{d as Ie,f as Ee,g as Ve}from"./chunk-SGTNLNZW.js";import{y as Ae}from"./chunk-OJYV446X.js";import{a as le}from"./chunk-CHMQDSFV.js";import{a as k}from"./chunk-26ZB6XY4.js";import{a as Fe}from"./chunk-PXIFBYDN.js";import{a as P}from"./chunk-GW7PBGRF.js";import{Fa as o,Fb as Ce,Ga as n,Ha as m,I as ie,Ia as w,Ib as q,J as re,Jb as b,Ka as d,L as j,La as c,Lb as B,Mb as Q,Oa as S,P as p,Pb as z,Q as u,Qa as F,Qb as U,R as G,Ra as A,Rb as $,S as O,Sa as V,Sb as se,Tb as H,Ub as ye,Vb as Se,Wa as l,Xa as M,Ya as I,c as y,f as te,ia as L,la as a,pa as g,rb as ne,sb as _,ta as C,ua as oe,ub as _e,wa as v,za as f}from"./chunk-XSD7VU42.js";var N=class s{constructor(t,e,i){this.apiService=t;this.loginService=e;this.toastService=i}defaultCongressImage="assets/hero.png";congressList=[];evento=new te;evento$=this.evento.asObservable();emitReloadEvent(t){this.evento.next(t)}base64Convert(t){return y(this,null,function*(){return new Promise((e,i)=>{let r=new FileReader;r.onload=()=>e(r.result),r.onerror=i,r.readAsDataURL(t)})})}parseFormDataToCongressInterface(t,e){return y(this,null,function*(){let i=t.value;return{id:i.id,title:i.title,subtitle:i.subtitle,author:i.author,image:e||"",link:i.link}})}getAllCongress(){return this.congressList=[],this.apiService.httpGet("/conference/public/all").subscribe(t=>{for(let e of t.conference){let i=e;this.congressList.push(i)}}),this.congressList}createCongress(t){let e=new FormData,i={title:t.title,subtitle:t.subtitle,author:t.author,link:t.link};e.append("conference",new Blob([JSON.stringify(i)],{type:"application/json"})),e.append("file",t.image),this.apiService.httpPost("/conference/marketing/conference",e).subscribe(r=>{(r.status=200)&&(this.toastService.emitAction(1,"Congreso creado correctamente"),this.emitReloadEvent(""))})}deleteCongress(t){let e=this.congressList.at(t)?.id;this.apiService.httpDelete("/conference/marketing/conference/"+e).subscribe(i=>{(i.status=200)&&(this.toastService.emitAction(2,"Congreso borrado correctamente"),this.emitReloadEvent(""))})}editCongress(t,e){let i=this.congressList.at(e)?.id,r=new FormData,h={title:t.title,subtitle:t.subtitle,author:t.author,link:t.link};r.append("conference",new Blob([JSON.stringify(h)],{type:"application/json"})),r.append("file",t.image),this.apiService.httpPut("/conference/marketing/conference/"+i,r).subscribe(x=>{(x.status=200)&&(this.toastService.emitAction(1,"Congreso editado correctamente"),this.emitReloadEvent(""))})}imageValidation(t){return!!["image/jpeg","image/png"].includes(t)}textValidation(t){let e=/(?:https?:\/\/|ftps?:\/\/|www\.|[a-z0-9-]+\.[a-z]{2,})(?:\S*)/gi,i=/[<>&\//]/g,r=/(<script|javascript:|eval\(|onload=|onerror=|onmouseover=|document\.|window\.|alert\(|prompt\(|confirm\()/i,h=/[\n\r\t]/g;var x=t.replace(h,"");x=x.replace(e,"");let J=i.test(x),xe=r.test(x);return!J&&!xe}formValidation(t,e,i){if(t.invalid)return{isValid:!1,errorCode:"ERROR: No se pudo crear el congreso. Falta un campo obligatorio."};let r=t.value;for(let[h,x]of Object.entries(r))if(h!="image"&&x!=null&&!this.textValidation(x))return{isValid:!1,errorCode:"ERROR: No se pudo crear el congreso. Se ha introducido un car\xE1cter no admitido (<>&/)."};return e!=null&&!this.imageValidation(i)?{isValid:!1,errorCode:"ERROR: No se pudo crear el congreso. La imagen est\xE1 en un formato no admitido."}:{isValid:!0,errorCode:null}}static \u0275fac=function(e){return new(e||s)(j(P),j(k),j(ae))};static \u0275prov=ie({token:s,factory:s.\u0275fac,providedIn:"root"})};function Te(s,t){if(s&1&&(o(0,"p",17),l(1),n()),s&2){let e=c(2);a(),M(e.errorMessage)}}function De(s,t){if(s&1){let e=w();o(0,"div",1),d("mousedown",function(){p(e);let r=c();return u(r.closeModal())}),o(1,"div",2),d("mousedown",function(r){return p(e),u(r.stopPropagation())}),o(2,"button",3),d("click",function(){p(e);let r=c();return u(r.closeModal())}),l(3,"\xD7"),n(),o(4,"form",4),d("ngSubmit",function(){p(e);let r=c();return u(r.onSubmit())}),o(5,"h2",5),l(6,"Crear congreso"),n(),o(7,"p"),l(8,"*T\xEDtulo: "),n(),m(9,"input",6),o(10,"p"),l(11,"Subt\xEDtulo: "),n(),m(12,"input",7),o(13,"p"),l(14,"*Autor: "),n(),m(15,"input",8),o(16,"p"),l(17,"*Enlace: "),n(),m(18,"input",9),o(19,"p"),l(20,"*Imagen: "),n(),o(21,"span",10),l(22,"Formatos admitidos: .png, .jpg, .jpeg"),n(),o(23,"input",11),d("change",function(r){p(e);let h=c();return u(h.onFileSelected(r))}),n(),o(24,"label",12),G(),o(25,"svg",13),m(26,"path",14),n(),l(27),n(),v(28,Te,2,1,"p",15),O(),o(29,"button",16),l(30," Crear congreso "),n()()()()}if(s&2){let e=c();a(4),f("formGroup",e.congressForm),a(23),I(" ",e.fileName||"Elegir archivo"," "),a(),f("ngIf",e.errorActive)}}var W=class s{constructor(t,e){this.fb=t;this.congressService=e}isVisible;congressForm;errorMessage;file;fileName=null;fileType;errorActive;ngOnInit(){this.isVisible=!1,this.errorActive=!1,this.congressForm=this.fb.group({id:[""],title:["",b.required],subtitle:[""],author:["",b.required],link:["",b.required],image:[null,b.required]})}showModal(){this.isVisible=!0,document.body.style.overflow="hidden"}showError(t){this.errorMessage=t,this.errorActive=!0}hideError(){this.errorActive=!1}closeModal(){this.isVisible=!1,this.hideError(),document.body.style.overflow="",this.fileName=null,this.congressForm.reset()}onFileSelected(t){let e=t.target.files[0];e?(this.file=e,this.fileName=e.name,this.fileType=e.type):(this.file=null,this.fileName=null,this.fileType="")}onSubmit(){return y(this,null,function*(){let t=this.congressService.formValidation(this.congressForm,this.fileName,this.fileType);t.isValid?(this.congressService.createCongress(yield this.congressService.parseFormDataToCongressInterface(this.congressForm,this.file)),this.closeModal()):this.showError(t.errorCode)})}static \u0275fac=function(e){return new(e||s)(g(H),g(N))};static \u0275cmp=C({type:s,selectors:[["app-congress-form"]],standalone:!1,decls:1,vars:1,consts:[["class","modal-backdrop",3,"mousedown",4,"ngIf"],[1,"modal-backdrop",3,"mousedown"],[1,"relative","bg-white","rounded-2xl","shadow-2xl","w-full","max-w-3xl","sm:max-w-4xl","md:max-w-5xl","overflow-hidden","animate-fadeIn","flex","flex-col","h-auto","max-h-[90vh]","sm:h-[85vh]","overflow-y-auto","mt-4","mb-4",3,"mousedown"],[1,"absolute","top-3","right-3","text-gray-500","hover:text-gray-800","text-3xl","font-bold","leading-none","z-10",3,"click"],[1,"flex","flex-col","gap-4","p-6",3,"ngSubmit","formGroup"],[1,"text-2xl","sm:text-3xl","font-extrabold","text-emerald-700","mb-8"],["type","text","formControlName","title","placeholder","T\xEDtulo del congreso.",1,"input-news"],["type","text","formControlName","subtitle","placeholder","Subt\xEDtulo",1,"input-news"],["type","text","formControlName","author","placeholder","Autor del congreso.",1,"input-news"],["type","text","formControlName","link","placeholder","Enlace al congreso",1,"input-news"],[1,"text-sm","text-gray-600"],["id","file-upload","type","file","formControlName","image","accept","image/png, image/jpeg, .png, .jpg",1,"hidden",3,"change"],["for","file-upload",1,"cursor-pointer","inline-flex","items-center","px-4","py-2","bg-gray-200","text-gray-700","rounded-md","border","border-gray-300","hover:bg-gray-300"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-5","w-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","d","M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"],["id","errorMessage","class","text-sm text-red-600 mt-2",4,"ngIf"],["type","submit",1,"w-full","inline-flex","items-center","justify-center","px-4","py-2","sm:px-5","sm:py-10","text-xl","font-semibold","text-white","bg-gradient-to-r","from-emerald-600","to-cyan-600","hover:from-emerald-700","hover:to-cyan-700","rounded-lg","transition-all","duration-300","transform","hover:scale-102","hover:shadow-lg"],["id","errorMessage",1,"text-sm","text-red-600","mt-2"]],template:function(e,i){e&1&&v(0,De,31,3,"div",0),e&2&&f("ngIf",i.isVisible)},dependencies:[_,z,q,B,Q,U,$],styles:[".modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000b3;z-index:999;display:flex;justify-content:center;align-items:center;overflow:hidden}.input-news[_ngcontent-%COMP%], .input-news-high[_ngcontent-%COMP%]{border:1px solid #d1d5db;border-radius:.25rem;padding:.5rem .75rem;width:100%;box-sizing:border-box;transition:box-shadow .2s,border-color .2s}  mat-form-field.mat-form-field{color:#059669!important}"]})};function je(s,t){if(s&1&&(o(0,"p",17),l(1),n()),s&2){let e=c(2);a(),M(e.errorMessage)}}function Ge(s,t){if(s&1){let e=w();o(0,"div",1),d("mousedown",function(){p(e);let r=c();return u(r.closeModal())}),o(1,"div",2),d("mousedown",function(r){return p(e),u(r.stopPropagation())}),o(2,"button",3),d("click",function(){p(e);let r=c();return u(r.closeModal())}),l(3,"\xD7"),n(),o(4,"form",4),d("ngSubmit",function(){p(e);let r=c();return u(r.onSubmit())}),o(5,"h2",5),l(6,"Editar congreso"),n(),o(7,"p"),l(8,"*T\xEDtulo: "),n(),m(9,"input",6),o(10,"p"),l(11,"Subt\xEDtulo: "),n(),m(12,"input",7),o(13,"p"),l(14,"*Autor: "),n(),m(15,"input",8),o(16,"p"),l(17,"*Enlace: "),n(),m(18,"input",9),o(19,"p"),l(20,"Imagen: "),n(),o(21,"span",10),l(22,"Formatos admitidos: .png, .jpg, .jpeg"),n(),o(23,"input",11),d("change",function(r){p(e);let h=c();return u(h.onFileSelected(r))}),n(),o(24,"label",12),G(),o(25,"svg",13),m(26,"path",14),n(),l(27),n(),v(28,je,2,1,"p",15),O(),o(29,"button",16),l(30," Editar congreso "),n()()()()}if(s&2){let e=c();a(4),f("formGroup",e.congressForm),a(5),S("value",e.congressItem.title),a(3),S("value",e.congressItem.subtitle),a(3),S("value",e.congressItem.author),a(3),S("value",e.congressItem.link),a(9),I(" ",e.fileName||"Elegir archivo"," "),a(),f("ngIf",e.errorActive)}}var X=class s{constructor(t,e){this.fb=t;this.congressService=e}congressItem;congressIndex;isVisible;congressForm;errorMessage;errorActive;selectedCategory;categoryList;file;fileName=null;fileType;ngOnInit(){this.isVisible=!1,this.errorActive=!1}resetForm(){this.congressForm=this.fb.group({id:[this.congressItem.id,b.required],title:[this.congressItem.title,b.required],subtitle:[this.congressItem.subtitle],author:[this.congressItem.author,b.required],link:[this.congressItem.link,b.required],image:[null]})}showModal(){this.resetForm(),this.isVisible=!0,document.body.style.overflow="hidden"}showError(t){this.errorMessage=t,this.errorActive=!0}hideError(){this.errorActive=!1}closeModal(){this.isVisible=!1,this.hideError(),document.body.style.overflow="",this.fileName=null,this.resetForm()}onFileSelected(t){let e=t.target.files[0];e?(this.file=e,this.fileName=e.name,this.fileType=e.type):(this.file=null,this.fileName=null,this.fileType="")}onSubmit(){return y(this,null,function*(){let t=this.congressService.formValidation(this.congressForm,this.fileName,this.fileType);t.isValid?(this.congressService.editCongress(yield this.congressService.parseFormDataToCongressInterface(this.congressForm,this.file),this.congressIndex),this.closeModal()):this.showError(t.errorCode)})}static \u0275fac=function(e){return new(e||s)(g(H),g(N))};static \u0275cmp=C({type:s,selectors:[["app-congress-edit-form"]],inputs:{congressItem:"congressItem",congressIndex:"congressIndex"},standalone:!1,decls:1,vars:1,consts:[["class","modal-backdrop",3,"mousedown",4,"ngIf"],[1,"modal-backdrop",3,"mousedown"],[1,"relative","bg-white","rounded-2xl","shadow-2xl","w-full","max-w-3xl","sm:max-w-4xl","md:max-w-5xl","overflow-hidden","animate-fadeIn","flex","flex-col","h-auto","max-h-[90vh]","sm:h-[85vh]","overflow-y-auto","mt-4","mb-4",3,"mousedown"],[1,"absolute","top-3","right-3","text-gray-500","hover:text-gray-800","text-3xl","font-bold","leading-none","z-10",3,"click"],["id","congresss_form",1,"flex","flex-col","gap-4","p-6",3,"ngSubmit","formGroup"],[1,"text-2xl","sm:text-3xl","font-extrabold","text-emerald-700","mb-8"],["type","text","formControlName","title","placeholder","T\xEDtulo del congreso.",1,"input-news",3,"value"],["type","text","formControlName","subtitle","placeholder","Subt\xEDtulo",1,"input-news",3,"value"],["type","text","formControlName","author","placeholder","Autor del congreso.","required","",1,"input-news",3,"value"],["type","text","formControlName","link","placeholder","Enlace al congreso",1,"input-news",3,"value"],[1,"text-sm","text-gray-600"],["id","file-upload","type","file","formControlName","image","accept","image/png, image/jpeg, .png, .jpg",1,"hidden",3,"change"],["for","file-upload",1,"cursor-pointer","inline-flex","items-center","px-4","py-2","bg-gray-200","text-gray-700","rounded-md","border","border-gray-300","hover:bg-gray-300"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-5","w-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","d","M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"],["id","errorMessage","class","text-sm text-red-600 mt-2",4,"ngIf"],["type","submit",1,"w-full","inline-flex","items-center","justify-center","px-4","py-2","sm:px-5","sm:py-10","text-xl","font-semibold","text-white","bg-gradient-to-r","from-emerald-600","to-cyan-600","hover:from-emerald-700","hover:to-cyan-700","rounded-lg","transition-all","duration-300","transform","hover:scale-102","hover:shadow-lg"],["id","errorMessage",1,"text-sm","text-red-600","mt-2"]],template:function(e,i){e&1&&v(0,Ge,31,7,"div",0),e&2&&f("ngIf",i.isVisible)},dependencies:[_,z,q,B,Q,se,U,$],styles:[".modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000b3;z-index:999;display:flex;justify-content:center;align-items:center;overflow:hidden}.input-news[_ngcontent-%COMP%], .input-news-high[_ngcontent-%COMP%]{border:1px solid #d1d5db;border-radius:.25rem;padding:.5rem .75rem;width:100%;box-sizing:border-box;transition:box-shadow .2s,border-color .2s}"]})};function Le(s,t){if(s&1){let e=w();o(0,"div",1),d("mousedown",function(){p(e);let r=c();return u(r.closeModal())}),o(1,"div",2),d("mousedown",function(r){return p(e),u(r.stopPropagation())}),o(2,"button",3),d("click",function(){p(e);let r=c();return u(r.closeModal())}),o(3,"span",4),l(4," \xD7 "),n()(),o(5,"div",5),m(6,"img",6),n()()()}if(s&2){let e=c();a(6),f("src",e.Image,L)}}var D=class s{Image;isVisible=!1;showModal(){this.isVisible=!0,document.body.style.overflow="hidden"}closeModal(){this.isVisible=!1,document.body.style.overflow=""}static \u0275fac=function(e){return new(e||s)};static \u0275cmp=C({type:s,selectors:[["app-image-modal"]],inputs:{Image:"Image"},standalone:!1,decls:1,vars:1,consts:[["class","modal-backdrop",3,"mousedown",4,"ngIf"],[1,"modal-backdrop",3,"mousedown"],[1,"relative","bg-white","rounded-2xl","shadow-2xl","w-full","max-w-3xl","sm:max-w-4xl","md:max-w-5xl","overflow-hidden","animate-fadeIn","flex","flex-col","h-auto","max-h-[90vh]","sm:h-[85vh]","overflow-y-auto","mt-4","mb-4",3,"mousedown"],["id","close-modal",1,"absolute","top-3","right-3","text-gray-500","hover:text-gray-800","text-3xl","font-bold","leading-none","z-10",3,"click"],[1,"relative","flex","items-center","justify-center","w-8","h-8","rounded-full","bg-white","shadow-md"],[1,"flex-grow","overflow-y-auto","text-gray-700","leading-relaxed"],[1,"w-full","h-fit","object-center","transition-transform","duration-300",3,"src"]],template:function(e,i){e&1&&v(0,Le,7,1,"div",0),e&2&&f("ngIf",i.isVisible)},dependencies:[_],styles:[".modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000b3;z-index:999;display:flex;justify-content:center;align-items:center;overflow:hidden}"]})};var ce=class s{constructor(t,e){this.congressService=t;this.apiService=e}congressItem;congressIndex;finalImage="";imageModalRef;ngOnInit(){this.finalImage=this.apiService.urlBase+this.apiService.urlApiVersion+this.congressItem.image||this.congressService.defaultCongressImage}openModal(){this.imageModalRef.showModal()}static \u0275fac=function(e){return new(e||s)(g(N),g(P))};static \u0275cmp=C({type:s,selectors:[["app-congress-grid-card"]],viewQuery:function(e,i){if(e&1&&F(D,5),e&2){let r;A(r=V())&&(i.imageModalRef=r.first)}},inputs:{congressItem:"congressItem",congressIndex:"congressIndex"},standalone:!1,decls:17,vars:7,consts:[[1,"flex","flex-col","items-center","justify-center","w-[300px]","md:w-[500px]","h-[600px]","md:h-[900px]"],[1,"h-[10%]","md:h-[15%]","w-full","grid","place-items-center","rounded-t-lg","font-semibold","text-white","bg-gradient-to-r","from-emerald-600","to-cyan-600","px-4"],[1,"w-full","text-md","md:text-xl","leading-snug","text-justify","line-clamp-2","md:line-clamp-3","overflow-hidden"],[1,"cursor-pointer","h-[70%]","md:h-[65%]","w-full",3,"click","src","alt"],[1,"h-[20%]","w-full","flex","flex-col","bottom-0","border-t","border-black","p-3","px-6","gap-2"],[1,"hidden","md:flex","flex-col"],[1,"text-gray-700","line-clamp-1"],[1,"text-gray-700","line-clamp-2"],["target","_blank",1,"font-semibold","w-fit","rounded-lg","text-gray-700","hover:text-blue-700","mt-auto",3,"href"],[1,"fa-solid","fa-arrow-up-right-from-square","p-1"],[3,"Image"]],template:function(e,i){e&1&&(o(0,"article",0)(1,"h2",1)(2,"span",2),l(3),n()(),o(4,"img",3),d("click",function(){return i.openModal()}),n(),o(5,"div",4)(6,"div",5)(7,"span",6),l(8),n()(),o(9,"span",7)(10,"b"),l(11,"Autores:"),n(),l(12),n(),o(13,"a",8),l(14," Enlace al art\xEDculo "),m(15,"i",9),n()()(),m(16,"app-image-modal",10)),e&2&&(a(3),I(" ",i.congressItem.title," "),a(),f("src",i.finalImage,L)("alt",i.congressItem.title),a(4),M(i.congressItem.subtitle),a(4),I(" ",i.congressItem.author,""),a(),S("href",i.congressItem.link,L),a(3),f("Image",i.finalImage.toString()))},dependencies:[D],encapsulation:2})};function qe(s,t){if(s&1){let e=w();o(0,"div",6)(1,"button",7),d("click",function(){p(e);let r=c(),h=r.$implicit,x=r.index,J=c();return u(J.onEdit(h,x))}),l(2," Editar "),n(),o(3,"button",8),d("click",function(){p(e);let r=c().index,h=c();return u(h.onDelete(r))}),l(4," Borrar "),n()()}}function Be(s,t){if(s&1&&(o(0,"div",3),m(1,"app-congress-grid-card",4),v(2,qe,5,0,"div",5),n()),s&2){let e=t.$implicit,i=t.index,r=c();a(),f("congressItem",e)("congressIndex",i),a(),f("ngIf",r.hasMarketingPermission)}}var de=class s{constructor(t,e){this.congressService=t;this.loginService=e;this.hasMarketingPermission=this.loginService.checkPermissions("ROLE_MARKETING"),this.loginService.evento$.subscribe(i=>{this.hasMarketingPermission=this.loginService.checkPermissions("ROLE_MARKETING")}),this.congressService.evento$.subscribe(i=>{this.congressList=this.congressService.getAllCongress()})}congressList;congressEditForm;hasMarketingPermission=!1;ngOnInit(){this.congressList=this.congressService.getAllCongress()}onDelete(t){this.congressService.deleteCongress(t)}onEdit(t,e){this.congressEditForm.congressIndex=e,this.congressEditForm.congressItem=t,this.congressEditForm.showModal()}static \u0275fac=function(e){return new(e||s)(g(N),g(k))};static \u0275cmp=C({type:s,selectors:[["app-congress-grid"]],viewQuery:function(e,i){if(e&1&&F(X,5),e&2){let r;A(r=V())&&(i.congressEditForm=r.first)}},standalone:!1,decls:4,vars:1,consts:[[1,"flex","justify-center"],[1,"grid","gap-25","grid-cols-1","xl:grid-cols-2"],["class",`rounded-lg shadow-xl hover:shadow-2xl transition-all duration-300
                    h-fit w-fit flex flex-col justify-between`,4,"ngFor","ngForOf"],[1,"rounded-lg","shadow-xl","hover:shadow-2xl","transition-all","duration-300","h-fit","w-fit","flex","flex-col","justify-between"],[3,"congressItem","congressIndex"],["class","flex justify-end gap-1 p-2",4,"ngIf"],[1,"flex","justify-end","gap-1","p-2"],[1,"rounded-lg","p-2","text-white","font-semibold","shadow-md","bg-gradient-to-r","from-emerald-600","to-cyan-600","hover:from-emerald-700","hover:to-cyan-700","transition",3,"click"],[1,"rounded-lg","p-2","text-white","font-semibold","shadow-md","bg-gradient-to-r","from-red-600","to-red-800","hover:from-red-700","hover:to-red-900","transition",3,"click"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1),v(2,Be,3,3,"div",2),n()(),m(3,"app-congress-edit-form")),e&2&&(a(2),f("ngForOf",i.congressList))},dependencies:[ne,_,X,ce],encapsulation:2})};function Ue(s,t){if(s&1){let e=w();o(0,"button",10),d("click",function(){p(e);let r=c();return u(r.openCongressForm())}),l(1,"Crear congreso"),n()}}var pe=class s{constructor(t){this.loginService=t}congressFormRef;isCreateCongressVisible=!1;ngOnInit(){this.isCreateCongressVisible=this.loginService.checkPermissions("ROLE_MARKETING"),this.loginService.evento$.subscribe(t=>{this.isCreateCongressVisible=this.loginService.checkPermissions("ROLE_MARKETING")})}openCongressForm(){this.congressFormRef.showModal()}static \u0275fac=function(e){return new(e||s)(g(k))};static \u0275cmp=C({type:s,selectors:[["app-congresses"]],viewQuery:function(e,i){if(e&1&&F(W,5),e&2){let r;A(r=V())&&(i.congressFormRef=r.first)}},standalone:!1,decls:14,vars:1,consts:[[1,"relative","flex","flex-col","overflow-hidden","pb-15"],[1,"sm:px-6","lg:px-8","relative","text-center","z-10","max-w-5xl","mx-auto","mt-10"],[1,"space-y-6","sm:space-y-8"],[1,"space-y-3","sm:space-y-4","stagger-appear"],[1,"text-3xl","sm:text-5xl","lg:text-6xl","font-bold","text-gray-900","leading-tight"],[1,"bg-gradient-to-r","from-emerald-600","to-cyan-600","bg-clip-text","text-transparent"],["id","open-create-news-modal","class","ml-4 inline-flex items-center justify-center px-4 py-2 sm:px-5 sm:py-1 text-sm font-semibold text-white bg-gradient-to-r from-emerald-600 to-cyan-600 hover:from-emerald-700 hover:to-cyan-700 rounded-lg transition-all duration-300 transform hover:scale-105 hover:shadow-lg",3,"click",4,"ngIf"],[1,"relative","w-full","max-w-7xl","mx-auto","px-4","py-5"],[1,"relative","mt-5","mb-5"],[1,"relative","mb-10"],["id","open-create-news-modal",1,"ml-4","inline-flex","items-center","justify-center","px-4","py-2","sm:px-5","sm:py-1","text-sm","font-semibold","text-white","bg-gradient-to-r","from-emerald-600","to-cyan-600","hover:from-emerald-700","hover:to-cyan-700","rounded-lg","transition-all","duration-300","transform","hover:scale-105","hover:shadow-lg",3,"click"]],template:function(e,i){e&1&&(o(0,"section",0),m(1,"app-background-pattern"),o(2,"div",1)(3,"div",2)(4,"div",3)(5,"h2",4)(6,"span",5),l(7," Congresos "),n()(),v(8,Ue,2,0,"button",6),n()()()(),o(9,"section",7),m(10,"div",8),o(11,"div",9),m(12,"app-congress-grid"),n()(),m(13,"app-congress-form")),e&2&&(a(8),f("ngIf",i.isCreateCongressVisible))},dependencies:[_,le,W,de],encapsulation:2})};var R=class s{constructor(t,e,i){this.apiService=t;this.loginService=e;this.toastService=i}defaultArticlesImage="assets/hero.png";articlesList=[];evento=new te;evento$=this.evento.asObservable();emitReloadEvent(t){this.evento.next(t)}base64Convert(t){return y(this,null,function*(){return new Promise((e,i)=>{let r=new FileReader;r.onload=()=>e(r.result),r.onerror=i,r.readAsDataURL(t)})})}parseFormDataToarticlesInterface(t,e){return y(this,null,function*(){let i=t.value;return{id:i.id,title:i.title,subtitle:i.subtitle,author:i.author,image:e||"",link:i.link}})}getAllArticles(){return this.articlesList=[],this.apiService.httpGet("/article/public/all").subscribe(t=>{for(let e of t.article){let i=e;this.articlesList.push(i)}}),this.articlesList}createArticle(t){let e=new FormData,i={title:t.title,subtitle:t.subtitle,author:t.author,link:t.link};e.append("article",new Blob([JSON.stringify(i)],{type:"application/json"})),e.append("file",t.image),this.apiService.httpPost("/article/marketing/article",e).subscribe(r=>{(r.status=200)&&(this.toastService.emitAction(1,"Art\xEDculo creado correctamente"),this.emitReloadEvent(""))})}deleteArticles(t){let e=this.articlesList.at(t)?.id;this.apiService.httpDelete("/article/marketing/article/"+e).subscribe(i=>{(i.status=200)&&(this.toastService.emitAction(2,"Art\xEDculo borrado correctamente"),this.emitReloadEvent(""))})}editArticles(t,e){let i=this.articlesList.at(e)?.id,r=new FormData,h={title:t.title,subtitle:t.subtitle,author:t.author,link:t.link};r.append("article",new Blob([JSON.stringify(h)],{type:"application/json"})),r.append("file",t.image),this.apiService.httpPut("/article/marketing/article/"+i,r).subscribe(x=>{(x.status=200)&&(this.toastService.emitAction(1,"Art\xEDculo editado correctamente"),this.emitReloadEvent(""))})}imageValidation(t){return!!["image/jpeg","image/png"].includes(t)}textValidation(t){let e=/(?:https?:\/\/|ftps?:\/\/|www\.|[a-z0-9-]+\.[a-z]{2,})(?:\S*)/gi,i=/[<>&\//]/g,r=/(<script|javascript:|eval\(|onload=|onerror=|onmouseover=|document\.|window\.|alert\(|prompt\(|confirm\()/i,h=/[\n\r\t]/g;var x=t.replace(h,"");x=x.replace(e,"");let J=i.test(x),xe=r.test(x);return!J&&!xe}formValidation(t,e,i){if(t.invalid)return{isValid:!1,errorCode:"ERROR: No se pudo crear el art\xEDculo. Falta un campo obligatorio."};let r=t.value;for(let[h,x]of Object.entries(r))if(h!="image"&&x!=null&&!this.textValidation(x))return{isValid:!1,errorCode:"ERROR: No se pudo crear el art\xEDculo. Se ha introducido un car\xE1cter no admitido (<>&/)."};return e!=null&&!this.imageValidation(i)?{isValid:!1,errorCode:"ERROR: No se pudo crear el art\xEDculo. La imagen est\xE1 en un formato no admitido."}:{isValid:!0,errorCode:null}}static \u0275fac=function(e){return new(e||s)(j(P),j(k),j(ae))};static \u0275prov=ie({token:s,factory:s.\u0275fac,providedIn:"root"})};function $e(s,t){if(s&1&&(o(0,"p",17),l(1),n()),s&2){let e=c(2);a(),M(e.errorMessage)}}function He(s,t){if(s&1){let e=w();o(0,"div",1),d("mousedown",function(){p(e);let r=c();return u(r.closeModal())}),o(1,"div",2),d("mousedown",function(r){return p(e),u(r.stopPropagation())}),o(2,"button",3),d("click",function(){p(e);let r=c();return u(r.closeModal())}),l(3,"\xD7"),n(),o(4,"form",4),d("ngSubmit",function(){p(e);let r=c();return u(r.onSubmit())}),o(5,"h2",5),l(6,"Crear art\xEDculo"),n(),o(7,"p"),l(8,"*T\xEDtulo: "),n(),m(9,"input",6),o(10,"p"),l(11,"Subt\xEDtulo: "),n(),m(12,"input",7),o(13,"p"),l(14,"*Autor: "),n(),m(15,"input",8),o(16,"p"),l(17,"*Enlace: "),n(),m(18,"input",9),o(19,"p"),l(20,"*Imagen: "),n(),o(21,"span",10),l(22,"Formatos admitidos: .png, .jpg, .jpeg"),n(),o(23,"input",11),d("change",function(r){p(e);let h=c();return u(h.onFileSelected(r))}),n(),o(24,"label",12),G(),o(25,"svg",13),m(26,"path",14),n(),l(27),n(),v(28,$e,2,1,"p",15),O(),o(29,"button",16),l(30," Crear art\xEDculo "),n()()()()}if(s&2){let e=c();a(4),f("formGroup",e.articleForm),a(23),I(" ",e.fileName||"Elegir archivo"," "),a(),f("ngIf",e.errorActive)}}var Y=class s{constructor(t,e){this.fb=t;this.articlesService=e}isVisible;articleForm;errorMessage;file;fileName=null;fileType;errorActive;ngOnInit(){this.isVisible=!1,this.errorActive=!1,this.articleForm=this.fb.group({id:[""],title:["",b.required],subtitle:[""],author:["",b.required],link:["",b.required],image:[null,b.required]})}showModal(){this.isVisible=!0,document.body.style.overflow="hidden"}showError(t){this.errorMessage=t,this.errorActive=!0}hideError(){this.errorActive=!1}closeModal(){this.isVisible=!1,this.hideError(),document.body.style.overflow="",this.fileName=null,this.articleForm.reset()}onFileSelected(t){let e=t.target.files[0];e?(this.file=e,this.fileName=e.name,this.fileType=e.type):(this.file=null,this.fileName=null,this.fileType="")}onSubmit(){return y(this,null,function*(){let t=this.articlesService.formValidation(this.articleForm,this.fileName,this.fileType);t.isValid?(this.articlesService.createArticle(yield this.articlesService.parseFormDataToarticlesInterface(this.articleForm,this.file)),this.closeModal()):this.showError(t.errorCode)})}static \u0275fac=function(e){return new(e||s)(g(H),g(R))};static \u0275cmp=C({type:s,selectors:[["app-articles-form"]],standalone:!1,decls:1,vars:1,consts:[["class","modal-backdrop",3,"mousedown",4,"ngIf"],[1,"modal-backdrop",3,"mousedown"],[1,"relative","bg-white","rounded-2xl","shadow-2xl","w-full","max-w-3xl","sm:max-w-4xl","md:max-w-5xl","overflow-hidden","animate-fadeIn","flex","flex-col","h-auto","max-h-[90vh]","sm:h-[85vh]","overflow-y-auto","mt-4","mb-4",3,"mousedown"],[1,"absolute","top-3","right-3","text-gray-500","hover:text-gray-800","text-3xl","font-bold","leading-none","z-10",3,"click"],["id","articles_form",1,"flex","flex-col","gap-4","p-6",3,"ngSubmit","formGroup"],[1,"text-2xl","sm:text-3xl","font-extrabold","text-emerald-700","mb-8"],["type","text","formControlName","title","placeholder","T\xEDtulo del art\xEDculo.",1,"input-news"],["type","text","formControlName","subtitle","placeholder","Subt\xEDtulo",1,"input-news"],["type","text","formControlName","author","placeholder","Autor del art\xEDculo.",1,"input-news"],["type","text","formControlName","link","placeholder","Enlace al art\xEDculo",1,"input-news"],[1,"text-sm","text-gray-600"],["id","file-upload","type","file","formControlName","image","accept","image/png, image/jpeg, .png, .jpg",1,"hidden",3,"change"],["for","file-upload",1,"cursor-pointer","inline-flex","items-center","px-4","py-2","bg-gray-200","text-gray-700","rounded-md","border","border-gray-300","hover:bg-gray-300"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-5","w-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","d","M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"],["id","errorMessage","class","text-sm text-red-600 mt-2",4,"ngIf"],["type","submit",1,"w-full","inline-flex","items-center","justify-center","px-4","py-2","sm:px-5","sm:py-10","text-xl","font-semibold","text-white","bg-gradient-to-r","from-emerald-600","to-cyan-600","hover:from-emerald-700","hover:to-cyan-700","rounded-lg","transition-all","duration-300","transform","hover:scale-102","hover:shadow-lg"],["id","errorMessage",1,"text-sm","text-red-600","mt-2"]],template:function(e,i){e&1&&v(0,He,31,3,"div",0),e&2&&f("ngIf",i.isVisible)},dependencies:[_,z,q,B,Q,U,$],styles:[".modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000b3;z-index:999;display:flex;justify-content:center;align-items:center;overflow:hidden}.input-news[_ngcontent-%COMP%], .input-news-high[_ngcontent-%COMP%]{border:1px solid #d1d5db;border-radius:.25rem;padding:.5rem .75rem;width:100%;box-sizing:border-box;transition:box-shadow .2s,border-color .2s}  mat-form-field.mat-form-field{color:#059669!important}"]})};function Je(s,t){if(s&1&&(o(0,"p",17),l(1),n()),s&2){let e=c(2);a(),M(e.errorMessage)}}function We(s,t){if(s&1){let e=w();o(0,"div",1),d("mousedown",function(){p(e);let r=c();return u(r.closeModal())}),o(1,"div",2),d("mousedown",function(r){return p(e),u(r.stopPropagation())}),o(2,"button",3),d("click",function(){p(e);let r=c();return u(r.closeModal())}),l(3,"\xD7"),n(),o(4,"form",4),d("ngSubmit",function(){p(e);let r=c();return u(r.onSubmit())}),o(5,"h2",5),l(6,"Editar art\xEDculo"),n(),o(7,"p"),l(8,"*T\xEDtulo: "),n(),m(9,"input",6),o(10,"p"),l(11,"Subt\xEDtulo: "),n(),m(12,"input",7),o(13,"p"),l(14,"*Autor: "),n(),m(15,"input",8),o(16,"p"),l(17,"*Enlace: "),n(),m(18,"input",9),o(19,"p"),l(20,"Imagen: "),n(),o(21,"span",10),l(22,"Formatos admitidos: .png, .jpg, .jpeg"),n(),o(23,"input",11),d("change",function(r){p(e);let h=c();return u(h.onFileSelected(r))}),n(),o(24,"label",12),G(),o(25,"svg",13),m(26,"path",14),n(),l(27),n(),v(28,Je,2,1,"p",15),O(),o(29,"button",16),l(30," Editar art\xEDculo "),n()()()()}if(s&2){let e=c();a(4),f("formGroup",e.articleForm),a(5),S("value",e.articleItem.title),a(3),S("value",e.articleItem.subtitle),a(3),S("value",e.articleItem.author),a(3),S("value",e.articleItem.link),a(9),I(" ",e.fileName||"Elegir archivo"," "),a(),f("ngIf",e.errorActive)}}var Z=class s{constructor(t,e){this.fb=t;this.articleService=e}articleItem;articleIndex;isVisible;articleForm;errorMessage;errorActive;selectedCategory;categoryList;file;fileName=null;fileType;ngOnInit(){this.isVisible=!1,this.errorActive=!1}resetForm(){this.articleForm=this.fb.group({id:[this.articleItem.id,b.required],title:[this.articleItem.title,b.required],subtitle:[this.articleItem.subtitle],author:[this.articleItem.author,b.required],link:[this.articleItem.link,b.required],image:[null]})}showModal(){this.resetForm(),this.isVisible=!0,document.body.style.overflow="hidden"}showError(t){this.errorMessage=t,this.errorActive=!0}hideError(){this.errorActive=!1}closeModal(){this.isVisible=!1,this.hideError(),document.body.style.overflow="",this.fileName=null,this.resetForm()}onFileSelected(t){let e=t.target.files[0];e?(this.file=e,this.fileName=e.name,this.fileType=e.type):(this.file=null,this.fileName=null,this.fileType="")}onSubmit(){return y(this,null,function*(){let t=this.articleService.formValidation(this.articleForm,this.fileName,this.fileType);t.isValid?(this.articleService.editArticles(yield this.articleService.parseFormDataToarticlesInterface(this.articleForm,this.file),this.articleIndex),this.closeModal()):this.showError(t.errorCode)})}static \u0275fac=function(e){return new(e||s)(g(H),g(R))};static \u0275cmp=C({type:s,selectors:[["app-articles-edit-form"]],inputs:{articleItem:"articleItem",articleIndex:"articleIndex"},standalone:!1,decls:1,vars:1,consts:[["class","modal-backdrop",3,"mousedown",4,"ngIf"],[1,"modal-backdrop",3,"mousedown"],[1,"relative","bg-white","rounded-2xl","shadow-2xl","w-full","max-w-3xl","sm:max-w-4xl","md:max-w-5xl","overflow-hidden","animate-fadeIn","flex","flex-col","h-auto","max-h-[90vh]","sm:h-[85vh]","overflow-y-auto","mt-4","mb-4",3,"mousedown"],[1,"absolute","top-3","right-3","text-gray-500","hover:text-gray-800","text-3xl","font-bold","leading-none","z-10",3,"click"],["id","articles_form",1,"flex","flex-col","gap-4","p-6",3,"ngSubmit","formGroup"],[1,"text-2xl","sm:text-3xl","font-extrabold","text-emerald-700","mb-8"],["type","text","formControlName","title","placeholder","T\xEDtulo del art\xEDculo.",1,"input-news",3,"value"],["type","text","formControlName","subtitle","placeholder","Subt\xEDtulo",1,"input-news",3,"value"],["type","text","formControlName","author","placeholder","Autor del art\xEDculo.","required","",1,"input-news",3,"value"],["type","text","formControlName","link","placeholder","Enlace al art\xEDculo",1,"input-news",3,"value"],[1,"text-sm","text-gray-600"],["id","file-upload","type","file","formControlName","image","accept","image/png, image/jpeg, .png, .jpg",1,"hidden",3,"change"],["for","file-upload",1,"cursor-pointer","inline-flex","items-center","px-4","py-2","bg-gray-200","text-gray-700","rounded-md","border","border-gray-300","hover:bg-gray-300"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-5","w-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","d","M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"],["id","errorMessage","class","text-sm text-red-600 mt-2",4,"ngIf"],["type","submit",1,"w-full","inline-flex","items-center","justify-center","px-4","py-2","sm:px-5","sm:py-10","text-xl","font-semibold","text-white","bg-gradient-to-r","from-emerald-600","to-cyan-600","hover:from-emerald-700","hover:to-cyan-700","rounded-lg","transition-all","duration-300","transform","hover:scale-102","hover:shadow-lg"],["id","errorMessage",1,"text-sm","text-red-600","mt-2"]],template:function(e,i){e&1&&v(0,We,31,7,"div",0),e&2&&f("ngIf",i.isVisible)},dependencies:[_,z,q,B,Q,se,U,$],styles:[".modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000b3;z-index:999;display:flex;justify-content:center;align-items:center;overflow:hidden}.input-news[_ngcontent-%COMP%], .input-news-high[_ngcontent-%COMP%]{border:1px solid #d1d5db;border-radius:.25rem;padding:.5rem .75rem;width:100%;box-sizing:border-box;transition:box-shadow .2s,border-color .2s}"]})};var fe=class s{constructor(t,e){this.articlesService=t;this.apiService=e}articlesItem;articlesIndex;finalImage="";imageModalRef;ngOnInit(){this.finalImage=this.apiService.urlBase+this.apiService.urlApiVersion+this.articlesItem.image||this.articlesService.defaultArticlesImage}openModal(){this.imageModalRef.showModal()}static \u0275fac=function(e){return new(e||s)(g(R),g(P))};static \u0275cmp=C({type:s,selectors:[["app-articles-grid-card"]],viewQuery:function(e,i){if(e&1&&F(D,5),e&2){let r;A(r=V())&&(i.imageModalRef=r.first)}},inputs:{articlesItem:"articlesItem",articlesIndex:"articlesIndex"},standalone:!1,decls:17,vars:7,consts:[[1,"flex","flex-col","items-center","justify-center","w-[300px]","md:w-[500px]","h-[600px]","md:h-[900px]"],[1,"h-[10%]","md:h-[15%]","w-full","grid","place-items-center","rounded-t-lg","font-semibold","text-white","bg-gradient-to-r","from-emerald-600","to-cyan-600","px-4"],[1,"w-full","text-md","md:text-xl","leading-snug","text-justify","line-clamp-2","md:line-clamp-3","overflow-hidden"],[1,"cursor-pointer","h-[70%]","md:h-[65%]","w-full",3,"click","src","alt"],[1,"h-[20%]","w-full","flex","flex-col","bottom-0","border-t","border-black","p-3","px-6","gap-2"],[1,"hidden","md:flex","flex-col"],[1,"line-clamp-1","text-gray-700"],[1,"line-clamp-2","text-gray-700"],["target","_blank",1,"font-semibold","w-fit","rounded-lg","text-gray-700","hover:text-blue-700","mt-auto",3,"href"],[1,"fa-solid","fa-arrow-up-right-from-square","p-1"],[3,"Image"]],template:function(e,i){e&1&&(o(0,"article",0)(1,"h2",1)(2,"span",2),l(3),n()(),o(4,"img",3),d("click",function(){return i.openModal()}),n(),o(5,"div",4)(6,"div",5)(7,"span",6),l(8),n()(),o(9,"span",7)(10,"b"),l(11,"Autores:"),n(),l(12),n(),o(13,"a",8),l(14," Enlace al art\xEDculo "),m(15,"i",9),n()()(),m(16,"app-image-modal",10)),e&2&&(a(3),I(" ",i.articlesItem.title," "),a(),f("src",i.finalImage,L)("alt",i.articlesItem.title),a(4),M(i.articlesItem.subtitle),a(4),I(" ",i.articlesItem.author,""),a(),S("href",i.articlesItem.link,L),a(3),f("Image",i.finalImage.toString()))},dependencies:[D],encapsulation:2})};function Ze(s,t){if(s&1){let e=w();o(0,"div",6)(1,"button",7),d("click",function(){p(e);let r=c(),h=r.$implicit,x=r.index,J=c();return u(J.onEdit(h,x))}),l(2," Editar "),n(),o(3,"button",8),d("click",function(){p(e);let r=c().index,h=c();return u(h.onDelete(r))}),l(4," Borrar "),n()()}}function et(s,t){if(s&1&&(o(0,"div",3),m(1,"app-articles-grid-card",4),v(2,Ze,5,0,"div",5),n()),s&2){let e=t.$implicit,i=t.index,r=c();a(),f("articlesItem",e)("articlesIndex",i),a(),f("ngIf",r.hasMarketingPermission)}}var ge=class s{constructor(t,e){this.articlesService=t;this.loginService=e;this.hasMarketingPermission=this.loginService.checkPermissions("ROLE_MARKETING"),this.loginService.evento$.subscribe(i=>{this.hasMarketingPermission=this.loginService.checkPermissions("ROLE_MARKETING")}),this.articlesService.evento$.subscribe(i=>{this.articlesList=this.articlesService.getAllArticles()})}articlesList;articlesEditForm;hasMarketingPermission=!1;ngOnInit(){this.articlesList=this.articlesService.getAllArticles()}onDelete(t){this.articlesService.deleteArticles(t)}onEdit(t,e){this.articlesEditForm.articleIndex=e,this.articlesEditForm.articleItem=t,this.articlesEditForm.showModal()}static \u0275fac=function(e){return new(e||s)(g(R),g(k))};static \u0275cmp=C({type:s,selectors:[["app-articles-grid"]],viewQuery:function(e,i){if(e&1&&F(Z,5),e&2){let r;A(r=V())&&(i.articlesEditForm=r.first)}},standalone:!1,decls:4,vars:1,consts:[[1,"flex","justify-center"],[1,"grid","gap-25","grid-cols-1","xl:grid-cols-2"],["class",`rounded-lg shadow-xl hover:shadow-2xl transition-all duration-300
                    h-fit w-fit flex flex-col justify-between`,4,"ngFor","ngForOf"],[1,"rounded-lg","shadow-xl","hover:shadow-2xl","transition-all","duration-300","h-fit","w-fit","flex","flex-col","justify-between"],[3,"articlesItem","articlesIndex"],["class","flex justify-end gap-1 p-2",4,"ngIf"],[1,"flex","justify-end","gap-1","p-2"],[1,"rounded-lg","p-2","text-white","font-semibold","shadow-md","bg-gradient-to-r","from-emerald-600","to-cyan-600","hover:from-emerald-700","hover:to-cyan-700","transition",3,"click"],[1,"rounded-lg","p-2","text-white","font-semibold","shadow-md","bg-gradient-to-r","from-red-600","to-red-800","hover:from-red-700","hover:to-red-900","transition",3,"click"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1),v(2,et,3,3,"div",2),n()(),m(3,"app-articles-edit-form")),e&2&&(a(2),f("ngForOf",i.articlesList))},dependencies:[ne,_,Z,fe],encapsulation:2})};function it(s,t){if(s&1){let e=w();o(0,"button",10),d("click",function(){p(e);let r=c();return u(r.openArticlesForm())}),l(1,"Crear Art\xEDculo"),n()}}var he=class s{constructor(t){this.loginService=t}articlesFormRef;isCreateArticlesVisible=!1;ngOnInit(){this.isCreateArticlesVisible=this.loginService.checkPermissions("ROLE_MARKETING"),this.loginService.evento$.subscribe(t=>{this.isCreateArticlesVisible=this.loginService.checkPermissions("ROLE_MARKETING")})}openArticlesForm(){this.articlesFormRef.showModal()}static \u0275fac=function(e){return new(e||s)(g(k))};static \u0275cmp=C({type:s,selectors:[["app-articles"]],viewQuery:function(e,i){if(e&1&&F(Y,5),e&2){let r;A(r=V())&&(i.articlesFormRef=r.first)}},standalone:!1,decls:14,vars:1,consts:[[1,"relative","flex","flex-col","overflow-hidden","pb-15"],[1,"sm:px-6","lg:px-8","relative","text-center","z-10","max-w-5xl","mx-auto","mt-10"],[1,"space-y-6","sm:space-y-8"],[1,"space-y-3","sm:space-y-4","stagger-appear"],[1,"text-3xl","sm:text-5xl","lg:text-6xl","font-bold","text-gray-900","leading-tight"],[1,"bg-gradient-to-r","from-emerald-600","to-cyan-600","bg-clip-text","text-transparent"],["id","open-create-news-modal","class","ml-4 inline-flex items-center justify-center px-4 py-2 sm:px-5 sm:py-1 text-sm font-semibold text-white bg-gradient-to-r from-emerald-600 to-cyan-600 hover:from-emerald-700 hover:to-cyan-700 rounded-lg transition-all duration-300 transform hover:scale-105 hover:shadow-lg",3,"click",4,"ngIf"],[1,"relative","w-full","max-w-7xl","mx-auto","px-4","py-5"],[1,"relative","mt-5","mb-5"],[1,"relative","mb-10"],["id","open-create-news-modal",1,"ml-4","inline-flex","items-center","justify-center","px-4","py-2","sm:px-5","sm:py-1","text-sm","font-semibold","text-white","bg-gradient-to-r","from-emerald-600","to-cyan-600","hover:from-emerald-700","hover:to-cyan-700","rounded-lg","transition-all","duration-300","transform","hover:scale-105","hover:shadow-lg",3,"click"]],template:function(e,i){e&1&&(o(0,"section",0),m(1,"app-background-pattern"),o(2,"div",1)(3,"div",2)(4,"div",3)(5,"h2",4)(6,"span",5),l(7," Art\xEDculos "),n()(),v(8,it,2,0,"button",6),n()()()(),o(9,"section",7),m(10,"div",8),o(11,"div",9),m(12,"app-articles-grid"),n()(),m(13,"app-articles-form")),e&2&&(a(8),f("ngIf",i.isCreateArticlesVisible))},dependencies:[_,le,Y,ge],encapsulation:2})};var rt=[{path:"congresses",component:pe},{path:"articles",component:he}],ve=class s{static \u0275fac=function(e){return new(e||s)};static \u0275mod=oe({type:s});static \u0275inj=re({imports:[Ce.forChild(rt),Ce]})};var ke=class s{static \u0275fac=function(e){return new(e||s)};static \u0275mod=oe({type:s});static \u0275inj=re({imports:[_e,ve,Fe,Se,Ee,Ie,Ae,Ve,ye]})};export{ke as PublishingModule};

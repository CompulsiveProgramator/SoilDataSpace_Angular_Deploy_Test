import{a as ve}from"./chunk-WACOHYZX.js";import{a as ct,b as mt}from"./chunk-STQ5DY3V.js";import{v as Q,w as ut,x as ht,y as ft}from"./chunk-OJYV446X.js";import{a as dt}from"./chunk-CHMQDSFV.js";import{a as ae}from"./chunk-26ZB6XY4.js";import{a as pt}from"./chunk-PXIFBYDN.js";import{a as at}from"./chunk-GW7PBGRF.js";import{A as Ge,Aa as Ve,Ba as K,Bb as se,Ca as Je,E as Be,Ea as Xe,F as Qe,Fa as n,Fb as Fe,Ga as a,H as ee,Ha as p,Hb as le,I as te,Ia as w,Ib as de,J as P,Jb as O,K as q,Ka as _,L,La as u,Lb as ce,M as S,Ma as et,Mb as me,Na as tt,O as He,P as g,Pb as pe,Q as v,Qa as A,Qb as ue,R as Ye,Ra as N,Rb as he,Sa as k,Sb as fe,Tb as ge,V as qe,Vb as lt,W as $e,Wa as d,X as We,Xa as z,Y as $,Ya as oe,Z as ie,a as Re,b as Me,c as T,ca as Ze,d as Te,e as De,ea as Ke,f as Le,g as Ae,h as D,ha as B,hb as it,i as Ne,ia as C,ib as U,j as G,ja as W,jb as re,la as m,n as ke,ob as ne,p as ze,pa as b,rb as ot,sb as E,t as Oe,ta as y,ua as R,ub as rt,vb as nt,w as Ue,wa as f,y as je,ya as Z,za as l,zb as st}from"./chunk-XSD7VU42.js";var V=class i{constructor(r,e){this.apiService=r;this.util=e}videoList=[];parseFormDataToVideoInterface(r){return T(this,null,function*(){let e=r.value;return{id:e.id,title:e.title,date:e.date,url:e.url,ytShort:e.ytShort}})}getAllVideos(){return this.videoList=[],this.apiService.httpGet("/video/public/all")}uploadVideo(r){let e={title:r.title,date:r.date,url:r.url,ytShort:r.ytShort};console.log(JSON.stringify(e)),this.apiService.httpPost("/video/marketing/video",e,!0,!0,"application/json").subscribe(t=>{(t.status=200)&&window.location.reload()})}editVideo(r,e){let t={id:r.id,title:r.title,date:r.date,url:r.url,ytShort:r.ytShort};this.apiService.httpPut("/video/marketing/video/"+e,t).subscribe(o=>{(o.status=200)&&window.location.reload()})}deleteVideo(r){this.apiService.httpDelete("/video/marketing/video/"+r).subscribe(e=>{(e.status=200)&&window.location.reload()})}formValidation(r){if(r.invalid)return{isValid:!1,errorCode:"ERROR: No se pudo crear la noticia. Falta un campo obligatorio."};let e=r.value;for(let[t,o]of Object.entries(e))if(t!="ytShort"&&o!=null&&!this.util.textValidation(o))return{isValid:!1,errorCode:"ERROR: No se pudo subir el v\xEDdeo. Se ha introducido un car\xE1cter no admitido (<>&/)."};return{isValid:!0,errorCode:null}}static \u0275fac=function(e){return new(e||i)(L(at),L(ve))};static \u0275prov=te({token:i,factory:i.\u0275fac,providedIn:"root"})};function Tt(i,r){if(i&1&&(n(0,"p",19),d(1),a()),i&2){let e=u(2);m(),z(e.errorMessage)}}function Dt(i,r){if(i&1){let e=w();n(0,"div",1),_("mousedown",function(){g(e);let o=u();return v(o.closeModal())}),n(1,"div",2),_("mousedown",function(o){return g(e),v(o.stopPropagation())}),n(2,"button",3),_("click",function(){g(e);let o=u();return v(o.closeModal())}),d(3,"\xD7"),a(),n(4,"form",4),_("ngSubmit",function(){g(e);let o=u();return v(o.onSubmit())}),n(5,"h2",5),d(6,"Subir Nuevo V\xEDdeo"),a(),n(7,"p"),d(8,"*T\xEDtulo: "),a(),p(9,"input",6),n(10,"p"),d(11,"Fecha: "),a(),p(12,"input",7),n(13,"p"),d(14,"*Id del v\xEDdeo: "),a(),n(15,"p",8),d(16,"En PC para videos normales:"),a(),n(17,"p",9),d(18,"Hace falta copiar el ID del v\xEDdeo, no el enlace. El ID no contiene ni '=' ni '/', es el c\xF3digo que aparece al final en la URL."),a(),n(19,"p",9),d(20,'Por ejemplo, si la URL es: "https://www.youtube.com/watch?v=QDia3e12czc". Entonces el ID del v\xEDdeo es "QDia3e12czc".'),a(),p(21,"img",10),n(22,"p",8),d(23,"En PC para shorts:"),a(),p(24,"img",10),n(25,"p",8),d(26,"En m\xF3vil:"),a(),n(27,"p",9),d(28,"Primero hay que copiar el enlace utilizando la opci\xF3n de compartir."),a(),n(29,"div",11),p(30,"img",12),a(),n(31,"p",9),d(32,"Despu\xE9s, copiar el ID del v\xEDdeo."),a(),n(33,"p",9),d(34,'Por ejemplo, si la URL copiada desde m\xF3vil es: "https://youtu.be/QDia3e12czc?si=YagDCMWFiMe6kzUY". Entonces el ID del v\xEDdeo es "QDia3e12czc".'),a(),n(35,"div",11),p(36,"img",12),a(),n(37,"span",13),d(38,"Introduce el ID del v\xEDdeo:"),a(),p(39,"input",14),n(40,"div",15)(41,"p"),d(42,"*Short: "),a(),p(43,"input",16),n(44,"p",9),d(45,"IMPORTANTE: marcar esta casilla S\xD3LO cuando se est\xE1 subiendo un Short de YouTube."),a()(),f(46,Tt,2,1,"p",17),n(47,"button",18),d(48," Subir V\xEDdeo "),a()()()()}if(i&2){let e=u();m(4),l("formGroup",e.videoForm),m(17),l("src","assets/tutorial/tutorial_2.png",C),m(3),l("src","assets/tutorial/tutorial_1.png",C),m(6),l("src","assets/tutorial/tutorial_3.png",C),m(6),l("src","assets/tutorial/tutorial_4.png",C),m(10),l("ngIf",e.errorActive)}}var H=class i{constructor(r,e,t){this.fb=r;this.videoService=e;this.util=t}isVisible;videoForm;errorMessage;errorActive;ngOnInit(){this.isVisible=!1,this.errorActive=!1,this.videoForm=this.fb.group({id:[""],title:["",O.required],date:[this.util.getCurrentDate()],url:["",O.required],ytShort:[!1,O.required]})}showModal(){this.isVisible=!0,document.body.style.overflow="hidden"}closeModal(){this.isVisible=!1,this.hideError(),document.body.style.overflow="",this.videoForm.reset()}showError(r){this.errorMessage=r,this.errorActive=!0}hideError(){this.errorActive=!1}onSubmit(){return T(this,null,function*(){let r=this.videoService.formValidation(this.videoForm);r.isValid?(this.videoService.uploadVideo(yield this.videoService.parseFormDataToVideoInterface(this.videoForm)),this.closeModal()):this.showError(r.errorCode)})}static \u0275fac=function(e){return new(e||i)(b(ge),b(V),b(ve))};static \u0275cmp=y({type:i,selectors:[["app-video-form"]],standalone:!1,decls:1,vars:1,consts:[["class","modal-backdrop",3,"mousedown",4,"ngIf"],[1,"modal-backdrop",3,"mousedown"],[1,"relative","bg-white","rounded-2xl","shadow-2xl","w-full","max-w-3xl","sm:max-w-4xl","md:max-w-5xl","overflow-hidden","animate-fadeIn","flex","flex-col","h-auto","max-h-[90vh]","sm:h-[85vh]","overflow-y-auto","mt-4","mb-4",3,"mousedown"],[1,"absolute","top-3","right-3","text-gray-500","hover:text-gray-800","text-3xl","font-bold","leading-none","z-10",3,"click"],["id","news_form",1,"flex","flex-col","gap-4","p-6",3,"ngSubmit","formGroup"],[1,"text-2xl","sm:text-3xl","font-extrabold","text-emerald-700","mb-8"],["type","text","formControlName","title","placeholder","T\xEDtulo del v\xEDdeo.","required","",1,"input-news"],["type","date","formControlName","date","placeholder","dd/mm/yyyy",1,"input-news"],[1,"text-lg","font-bold","text-red-600","mt-2"],[1,"text-sm","text-red-600"],[3,"src"],[1,"w-full","inline-flex","items-center","justify-center"],["width","360",3,"src"],[1,"text-sm","text-gray-600"],["type","text","formControlName","url","placeholder","Ejemplo: E4WlUXrJgy4","required","",1,"input-news"],[1,"flex","gap-5","justify-start"],["type","checkbox","formControlName","ytShort"],["id","errorMessage","class","text-sm text-red-600 mt-2",4,"ngIf"],["type","submit",1,"w-full","inline-flex","items-center","justify-center","px-4","py-2","sm:px-5","sm:py-10","text-xl","font-semibold","text-white","bg-gradient-to-r","from-emerald-600","to-cyan-600","hover:from-emerald-700","hover:to-cyan-700","rounded-lg","transition-all","duration-300","transform","hover:scale-102","hover:shadow-lg"],["id","errorMessage",1,"text-sm","text-red-600","mt-2"]],template:function(e,t){e&1&&f(0,Dt,49,6,"div",0),e&2&&l("ngIf",t.isVisible)},dependencies:[E,pe,de,le,ce,me,fe,ue,he],styles:[".modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000b3;z-index:999;display:flex;justify-content:center;align-items:center;overflow:hidden}.input-news[_ngcontent-%COMP%]{border:1px solid #d1d5db;border-radius:.25rem;padding:.5rem .75rem;width:100%;box-sizing:border-box;transition:box-shadow .2s,border-color .2s}  mat-form-field.mat-form-field{color:#059669!important}"]})};var be;function Nt(){if(be===void 0&&(be=null,typeof window<"u")){let i=window;i.trustedTypes!==void 0&&(be=i.trustedTypes.createPolicy("angular#components",{createHTML:r=>r}))}return be}function J(i){return Nt()?.createHTML(i)||i}function gt(i){return Error(`Unable to find icon with the name "${i}"`)}function kt(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function vt(i){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${i}".`)}function _t(i){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${i}".`)}var M=class{url;svgText;options;svgElement;constructor(r,e,t){this.url=r,this.svgText=e,this.options=t}},St=(()=>{class i{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(e,t,o,s){this._httpClient=e,this._sanitizer=t,this._errorHandler=s,this._document=o}addSvgIcon(e,t,o){return this.addSvgIconInNamespace("",e,t,o)}addSvgIconLiteral(e,t,o){return this.addSvgIconLiteralInNamespace("",e,t,o)}addSvgIconInNamespace(e,t,o,s){return this._addSvgIconConfig(e,t,new M(o,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,t,o,s){let c=this._sanitizer.sanitize(B.HTML,o);if(!c)throw _t(o);let h=J(c);return this._addSvgIconConfig(e,t,new M("",h,s))}addSvgIconSet(e,t){return this.addSvgIconSetInNamespace("",e,t)}addSvgIconSetLiteral(e,t){return this.addSvgIconSetLiteralInNamespace("",e,t)}addSvgIconSetInNamespace(e,t,o){return this._addSvgIconSetConfig(e,new M(t,null,o))}addSvgIconSetLiteralInNamespace(e,t,o){let s=this._sanitizer.sanitize(B.HTML,t);if(!s)throw _t(t);let c=J(s);return this._addSvgIconSetConfig(e,new M("",c,o))}registerFontClassAlias(e,t=e){return this._fontCssClassesByAlias.set(e,t),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){let t=this._sanitizer.sanitize(B.RESOURCE_URL,e);if(!t)throw vt(e);let o=this._cachedIconsByUrl.get(t);return o?D(we(o)):this._loadSvgIconFromConfig(new M(e,null)).pipe(ee(s=>this._cachedIconsByUrl.set(t,s)),G(s=>we(s)))}getNamedSvgIcon(e,t=""){let o=yt(t,e),s=this._svgIconConfigs.get(o);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(t,e),s)return this._svgIconConfigs.set(o,s),this._getSvgFromConfig(s);let c=this._iconSetConfigs.get(t);return c?this._getSvgFromIconSetConfigs(e,c):Ne(gt(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?D(we(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(G(t=>we(t)))}_getSvgFromIconSetConfigs(e,t){let o=this._extractIconWithNameFromAnySet(e,t);if(o)return D(o);let s=t.filter(c=>!c.svgText).map(c=>this._loadSvgIconSetFromConfig(c).pipe(Oe(h=>{let j=`Loading icon set URL: ${this._sanitizer.sanitize(B.RESOURCE_URL,c.url)} failed: ${h.message}`;return this._errorHandler.handleError(new Error(j)),D(null)})));return ke(s).pipe(G(()=>{let c=this._extractIconWithNameFromAnySet(e,t);if(!c)throw gt(e);return c}))}_extractIconWithNameFromAnySet(e,t){for(let o=t.length-1;o>=0;o--){let s=t[o];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){let c=this._svgElementFromConfig(s),h=this._extractSvgIconFromSet(c,e,s.options);if(h)return h}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(ee(t=>e.svgText=t),G(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?D(null):this._fetchIcon(e).pipe(ee(t=>e.svgText=t))}_extractSvgIconFromSet(e,t,o){let s=e.querySelector(`[id="${t}"]`);if(!s)return null;let c=s.cloneNode(!0);if(c.removeAttribute("id"),c.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(c,o);if(c.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(c),o);let h=this._svgElementFromString(J("<svg></svg>"));return h.appendChild(c),this._setSvgAttributes(h,o)}_svgElementFromString(e){let t=this._document.createElement("DIV");t.innerHTML=e;let o=t.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(e){let t=this._svgElementFromString(J("<svg></svg>")),o=e.attributes;for(let s=0;s<o.length;s++){let{name:c,value:h}=o[s];c!=="id"&&t.setAttribute(c,h)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&t.appendChild(e.childNodes[s].cloneNode(!0));return t}_setSvgAttributes(e,t){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),t&&t.viewBox&&e.setAttribute("viewBox",t.viewBox),e}_fetchIcon(e){let{url:t,options:o}=e,s=o?.withCredentials??!1;if(!this._httpClient)throw kt();if(t==null)throw Error(`Cannot fetch icon from URL "${t}".`);let c=this._sanitizer.sanitize(B.RESOURCE_URL,t);if(!c)throw vt(t);let h=this._inProgressUrlFetches.get(c);if(h)return h;let x=this._httpClient.get(c,{responseType:"text",withCredentials:s}).pipe(G(j=>J(j)),je(()=>this._inProgressUrlFetches.delete(c)),Ge());return this._inProgressUrlFetches.set(c,x),x}_addSvgIconConfig(e,t,o){return this._svgIconConfigs.set(yt(e,t),o),this}_addSvgIconSetConfig(e,t){let o=this._iconSetConfigs.get(e);return o?o.push(t):this._iconSetConfigs.set(e,[t]),this}_svgElementFromConfig(e){if(!e.svgElement){let t=this._svgElementFromString(e.svgText);this._setSvgAttributes(t,e.options),e.svgElement=t}return e.svgElement}_getIconConfigFromResolvers(e,t){for(let o=0;o<this._resolvers.length;o++){let s=this._resolvers[o](t,e);if(s)return zt(s)?new M(s.url,null,s.options):new M(s,null)}}static \u0275fac=function(t){return new(t||i)(L(st,8),L(se),L(ne,8),L($))};static \u0275prov=te({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function we(i){return i.cloneNode(!0)}function yt(i,r){return i+":"+r}function zt(i){return!!(i.url&&i.options)}var Ot=["*"],Ut=new q("MAT_ICON_DEFAULT_OPTIONS"),jt=new q("mat-icon-location",{providedIn:"root",factory:Gt});function Gt(){let i=S(ne),r=i?i.location:null;return{getPathname:()=>r?r.pathname+r.search:""}}var bt=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Bt=bt.map(i=>`[${i}]`).join(", "),Qt=/^url\(['"]?#(.*?)['"]?\)$/,wt=(()=>{class i{_elementRef=S(ie);_iconRegistry=S(St);_location=S(jt);_errorHandler=S($);_defaultColor;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(e){let t=this._cleanupFontValue(e);t!==this._fontSet&&(this._fontSet=t,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(e){let t=this._cleanupFontValue(e);t!==this._fontIcon&&(this._fontIcon=t,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=Te.EMPTY;constructor(){let e=S(new qe("aria-hidden"),{optional:!0}),t=S(Ut,{optional:!0});t&&(t.color&&(this.color=this._defaultColor=t.color),t.fontSet&&(this.fontSet=t.fontSet)),e||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];let t=e.split(":");switch(t.length){case 1:return["",t[0]];case 2:return t;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let e=this._elementsWithExternalReferences;if(e&&e.size){let t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();let t=this._location.getPathname();this._previousPath=t,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(t),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){let e=this._elementRef.nativeElement,t=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();t--;){let o=e.childNodes[t];(o.nodeType!==1||o.nodeName.toLowerCase()==="svg")&&o.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let e=this._elementRef.nativeElement,t=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(o=>o.length>0);this._previousFontSetClass.forEach(o=>e.classList.remove(o)),t.forEach(o=>e.classList.add(o)),this._previousFontSetClass=t,this.fontIcon!==this._previousFontIconClass&&!t.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return typeof e=="string"?e.trim().split(" ")[0]:e}_prependPathToReferences(e){let t=this._elementsWithExternalReferences;t&&t.forEach((o,s)=>{o.forEach(c=>{s.setAttribute(c.name,`url('${e}#${c.value}')`)})})}_cacheChildrenWithExternalReferences(e){let t=e.querySelectorAll(Bt),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<t.length;s++)bt.forEach(c=>{let h=t[s],x=h.getAttribute(c),j=x?x.match(Qt):null;if(j){let X=o.get(h);X||(X=[],o.set(h,X)),X.push({name:c,value:j[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){let[t,o]=this._splitIconName(e);t&&(this._svgNamespace=t),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,t).pipe(Ue(1)).subscribe(s=>this._setSvgElement(s),s=>{let c=`Error retrieving icon ${t}:${o}! ${s.message}`;this._errorHandler.handleError(new Error(c))})}}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=y({type:i,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(t,o){t&2&&(Z("data-mat-icon-type",o._usingFontIcon()?"font":"svg")("data-mat-icon-name",o._svgName||o.fontIcon)("data-mat-icon-namespace",o._svgNamespace||o.fontSet)("fontIcon",o._usingFontIcon()?o.fontIcon:null),Je(o.color?"mat-"+o.color:""),K("mat-icon-inline",o.inline)("mat-icon-no-color",o.color!=="primary"&&o.color!=="accent"&&o.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",U],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],ngContentSelectors:Ot,decls:1,vars:0,template:function(t,o){t&1&&(et(),tt(0))},styles:[`mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}
`],encapsulation:2,changeDetection:0})}return i})(),It=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=R({type:i});static \u0275inj=P({imports:[Q,Q]})}return i})();function Yt(i,r){if(i&1&&(n(0,"p",19),d(1),a()),i&2){let e=u(2);m(),z(e.errorMessage)}}function qt(i,r){if(i&1){let e=w();n(0,"div",1),_("mousedown",function(){g(e);let o=u();return v(o.closeModal())}),n(1,"div",2),_("mousedown",function(o){return g(e),v(o.stopPropagation())}),n(2,"button",3),_("click",function(){g(e);let o=u();return v(o.closeModal())}),d(3,"\xD7"),a(),n(4,"form",4),_("ngSubmit",function(){g(e);let o=u();return v(o.onSubmit())}),n(5,"h2",5),d(6,"Editar V\xEDdeo"),a(),n(7,"p"),d(8,"*T\xEDtulo: "),a(),p(9,"input",6),n(10,"p"),d(11,"Fecha: "),a(),p(12,"input",7),n(13,"p"),d(14,"*Id del v\xEDdeo: "),a(),n(15,"p",8),d(16,"En PC para videos normales:"),a(),n(17,"p",9),d(18,"Hace falta copiar el ID del v\xEDdeo, no el enlace. El ID no contiene ni '=' ni '/', es el c\xF3digo que aparece al final en la URL."),a(),n(19,"p",9),d(20,'Por ejemplo, si la URL es: "https://www.youtube.com/watch?v=QDia3e12czc". Entonces el ID del v\xEDdeo es "QDia3e12czc".'),a(),p(21,"img",10),n(22,"p",8),d(23,"En PC para shorts:"),a(),p(24,"img",10),n(25,"p",8),d(26,"En m\xF3vil:"),a(),n(27,"p",9),d(28,"Primero hay que copiar el enlace utilizando la opci\xF3n de compartir."),a(),n(29,"div",11),p(30,"img",12),a(),n(31,"p",9),d(32,"Despu\xE9s, copiar el ID del v\xEDdeo."),a(),n(33,"p",9),d(34,'Por ejemplo, si la URL copiada desde m\xF3vil es: "https://youtu.be/QDia3e12czc?si=YagDCMWFiMe6kzUY". Entonces el ID del v\xEDdeo es "QDia3e12czc".'),a(),n(35,"div",11),p(36,"img",12),a(),n(37,"span",13),d(38,"Introduce el ID del v\xEDdeo:"),a(),p(39,"input",14),n(40,"div",15)(41,"p"),d(42,"*Short: "),a(),p(43,"input",16),a(),f(44,Yt,2,1,"p",17),n(45,"button",18),d(46," Editar V\xEDdeo "),a()()()()}if(i&2){let e=u();m(4),l("formGroup",e.videoForm),m(17),l("src","assets/tutorial/tutorial_2.png",C),m(3),l("src","assets/tutorial/tutorial_1.png",C),m(6),l("src","assets/tutorial/tutorial_3.png",C),m(6),l("src","assets/tutorial/tutorial_4.png",C),m(8),l("ngIf",e.errorActive)}}var Y=class i{constructor(r,e){this.fb=r;this.videoService=e}videoItem;isVisible;videoForm;errorMessage;errorActive;ngOnInit(){this.isVisible=!0,this.errorActive=!1,this.resetForm()}resetForm(){this.isVisible=!1,this.errorActive=!1,this.videoForm=this.fb.group({id:[this.videoItem.id],title:[this.videoItem.title,O.required],date:[this.videoItem.date],url:[this.videoItem.url,O.required],ytShort:[this.videoItem.ytShort,O.required]})}showModal(){this.isVisible=!0,document.body.style.overflow="hidden"}closeModal(){this.isVisible=!1,this.hideError(),document.body.style.overflow="",this.resetForm()}showError(r){this.errorMessage=r,this.errorActive=!0}hideError(){this.errorActive=!1}onSubmit(){return T(this,null,function*(){let r=this.videoService.formValidation(this.videoForm);if(r.isValid){let e=yield this.videoService.parseFormDataToVideoInterface(this.videoForm);this.videoService.editVideo(e,e.id),this.closeModal()}else this.showError(r.errorCode)})}static \u0275fac=function(e){return new(e||i)(b(ge),b(V))};static \u0275cmp=y({type:i,selectors:[["app-video-edit-form"]],inputs:{videoItem:"videoItem"},standalone:!1,decls:1,vars:1,consts:[["class","modal-backdrop",3,"mousedown",4,"ngIf"],[1,"modal-backdrop",3,"mousedown"],[1,"relative","bg-white","rounded-2xl","shadow-2xl","w-full","max-w-3xl","sm:max-w-4xl","md:max-w-5xl","overflow-hidden","animate-fadeIn","flex","flex-col","h-auto","max-h-[90vh]","sm:h-[85vh]","overflow-y-auto","mt-4","mb-4",3,"mousedown"],[1,"absolute","top-3","right-3","text-gray-500","hover:text-gray-800","text-3xl","font-bold","leading-none","z-10",3,"click"],["id","news_form",1,"flex","flex-col","gap-4","p-6",3,"ngSubmit","formGroup"],[1,"text-2xl","sm:text-3xl","font-extrabold","text-emerald-700","mb-8"],["type","text","formControlName","title","placeholder","T\xEDtulo del v\xEDdeo.","required","",1,"input-news"],["type","date","formControlName","date","placeholder","dd/mm/yyyy",1,"input-news"],[1,"text-lg","font-bold","text-red-600","mt-2"],[1,"text-sm","text-red-600"],[3,"src"],[1,"w-full","inline-flex","items-center","justify-center"],["width","360",3,"src"],[1,"text-sm","text-gray-600"],["type","text","formControlName","url","placeholder","Ejemplo: E4WlUXrJgy4","required","",1,"input-news"],[1,"flex","gap-5","justify-start"],["type","checkbox","formControlName","ytShort"],["id","errorMessage","class","text-sm text-red-600 mt-2",4,"ngIf"],["type","submit",1,"w-full","inline-flex","items-center","justify-center","px-4","py-2","sm:px-5","sm:py-10","text-xl","font-semibold","text-white","bg-gradient-to-r","from-emerald-600","to-cyan-600","hover:from-emerald-700","hover:to-cyan-700","rounded-lg","transition-all","duration-300","transform","hover:scale-102","hover:shadow-lg"],["id","errorMessage",1,"text-sm","text-red-600","mt-2"]],template:function(e,t){e&1&&f(0,qt,47,6,"div",0),e&2&&l("ngIf",t.isVisible)},dependencies:[E,pe,de,le,ce,me,fe,ue,he],styles:[".modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000b3;z-index:999;display:flex;justify-content:center;align-items:center;overflow:hidden}.input-news[_ngcontent-%COMP%], .input-news-high[_ngcontent-%COMP%]{border:1px solid #d1d5db;border-radius:.25rem;padding:.5rem .75rem;width:100%;box-sizing:border-box;transition:box-shadow .2s,border-color .2s}"]})};function Zt(i,r){if(i&1&&p(0,"iframe",8),i&2){let e=u(2);l("src",e.videoUrl,W)}}function Kt(i,r){if(i&1&&p(0,"iframe",9),i&2){let e=u(2);l("src",e.videoUrl,W)}}function Jt(i,r){if(i&1&&(n(0,"div"),f(1,Zt,1,1,"iframe",6)(2,Kt,1,1,"iframe",7),a()),i&2){let e=u();m(),l("ngIf",e.videoItem.ytShort),m(),l("ngIf",!e.videoItem.ytShort)}}function Xt(i,r){if(i&1&&p(0,"iframe",12),i&2){let e=u(2);l("src",e.videoUrl,W)}}function ei(i,r){if(i&1&&p(0,"iframe",13),i&2){let e=u(2);l("src",e.videoUrl,W)}}function ti(i,r){if(i&1&&(n(0,"div"),f(1,Xt,1,1,"iframe",10)(2,ei,1,1,"iframe",11),a()),i&2){let e=u();m(),l("ngIf",e.videoItem.ytShort),m(),l("ngIf",!e.videoItem.ytShort)}}function ii(i,r){if(i&1){let e=w();n(0,"div",14)(1,"button",15),_("click",function(){g(e);let o=u();return v(o.onEdit())}),d(2," Editar "),a(),n(3,"button",16),_("click",function(){g(e);let o=u();return v(o.onDelete())}),d(4," Borrar "),a()()}}var Ie=class i{constructor(r,e,t){this.domSanitizer=r;this.loginService=e;this.videoService=t}videoItem;videoEditFormRef;videoUrl;isEditVisible;isMobile;ngOnInit(){this.videoUrl=this.domSanitizer.bypassSecurityTrustResourceUrl("https://www.youtube.com/embed/"+this.videoItem.url),this.isEditVisible=this.loginService.checkPermissions("ROLE_MARKETING"),this.loginService.evento$.subscribe(r=>{this.isEditVisible=this.loginService.checkPermissions("ROLE_MARKETING")}),console.log(this.videoEditFormRef)}onDelete(){this.videoService.deleteVideo(this.videoItem.id)}onEdit(){this.videoEditFormRef.showModal()}static \u0275fac=function(e){return new(e||i)(b(se),b(ae),b(V))};static \u0275cmp=y({type:i,selectors:[["app-video-card"]],viewQuery:function(e,t){if(e&1&&A(Y,5),e&2){let o;N(o=k())&&(t.videoEditFormRef=o.first)}},inputs:{videoItem:"videoItem",isMobile:"isMobile"},standalone:!1,decls:9,vars:6,consts:[[4,"ngIf"],[1,"flex","flex-col","justify-center","items-center","h-full","mt-5","space-y-2"],[1,"text-2xl","sm:text-xl","font-extrabold","text-emerald-600","text-center","w-full","truncate","max-w-lg"],[1,"text-center","text-sm","text-gray-500"],["class","flex justify-center space-x-4",4,"ngIf"],[3,"videoItem"],["width","288","height","512","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share","referrerpolicy","strict-origin-when-cross-origin","allowfullscreen","","class","shadow-md hover:shadow-lg transition-transform duration-300","style","border:none;",3,"src",4,"ngIf"],["width","512","height","288","frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share","referrerpolicy","strict-origin-when-cross-origin","allowfullscreen","","class","shadow-md hover:shadow-lg transition-transform duration-300",3,"src",4,"ngIf"],["width","288","height","512","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share","referrerpolicy","strict-origin-when-cross-origin","allowfullscreen","",1,"shadow-md","hover:shadow-lg","transition-transform","duration-300",2,"border","none",3,"src"],["width","512","height","288","frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share","referrerpolicy","strict-origin-when-cross-origin","allowfullscreen","",1,"shadow-md","hover:shadow-lg","transition-transform","duration-300",3,"src"],["width","162","height","288","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share","referrerpolicy","strict-origin-when-cross-origin","allowfullscreen","","class","shadow-md hover:shadow-lg transition-transform duration-300","style","border:none;",3,"src",4,"ngIf"],["width","288","height","162","frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share","referrerpolicy","strict-origin-when-cross-origin","allowfullscreen","","class","shadow-md hover:shadow-lg transition-transform duration-300",3,"src",4,"ngIf"],["width","162","height","288","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share","referrerpolicy","strict-origin-when-cross-origin","allowfullscreen","",1,"shadow-md","hover:shadow-lg","transition-transform","duration-300",2,"border","none",3,"src"],["width","288","height","162","frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share","referrerpolicy","strict-origin-when-cross-origin","allowfullscreen","",1,"shadow-md","hover:shadow-lg","transition-transform","duration-300",3,"src"],[1,"flex","justify-center","space-x-4"],[1,"px-5","py-0.5","rounded-lg","text-white","font-semibold","shadow-md","bg-gradient-to-r","from-emerald-600","to-cyan-600","hover:from-emerald-700","hover:to-cyan-700","transition",3,"click"],[1,"px-5","py-0.5","rounded-lg","text-white","font-semibold","shadow-md","bg-gradient-to-r","from-red-600","to-red-800","hover:from-red-700","hover:to-red-900","transition",3,"click"]],template:function(e,t){e&1&&(f(0,Jt,3,2,"div",0)(1,ti,3,2,"div",0),n(2,"div",1)(3,"h2",2),d(4),a(),n(5,"h2",3),d(6),a(),f(7,ii,5,0,"div",4),a(),p(8,"app-video-edit-form",5)),e&2&&(l("ngIf",!t.isMobile),m(),l("ngIf",t.isMobile),m(3),oe(" ",t.videoItem.title," "),m(2),z(t.videoItem.date),m(),l("ngIf",t.isEditVisible),m(),l("videoItem",t.videoItem))},dependencies:[E,Y],encapsulation:2})};function ri(i,r){if(i&1&&(n(0,"mat-grid-tile"),p(1,"app-video-card",4),a()),i&2){let e=r.$implicit,t=u();m(),l("isMobile",t.isMobile)("videoItem",e)}}function ni(i,r){if(i&1){let e=w();n(0,"div")(1,"button",5),_("click",function(){g(e);let o=u();return v(o.toggleMoreVideos())}),d(2),n(3,"mat-icon",6),d(4),a()()()}if(i&2){let e=u();m(2),oe("",e.moreVideosVisible?"Ver menos":"Ver m\xE1s"," "),m(2),z(e.moreVideosVisible?"arrow_drop_up":"arrow_drop_down")}}function si(i,r){if(i&1&&(n(0,"mat-grid-tile"),p(1,"app-video-card",4),a()),i&2){let e=r.$implicit,t=u(2);m(),l("isMobile",t.isMobile)("videoItem",e)}}function ai(i,r){if(i&1&&(n(0,"mat-grid-list",0),f(1,si,2,2,"mat-grid-tile",1),a()),i&2){let e=u();l("cols",e.cols)("rowHeight",e.rowHeight),m(),l("ngForOf",e.moreVideos)}}var xe=class i{videoList;latestVideos=[];moreVideos=[];moreVideosVisible;cols;rowHeight;isMobile;initializeVideos(){this.latestVideos=[],this.moreVideos=[];for(let r=0;r<this.videoList.length;r++){let e=this.videoList[r];r<this.cols?this.latestVideos.push(e):this.moreVideos.push(e)}this.moreVideosVisible=!1}toggleMoreVideos(){this.moreVideosVisible=!this.moreVideosVisible}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=y({type:i,selectors:[["app-video-grid"]],inputs:{videoList:"videoList",cols:"cols",rowHeight:"rowHeight",isMobile:"isMobile"},standalone:!1,decls:4,vars:5,consts:[[3,"cols","rowHeight"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"cols","rowHeight",4,"ngIf"],[3,"isMobile","videoItem"],[1,"nav-link","text-l","font-medium","text-gray-700","hover:text-blue-600","mb-5",3,"click"],[2,"vertical-align","middle"]],template:function(e,t){e&1&&(n(0,"mat-grid-list",0),f(1,ri,2,2,"mat-grid-tile",1),a(),f(2,ni,5,2,"div",2)(3,ai,2,3,"mat-grid-list",3)),e&2&&(l("cols",t.cols)("rowHeight",t.rowHeight),m(),l("ngForOf",t.latestVideos),m(),l("ngIf",t.moreVideos.length>0),m(),l("ngIf",t.moreVideosVisible))},dependencies:[ot,E,ht,ut,wt,Ie],encapsulation:2})};var di=["shortVideoGrid"],ci=["normalVideoGrid"];function mi(i,r){if(i&1){let e=w();n(0,"button",14),_("click",function(){g(e);let o=u();return v(o.openVideoForm())}),d(1,"Subir V\xEDdeo"),a()}}function pi(i,r){if(i&1&&p(0,"app-video-grid",15,0),i&2){let e=u();l("videoList",e.shortVideoList)("cols",3)("rowHeight","1:1.5")}}function ui(i,r){if(i&1&&p(0,"app-video-grid",15,0),i&2){let e=u();l("videoList",e.shortVideoList)("cols",2)("rowHeight","1:1.5")}}function hi(i,r){if(i&1&&p(0,"app-video-grid",15,0),i&2){let e=u();l("videoList",e.shortVideoList)("cols",1)("rowHeight","1:1.75")}}function fi(i,r){if(i&1&&p(0,"app-video-grid",15,1),i&2){let e=u();l("videoList",e.normalVideoList)("cols",2)("rowHeight","1:0.65")}}function gi(i,r){if(i&1&&p(0,"app-video-grid",15,1),i&2){let e=u();l("videoList",e.normalVideoList)("cols",2)("rowHeight","1:1")}}function vi(i,r){if(i&1&&p(0,"app-video-grid",16,1),i&2){let e=u();l("videoList",e.normalVideoList)("isMobile",!0)("cols",1)("rowHeight","1:0.75")}}var Ce=class i{constructor(r,e,t){this.videoService=r;this.loginService=e;this.screenSizeService=t}shortVideoList;normalVideoList;isCreateVideoVisible;videoFormRef;shortVideoGridRef;normalVideoGridRef;screenSize;ScreenSizes=ct;ngOnInit(){this.isCreateVideoVisible=this.loginService.checkPermissions("ROLE_MARKETING"),this.loginService.evento$.subscribe(r=>{this.isCreateVideoVisible=this.loginService.checkPermissions("ROLE_MARKETING")}),this.shortVideoList=[],this.normalVideoList=[],this.videoService.getAllVideos().subscribe(r=>{console.log(r);for(let e of r.video){let t=e;this.videoService.videoList.unshift(t)}console.log(this.videoService.videoList);for(let e of this.videoService.videoList)e.ytShort?this.shortVideoList.push(e):this.normalVideoList.push(e);console.log(this.shortVideoList),this.shortVideoGridRef.initializeVideos(),this.normalVideoGridRef.initializeVideos()}),this.screenSizeService.currentScreenSize$.subscribe(r=>{this.screenSize=r})}openVideoForm(){this.videoFormRef.showModal()}static \u0275fac=function(e){return new(e||i)(b(V),b(ae),b(mt))};static \u0275cmp=y({type:i,selectors:[["app-videos-page"]],viewQuery:function(e,t){if(e&1&&(A(H,5),A(di,5),A(ci,5)),e&2){let o;N(o=k())&&(t.videoFormRef=o.first),N(o=k())&&(t.shortVideoGridRef=o.first),N(o=k())&&(t.normalVideoGridRef=o.first)}},standalone:!1,decls:25,vars:7,consts:[["shortVideoGrid",""],["normalVideoGrid",""],[1,"relative","flex","flex-col","overflow-hidden","pb-15"],[1,"sm:px-6","lg:px-8","relative","text-center","z-10","max-w-5xl","mx-auto","mt-10"],[1,"space-y-6","sm:space-y-8"],[1,"space-y-3","sm:space-y-4","stagger-appear"],[1,"text-3xl","sm:text-5xl","lg:text-6xl","font-bold","text-gray-900","leading-tight"],[1,"bg-gradient-to-r","from-emerald-600","to-cyan-600","bg-clip-text","text-transparent"],["id","open-create-news-modal","class","ml-4 inline-flex items-center justify-center px-4 py-2 sm:px-5 sm:py-1 text-sm font-semibold text-white bg-gradient-to-r from-emerald-600 to-cyan-600 hover:from-emerald-700 hover:to-cyan-700 rounded-lg transition-all duration-300 transform hover:scale-105 hover:shadow-lg",3,"click",4,"ngIf"],[1,"relative","max-w-7xl","mx-auto","px-4","py-5"],[1,"relative","mb-10"],[1,"text-3xl","font-bold","mb-5"],[3,"videoList","cols","rowHeight",4,"ngIf"],[3,"videoList","isMobile","cols","rowHeight",4,"ngIf"],["id","open-create-news-modal",1,"ml-4","inline-flex","items-center","justify-center","px-4","py-2","sm:px-5","sm:py-1","text-sm","font-semibold","text-white","bg-gradient-to-r","from-emerald-600","to-cyan-600","hover:from-emerald-700","hover:to-cyan-700","rounded-lg","transition-all","duration-300","transform","hover:scale-105","hover:shadow-lg",3,"click"],[3,"videoList","cols","rowHeight"],[3,"videoList","isMobile","cols","rowHeight"]],template:function(e,t){e&1&&(n(0,"section",2),p(1,"app-background-pattern"),n(2,"div",3)(3,"div",4)(4,"div",5)(5,"h2",6)(6,"span",7),d(7,"V\xEDdeos"),a()(),f(8,mi,2,0,"button",8),a()()()(),n(9,"section",9)(10,"div",10)(11,"h2",11)(12,"span",7),d(13,"Shorts"),a()(),f(14,pi,2,3,"app-video-grid",12)(15,ui,2,3,"app-video-grid",12)(16,hi,2,3,"app-video-grid",12),a(),n(17,"div",10)(18,"h2",11)(19,"span",7),d(20,"Otros V\xEDdeos"),a()(),f(21,fi,2,3,"app-video-grid",12)(22,gi,2,3,"app-video-grid",12)(23,vi,2,4,"app-video-grid",13),a()(),p(24,"app-video-form")),e&2&&(m(8),l("ngIf",t.isCreateVideoVisible),m(6),l("ngIf",t.screenSize==t.ScreenSizes.LAPTOP),m(),l("ngIf",t.screenSize==t.ScreenSizes.TABLET||t.screenSize==t.ScreenSizes.LANDSCAPE),m(),l("ngIf",t.screenSize==t.ScreenSizes.PORTRAIT),m(5),l("ngIf",t.screenSize==t.ScreenSizes.LAPTOP),m(),l("ngIf",t.screenSize==t.ScreenSizes.TABLET||t.screenSize==t.ScreenSizes.LANDSCAPE),m(),l("ngIf",t.screenSize==t.ScreenSizes.PORTRAIT))},dependencies:[E,dt,xe,H],encapsulation:2})};var _i=[{path:"",component:Ce}],Ee=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=R({type:i});static \u0275inj=P({imports:[Fe.forChild(_i),Fe]})};var yi=["youtubeContainer"];function Si(i,r){if(i&1){let e=w();n(0,"youtube-player-placeholder",2),_("click",function(){g(e);let o=u();return v(o._load(!0))}),a()}if(i&2){let e=u();l("videoId",e.videoId)("width",e.width)("height",e.height)("isLoading",e._isLoading)("buttonLabel",e.placeholderButtonLabel)("quality",e.placeholderImageQuality)}}var bi=(()=>{class i{videoId;width;height;isLoading;buttonLabel;quality;_getBackgroundImage(){let e;return this.quality==="low"?e=`https://i.ytimg.com/vi/${this.videoId}/hqdefault.jpg`:this.quality==="high"?e=`https://i.ytimg.com/vi/${this.videoId}/maxresdefault.jpg`:e=`https://i.ytimg.com/vi_webp/${this.videoId}/sddefault.webp`,`url(${e})`}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=y({type:i,selectors:[["youtube-player-placeholder"]],hostAttrs:[1,"youtube-player-placeholder"],hostVars:8,hostBindings:function(t,o){t&2&&(Ve("background-image",o._getBackgroundImage())("width",o.width,"px")("height",o.height,"px"),K("youtube-player-placeholder-loading",o.isLoading))},inputs:{videoId:"videoId",width:"width",height:"height",isLoading:"isLoading",buttonLabel:"buttonLabel",quality:"quality"},decls:4,vars:1,consts:[["type","button",1,"youtube-player-placeholder-button"],["height","100%","version","1.1","viewBox","0 0 68 48","focusable","false","aria-hidden","true"],["d","M66.52,7.74c-0.78-2.93-2.49-5.41-5.42-6.19C55.79,.13,34,0,34,0S12.21,.13,6.9,1.55 C3.97,2.33,2.27,4.81,1.48,7.74C0.06,13.05,0,24,0,24s0.06,10.95,1.48,16.26c0.78,2.93,2.49,5.41,5.42,6.19 C12.21,47.87,34,48,34,48s21.79-0.13,27.1-1.55c2.93-0.78,4.64-3.26,5.42-6.19C67.94,34.95,68,24,68,24S67.94,13.05,66.52,7.74z","fill","#f00"],["d","M 45,24 27,14 27,34","fill","#fff"]],template:function(t,o){t&1&&(n(0,"button",0),Ye(),n(1,"svg",1),p(2,"path",2)(3,"path",3),a()()),t&2&&Z("aria-label",o.buttonLabel)},styles:[`.youtube-player-placeholder{display:flex;align-items:center;justify-content:center;width:100%;overflow:hidden;cursor:pointer;background-color:#000;background-position:center center;background-size:cover;transition:box-shadow 300ms ease;box-shadow:inset 0 120px 90px -90px rgba(0,0,0,.8)}:fullscreen .youtube-player-placeholder{min-width:100vw;min-height:100vh}.youtube-player-placeholder-button{transition:opacity 300ms ease;-moz-appearance:none;-webkit-appearance:none;background:none;border:none;padding:0;display:flex}.youtube-player-placeholder-button svg{width:68px;height:48px}.youtube-player-placeholder-loading{box-shadow:none}.youtube-player-placeholder-loading .youtube-player-placeholder-button{opacity:0}
`],encapsulation:2,changeDetection:0})}return i})(),wi=new q("YOUTUBE_PLAYER_CONFIG"),xt=640,Ct=390;function Et(i){return i==null?i:re(i,0)}var F=function(i){return i[i.UNSTARTED=-1]="UNSTARTED",i[i.ENDED=0]="ENDED",i[i.PLAYING=1]="PLAYING",i[i.PAUSED=2]="PAUSED",i[i.BUFFERING=3]="BUFFERING",i[i.CUED=5]="CUED",i}(F||{}),Vt=(()=>{class i{_ngZone=S(We);_nonce=S(Ke,{optional:!0});_changeDetectorRef=S(it);_elementRef=S(ie);_player;_pendingPlayer;_existingApiReadyCallback;_pendingPlayerState;_destroyed=new Le;_playerChanges=new Ae(void 0);_isLoading=!1;_hasPlaceholder=!0;_isBrowser;videoId;get height(){return this._height}set height(e){this._height=e==null||isNaN(e)?Ct:e}_height=Ct;get width(){return this._width}set width(e){this._width=e==null||isNaN(e)?xt:e}_width=xt;startSeconds;endSeconds;suggestedQuality;playerVars;disableCookies=!1;loadApi;disablePlaceholder=!1;showBeforeIframeApiLoads=!1;placeholderButtonLabel;placeholderImageQuality;ready=new $e;stateChange=this._getLazyEmitter("onStateChange");error=this._getLazyEmitter("onError");apiChange=this._getLazyEmitter("onApiChange");playbackQualityChange=this._getLazyEmitter("onPlaybackQualityChange");playbackRateChange=this._getLazyEmitter("onPlaybackRateChange");youtubeContainer;constructor(){let e=S(Ze),t=S(wi,{optional:!0});this.loadApi=t?.loadApi??!0,this.disablePlaceholder=!!t?.disablePlaceholder,this.placeholderButtonLabel=t?.placeholderButtonLabel||"Play video",this.placeholderImageQuality=t?.placeholderImageQuality||"standard",this._isBrowser=nt(e)}ngAfterViewInit(){this._conditionallyLoad()}ngOnChanges(e){this._shouldRecreatePlayer(e)?this._conditionallyLoad():this._player&&((e.width||e.height)&&this._setSize(),e.suggestedQuality&&this._setQuality(),(e.startSeconds||e.endSeconds||e.suggestedQuality)&&this._cuePlayer())}ngOnDestroy(){this._pendingPlayer?.destroy(),this._player&&(this._player.destroy(),window.onYouTubeIframeAPIReady=this._existingApiReadyCallback),this._playerChanges.complete(),this._destroyed.next(),this._destroyed.complete()}playVideo(){this._player?this._player.playVideo():(this._getPendingState().playbackState=F.PLAYING,this._load(!0))}pauseVideo(){this._player?this._player.pauseVideo():this._getPendingState().playbackState=F.PAUSED}stopVideo(){this._player?this._player.stopVideo():this._getPendingState().playbackState=F.CUED}seekTo(e,t){this._player?this._player.seekTo(e,t):this._getPendingState().seek={seconds:e,allowSeekAhead:t}}mute(){this._player?this._player.mute():this._getPendingState().muted=!0}unMute(){this._player?this._player.unMute():this._getPendingState().muted=!1}isMuted(){return this._player?this._player.isMuted():this._pendingPlayerState?!!this._pendingPlayerState.muted:!1}setVolume(e){this._player?this._player.setVolume(e):this._getPendingState().volume=e}getVolume(){return this._player?this._player.getVolume():this._pendingPlayerState&&this._pendingPlayerState.volume!=null?this._pendingPlayerState.volume:0}setPlaybackRate(e){if(this._player)return this._player.setPlaybackRate(e);this._getPendingState().playbackRate=e}getPlaybackRate(){return this._player?this._player.getPlaybackRate():this._pendingPlayerState&&this._pendingPlayerState.playbackRate!=null?this._pendingPlayerState.playbackRate:0}getAvailablePlaybackRates(){return this._player?this._player.getAvailablePlaybackRates():[]}getVideoLoadedFraction(){return this._player?this._player.getVideoLoadedFraction():0}getPlayerState(){if(!(!this._isBrowser||!window.YT))return this._player?this._player.getPlayerState():this._pendingPlayerState&&this._pendingPlayerState.playbackState!=null?this._pendingPlayerState.playbackState:F.UNSTARTED}getCurrentTime(){return this._player?this._player.getCurrentTime():this._pendingPlayerState&&this._pendingPlayerState.seek?this._pendingPlayerState.seek.seconds:0}getPlaybackQuality(){return this._player?this._player.getPlaybackQuality():"default"}getAvailableQualityLevels(){return this._player?this._player.getAvailableQualityLevels():[]}getDuration(){return this._player?this._player.getDuration():0}getVideoUrl(){return this._player?this._player.getVideoUrl():""}getVideoEmbedCode(){return this._player?this._player.getVideoEmbedCode():""}requestFullscreen(e){return T(this,null,function*(){let t=this._elementRef.nativeElement;return t.requestFullscreen?t.requestFullscreen(e):Promise.reject(new Error("Fullscreen API not supported by browser."))})}_load(e){this._isBrowser&&(!window.YT||!window.YT.Player?(this.loadApi?(this._isLoading=!0,Ii(this._nonce)):this.showBeforeIframeApiLoads,this._existingApiReadyCallback=window.onYouTubeIframeAPIReady,window.onYouTubeIframeAPIReady=()=>{this._existingApiReadyCallback?.(),this._ngZone.run(()=>this._createPlayer(e))}):this._createPlayer(e))}_conditionallyLoad(){this._shouldShowPlaceholder()?this.playerVars?.autoplay===1&&this._load(!0):this._load(!1)}_shouldShowPlaceholder(){return this.disablePlaceholder?!1:this._isBrowser?this._hasPlaceholder&&!!this.videoId&&!this._player:!0}_getPendingState(){return this._pendingPlayerState||(this._pendingPlayerState={}),this._pendingPlayerState}_shouldRecreatePlayer(e){let t=e.videoId||e.playerVars||e.disableCookies||e.disablePlaceholder;return!!t&&!t.isFirstChange()}_createPlayer(e){if(this._player?.destroy(),this._pendingPlayer?.destroy(),typeof YT>"u"||!this.videoId&&!this.playerVars?.list)return;let t=this._ngZone.runOutsideAngular(()=>new YT.Player(this.youtubeContainer.nativeElement,{videoId:this.videoId,host:this.disableCookies?"https://www.youtube-nocookie.com":void 0,width:this.width,height:this.height,playerVars:e?Me(Re({},this.playerVars||{}),{autoplay:1}):this.playerVars})),o=s=>{this._ngZone.run(()=>{this._isLoading=!1,this._hasPlaceholder=!1,this._player=t,this._pendingPlayer=void 0,t.removeEventListener("onReady",o),this._playerChanges.next(t),this.ready.emit(s),this._setSize(),this._setQuality(),this._pendingPlayerState&&(this._applyPendingPlayerState(t,this._pendingPlayerState),this._pendingPlayerState=void 0);let c=t.getPlayerState();c===F.UNSTARTED||c===F.CUED||c==null?this._cuePlayer():e&&this.startSeconds&&this.startSeconds>0&&t.seekTo(this.startSeconds,!0),this._changeDetectorRef.markForCheck()})};this._pendingPlayer=t,t.addEventListener("onReady",o)}_applyPendingPlayerState(e,t){let{playbackState:o,playbackRate:s,volume:c,muted:h,seek:x}=t;switch(o){case F.PLAYING:e.playVideo();break;case F.PAUSED:e.pauseVideo();break;case F.CUED:e.stopVideo();break}s!=null&&e.setPlaybackRate(s),c!=null&&e.setVolume(c),h!=null&&(h?e.mute():e.unMute()),x!=null&&e.seekTo(x.seconds,x.allowSeekAhead)}_cuePlayer(){this._player&&this.videoId&&this._player.cueVideoById({videoId:this.videoId,startSeconds:this.startSeconds,endSeconds:this.endSeconds,suggestedQuality:this.suggestedQuality})}_setSize(){this._player?.setSize(this.width,this.height)}_setQuality(){this._player&&this.suggestedQuality&&this._player.setPlaybackQuality(this.suggestedQuality)}_getLazyEmitter(e){return this._playerChanges.pipe(Be(t=>t?ze(o=>{t.addEventListener(e,o)},o=>{try{t?.removeEventListener?.(e,o)}catch{}}):D()),t=>new De(o=>t.subscribe({next:s=>this._ngZone.run(()=>o.next(s)),error:s=>o.error(s),complete:()=>o.complete()})),Qe(this._destroyed))}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=y({type:i,selectors:[["youtube-player"]],viewQuery:function(t,o){if(t&1&&A(yi,7),t&2){let s;N(s=k())&&(o.youtubeContainer=s.first)}},inputs:{videoId:"videoId",height:[2,"height","height",re],width:[2,"width","width",re],startSeconds:[2,"startSeconds","startSeconds",Et],endSeconds:[2,"endSeconds","endSeconds",Et],suggestedQuality:"suggestedQuality",playerVars:"playerVars",disableCookies:[2,"disableCookies","disableCookies",U],loadApi:[2,"loadApi","loadApi",U],disablePlaceholder:[2,"disablePlaceholder","disablePlaceholder",U],showBeforeIframeApiLoads:[2,"showBeforeIframeApiLoads","showBeforeIframeApiLoads",U],placeholderButtonLabel:"placeholderButtonLabel",placeholderImageQuality:"placeholderImageQuality"},outputs:{ready:"ready",stateChange:"stateChange",error:"error",apiChange:"apiChange",playbackQualityChange:"playbackQualityChange",playbackRateChange:"playbackRateChange"},features:[He],decls:4,vars:3,consts:[["youtubeContainer",""],[3,"videoId","width","height","isLoading","buttonLabel","quality"],[3,"click","videoId","width","height","isLoading","buttonLabel","quality"]],template:function(t,o){t&1&&(f(0,Si,1,6,"youtube-player-placeholder",1),n(1,"div"),p(2,"div",null,0),a()),t&2&&(Xe(o._shouldShowPlaceholder()?0:-1),m(),Ve("display",o._shouldShowPlaceholder()?"none":""))},dependencies:[bi],styles:[`youtube-player:fullscreen,youtube-player:fullscreen iframe{min-width:100vw;min-height:100vh}
`],encapsulation:2,changeDetection:0})}return i})(),Pe=!1;function Ii(i){if(Pe)return;let r="https://www.youtube.com/iframe_api",e=document.createElement("script"),t=o=>{e.removeEventListener("load",t),e.removeEventListener("error",t),o.type==="error"&&(Pe=!1)};e.addEventListener("load",t),e.addEventListener("error",t),e.src=r,e.async=!0,i&&e.setAttribute("nonce",i),Pe=!0,document.body.appendChild(e)}var Ft=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=R({type:i});static \u0275inj=P({imports:[Q,Q]})}return i})();var Pt=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=R({type:i});static \u0275inj=P({imports:[rt,Ee,pt,Vt,ft,Ft,It,lt]})};export{Pt as a};
